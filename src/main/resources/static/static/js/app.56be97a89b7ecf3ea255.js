webpackJsonp([1],{"+1x3":function(e,t){},"+3VY":function(e,t){},"+rTV":function(e,t){},"+sF2":function(e,t){},"+vvk":function(e,t){},"/4kv":function(e,t){},"/uuf":function(e,t){},0:function(e,t,a){a("briU"),e.exports=a("NHnr")},"0MOI":function(e,t){},"0YOn":function(e,t){},"0uDl":function(e,t){},"1KR8":function(e,t){},"1Kos":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAYAAABxLuKEAAAgAElEQVR4Xs2cCXBcx5nff/3mngFmcN8giIvgIRKgRFIiKVGkJEoWZVtWtJZkHT7WqYo3W5vDcVKJq5JlktrEyW52XUk2cSprS9ZtyrYkW5YtyTIlniJlUbwJEiQA4iDuwcxg7nnvdap7AAgEwUtHvF2FIjh4r1/3v7/z/31vBJ/xeLJHej1xQlaAIofFEgnLhaQRwWKgHkkxAj/gnl5KFkkSwSTQj6RXCnoEnLQcnHEkiGQKiH6jUaQ/y6WLz2LyHVI6zDMUGw6qLNhgwHopWQ2UA14FgpR4hMAJXG4NUkpMIcgAWUABMYbksDTYJ3PsNwyGnEuYfEgI69Pex6cKzH/vkp4SKBewXsD9Mv9vEVAwRyI+6R4USHEgAuyX8KqE/WEY+yetQoH4qYxPBZidO6WzfxE1Tot7peBRAUunVcT1qazycpNIckrlJHQakhdyDl6v7+PCli3C/KTP/cTAPH9almFwB/AnwCoERUiMT7qw67pfYEtJVMAR2+YHBrz9aBsTIOR1zTPn4o8NzI4T0p110m4YfAvYJqFC8P8ZkHm7lmALGJOS16Xkf7uXcOQhIZTqXff4WMA8d1QWCy9fAv6ZELRJ8Fz3kz/DGwRkpOQ08H3p4ZXHGoTycNc1rg8YKcXTp1nsdPCnwGNA5XyvonRoRn7V5Or3jy3P17WVSy6WCEaQPGda/O1X2+hFXLtqXTMw26U0lp5hpS34cwR3A4H5S1GTpS2ImmBJKHRCwAHimp/yyZC4zN0JIXjTtvkPXa0c3S6EfS1PuaYlK1CauljrEPxnAbcCC3qbqRwcikJ/CmwJJW5YHYJaFblc05OuZckf65qchD2W5N90t/L+tYBz1eVu3y6NpkdZ6zT4SyQbAMdCkpKVcDgKJ2N5DFwGJE2o9sLmcihw5sH6Aw4LwT7T5l92P8/727dfWXKuDIyU4rku2oXgr4FNC4GiNmoISJjw1ihM5uCmIih2wTvjeZW6twoq3H8wWzP3LFSEvEtKvv1YK0euZHOuCMxzZ2STYfDX0uY+8uH7gkMBo6Rj1zgMpqGlAIJO+DAKLgH3VULx3w9g1OmYwuBXts23H1siui+3p8sCs6NflphpvovkW4hLDe3cCdUkSjLOJeCDCKSsvMFVgDX7YW0xeIy8xKhr9UPnPHnGOEsViEyrm75u5mI57d0+LVWUJBD8H6eXv3ioXoQXAmdBYFTwZnp5DMlfIKm+VruQs6E3CT1JUL/XeKGtAAqUqZ7etIrVFYgf2RuJNG2QNk6ngdvlwGGAaakfW32sQTQMgdMh9N/0XOqWa13YwtcNY/BdZ5rnHlpxaRB4KTBSihe6uUna/Ai44Xr9idqwcgHq9F0OcBuQtSFjQTgLoxmI5CCpNq72mDVJnrmASKQoLwvQujhEqMDF6GSG0YkU6bSJ4TDw+51UlfgoLXLjdjvweJw4RB6gaxkzMdWcaxWuJ4TkH36llYPz7c0lwPzokCz3FvI94PGPkxHPqIBSo5wlmYhm6I6YDDp8TCmHJqfVTCHuACuRIbzrFJmJKQwD3E4Dh8tBLmth2XJWKpSgOAyBp9BLVUMxK9rKqK30E/DmTZ86iCsNdWBqTfNGDvgJDr7zaJMYmW8eZv+/fad0ttXzoJR8H6i6lpNYUD8FZE2bU+ciHNh7nmgiR3B9G0XVISo9UOzMS5JURjtrMzwQZaQ/QnQkRmYyjm3ZONxOHAU+DK9bi4WdyWFOpbTaGVLi9TqpbS1j/Zpaqit8OIRYEByltiOZfOCpQgffJcEGowK+E4vy4j9aIxRQelyE4QtnZb2U/BjB7R83Q1YG07QlR09NsPedc4QnkpRXB1m3tY0ldQV68eMZ6Evl/1VqZipGyrSxchZWIo3M5DQowuNEaAssUayVzFjkxmKkB8bJDkfAsiitDLLhtgaWNRdrGzRXcpSUqSj8jRFI2XBzMbQE0Co4K2ACG8kuM8vXvrpC9F0CjDK4OTdPCMl/RVDycaRFo2xIzg8meP21TsZH4tS3lHHH5sXUVPiJ5AyOTcGFdP4E1WnOHI/a/zQGeb1YQO61yiiDnDXJjURJnuwnMxaluKyATXc2s6KlWBvpGXAUMFMWvD2at2nrSqDRl5/6Is2ThKXgX7myPDNjiGcl5tkuWSckTwnBFrW9jwOMshGJlMmv3urh9NELlNeE+MJ9S6ip9NGXEPx+EiZyH9kDDcb1PmjGhdsSczJB4nAPqYEJKmpDfOGLS6ku8yKVjk4PZVviZt4hqNxNqfACQ/E5O6Xg64+3ioFZVVK2pbWOBwT8T6Dietc6e72Q9A7EeeVnxzGzNnfd10bH8lJG0oI943lQ1JIvIwzX91gNkMQcjxM7cAYrkmDZmjo+t2kRfq8Ta463moHpKvZ51LL4s3ND/Hz7FmHqe3ackCU5F/9NwKOIWbb+uhaqpCWVtXj3wBCH9vZQXh3iKw8uxRVw87sR6E/mxfdTAWWOIZDSJtM9SuxgF4UFbv7o4ZXaW+n4Z4b2uJaAR6LSveddOf7FQytEWAPzbJdcLuAVAS3XGrfMRLZKBNTvDgdEp3L85NUuhnvDrLp5EZvX13IhI9g7aeg45rpBudpRGyAMsKYyRN49gYglWHN7Mzd3lONSSaut1mXgUou7KKhc8MyVaTor4UuPt4qTYmeP9F6w+KqA72kC+ypDb067Y0k2Z2HnLO0x1LOn4jl++nInmUSWLduW4vY4OTGSIVpajHC7rsueaC+UMxGGQKhdzhz/zPqkxErmiwKG20nyRB+prguU1AdZ0uxDhY+2LSkKBlhUXUqwwIvH5bxyQJgn1v91jYOnxfPdslJY/LUt+bIQC/MsM2tR6pLJ2cSmsnT1xeg9HyE6GsdMZjCcBobXRXh4ilDQwz2fX8be/X0MjSQoXNuCp7b0WoVRA29Gk6RO9GH4PXibq3AUeD9yJwbYU2mm9nUibUnhxmWYE1PE3+9COAVOO4dSMe3cEBQUuVnWUUr70jpCBT5sxQwvMKQkZwhekg6+LabV6CUByy63ci0kBkRiWT44OU7n0WGmJpN5DRaKohc6WFOnq06xrNTP5+5r4/XXTjMRTlK4rI5A+2KExwVXC+GVK7Vt0meGSBzpxsrZeCqL8LVW46oMIdwOpC3I9o0RP3AG4XRQdM9q7FSW2J6TCEPiKXfi8BpICzLhHLlYVqcnDW1BNm1ooaqsUM+xgOlRH52y4cvixS55vw3/C6hZCMWZ2GRoNM3OXefpOzuObdsEi3wU1hThrQiR9HpJm5LcaJT4sfMECz2s3djAwV3dRMNJnIVeCtqbcC8qw/A4P+I6569MP0xihpPED57R83m8Th1F28LAVRzAXVmkJSfTO4o1GdeSFLqjHTtrEtt1XEfKwU1LcRS48gY4m8Pq6yd2ahwrlaO+NchdW9qoLr8sOBcM+MfihS75XQnfgUvtSz7OkAyMpnjzt+cY6J4g4HeztKOGxUsrOGu7mTAd2CqoAnLjcaK/O4LHIWhcWUPP8SHSSVWKBuFy4G2o0D+OkIqyDC1hM4SwsinKx5qRJMmTfaQHw5RVFrJ2QwO9fREunB0nncqhaDjt3aTEzpkYAS/BTTcgszmm9p7CUegnuGUFht8NipZSjzAzmMPDTB0aIBvL0LyiiHvuaKM46F9IrSYF/JV44ax8EslDEl1Yv2gomxKOZPjVm930dI5QXOpnw+2N1C4u4VjKoV2wohdmVM2KJIm8dRjDNCleVEpsOEawKojH7WC8L0wqZYLToSXIGfLh8HtnDaudzmJGE2Qn4jolCJX6WX9bI6uWlWFZFmPhDGd6owwNTWm74vO5OH9qWLNOwU0rsKZSJD44i7MsSOH6NgyfyrGmt6PAkSbW8AjRA93IjMmNG6u4bV0zXrf7IoMsIYlkh3i+S/4OyW3zGTp1mFlLsv/kJPvf7MTjMrjz7lZaWko4kRAci+RBmXXBym1GkkR/ewQ7lcFZ4EWaFivW1LO2o5LzA1McPzaswVKqodKBfGlFzHorY5qTKastYs2aWloagvq5CngVwSrDb5pW3gOq0OC5o8SyNkW3LSc3GiF9ehD3onICq5u0p7rIiChw7Cxmdw/h3w8RLHRz/4NLqasq1vZmdkhMKditgDnBAoZXXTqWhTfOJgmfGaKjIcjNK0uJSUPnHtFcHpTZKZWniKW0xFjxNFIRS24n7esXs+WWGp3gJZM5IlNZ+oeTmmtJJTKajFLQuNxOioq9NFQXUFPhI+B3YczLmGc0z+mCcDjNUz88RCwrCd28hMz5UXLDEXw3LMK3pEYb5UtcvCGRySTx/cfIjaXo2FDB5puX4HG75kqNNsAKmKH5FIParGb9I3A8JqlyWtxeYeB1GTrfORFTGfG8gM2Rd6FKYpSrVbM7PS7aNyxm87oa/MpLqCBL2SIzn02rOGPmWFUWrYMxp4FTgTxNdi3kEJxOmJxM8/STeWAKVzeSPjWAnc4R3LgMV02xtl1KYpU71bZMDZ2om9i9PUwcHKS8wsNDD3ZQFPKpRH3uGBbPdUlVDA/O/VTNoxKvX49A3IKNZdDmz3/2xiiMZfI286JoQG0mkSG28xi5cFyD4PQ4Z4HxeozZU5nJpOdHE+oe/XOVIPMiYNI2gbYa0l0XEG4noTvbcRb5sBJZMn3j2ta4a4oR09Gvyv7l1BTht47htS0+/9BSmurKENKYfa6EmJIYFZCoUHF2qAWPKjUay1fWtimW3wWDKXh7LA+W5l7z3jU/FDDJDLHdJzFHo1oa5krMXGCusu+r/nkGmGd+/CGRqRzeyiC5iTie6mIK1i/Rp6biIBUNay91+3IdKGpxVQRZOk3ywBHM0RTrttRw86pGPE7X3LpX6hJgFCjKMJ6JWrw3alIecHJXtQOvAV0J2B9BxyxCpa8KFIeRJ5NUOpLOMbXvNNnBCc3CffbAHGYyksalYyPwLavHXVtKpn+M5OlBbeuchT5Cm1bgqlL9S9MHaWYxO08x1TlJ66oi7tm0DL/XM9fOpC5RJaVGqZzNOx+McPLoEEtW17F1dTlul+DIpOTQaI7UZBIrHFfGAkdpIe7qYh2K2/GM5keUIbRzNk6vi44Njdy+rprPRGKePszkRBKHQ2B43Lgqi8hGE8h4Bq9LGXSDeMLEXV9KoL0RI+DRRllYOazz3Ux+MER9Y4D7711Jod87S1XMqNJFxlepyFQyx8u/PsdA1xg3rGtg6611ilzk3RMRjh++oFkzh0ryLImhotrVzTo3yQ1FNHmUnYghcxYev4t1tzdzy+pKPE7jUyvRzqrSM0eZnEho8lx4XYichVtIyisKWNlRrXnhd3d2MzaRwl0exFtXhqu2FGfQjRwZZGJPLxUVbr784GpChd65Bnj4Enedpw+y/OTlTiaGYtyyuYW1K8vpPDHCnr19JOMZnSQWFXkZHMjHJE6/B1uZdUvi9LvxFHhITMRxCcGtd7Zw46oKXPP42KsakitcoDzxZDTNs88f18D4Swt1fGOkMqxdW0d7RxXBYD5wO905znv7+hgfT2oT4ywpJLR5GSRjjL/dSUnIyaOP3EgoNAvMrLu+KMDTwMQyPPviceKRFFs/v5zFNQF+9pNjDF2IsaihiDu3tuhSx093nCAymcLlMvB6HKQylj6tdRsa2LX7PMmpNLdvbeXGlZ8FMBmefv4YyViaFTfWkoqk6O8Jc8OqKjZvacTjcWhgVF43Nppkz+5eujpHIeCjdNtqRC7J2BsnKPI7eOyJGykOeXWRT6VqOsCbnxLMnMaPf3yETNrkgYdXURZy8cxTHxKNpvWD77uvRXudV145Q1/PJKVlfg3I2bPjtC0pY90ti9jx85M6A7/97iWfHTDPHSM1lea2O1vwCKnVprKqkPu/tJSCArdWDXWASprePzDInl09WF4vJds6EJmEBibkd/D4HGBmU4L5SeSM/j715Ic6CHv0ax0E/Q6e+lHeA6xaVcXWu5vx+ZxcuBCn+1xYi2E8nmH/vn6amotZv3ExP3vlVB6YrUs+I1XK8PRzx0jH02y8owWRzbF/bx+1dUE+/4W2WWCUw8zlLD48NMTud7rJud2UbF2JkFnG3zh+CTBAPomcTzvMAPPkDw/pVsjHv74aA5sXnj1GbCrD6tU1bLmjEZ/fhW3lI1hVshjoj/HKyyf17zevr+fgh8NazDdsbmbdp218HRCJZvjxM0dIJ3OsXFPHYPcE4fEE6zcsYu26ullVmgHm0AcX2LOrl4wpCbRV46n2M7mvh5DfuEhigDztoIgqA16ayZdmJeaHh7CkZOvnlnD2zDidJ0cxHIK16+rZsKFeW3ylw4rA0v0xiRzv7uzh2LERHYLbbpd25zfcVM8dG2vxTev8JzG6M/cq9RgdS/Li80eJxTL4gx7S8Qw1NYVsu6+N8nL/bAnlImB2nyedzuHyOfFU+kgMJigpcvPYY6tnjO9HRNV8anM23H7qkI4BqmpDjI9MaXujDJo6jfUb6nVRfW5BXfX9qfxl/74+zpwNk3E4seNp6peU88C9zRT6XReVND4uQHqjluTDY6PsfvuszrhVzFJVVciGjQ0sWhS6qOg2HxjTNPMxldcmFZGUV/l45KEOQkEvpjmH2pxPhs8A8+yzRwmHk3gCHpxWnlhWofZNa+rYsPFSYHSOJtBk0sCFOAeOjtLXO0nZ4lIevqeRosDFtZ6PC4zymqqo9+ob3Zw7MUJQVSHXVdPUVERBgeqqvTgDuxiYXk1zqdglamaIjdlUL/Lz4P3t+TjGnkOGqwXOLZ84HAjlrp/fcZKxoRjeoI9Cp0U6kcO0BTeurWPjZYDRKZPKmWxJz1CSN09FNTG1qTHA0rrARSf58YGRDI+leelnJ4hOJDXfs/W2eoIBp3a387selKpnMxYf/H6QfXv7MHMWvoCBKLRIhiUNrYV84e4bKAx4VTL+UflELXBuwc3hxB1TZZDXuhjqmcBV6MOOp3RuJByC9o4aNt3egNd7EYdx0T519JyxeXXfML2H+6muLuBL97ZQWuSZn95fFz4K9GTG4nd7+jlyoA9/gZt/8OAKGmpVs8DC3Q7qHtVjs+udXg5/eEF7KIfPgTsoMeOwcl0Jm9e14XO7s5Y9r+A2t0RrGFQk0xZv7unn9IeDuAIeVWIklchiOGDJknLuva+VQCAfJyw0ZjoeDp0Y553fdGJZkjUbF3Pr2hoCvo+nUvl2NMnp7ii/+fUZpiIp2tpruO+uRgquMGee7cvw8s9O0tcXxfC58JZ6yIwndC/O5+5voW1xJYYwRk1zXol2Wp10Ud8w2GLZ0jjeNclbr51CGAZL2soZGYgwMjKlA7lHHlmp2bbLATOjUtGpDK+91cO548MUFvu4c9syljcW4lJllquVUeYgrk5dgTIwnOTXb55j6HxYt5Z88QttuotC1W4W4nB0tVR1X5yP6Xp6LG1T0FyKkY0z1ZdgUUsh929bQbDQZ1vmAkX9aXWabQNxOCmZjGZ46eedjAxGdUWgua6Q9/b0Ypk2W+9pZeWqCoTIs3ILSo22xpKhsSS/ebOb0SmTqnVN3FTtpqnYpU9ZjSsBpABRm1Oe58Jwgrff7WWwO0ww5OXWLU2sXlGmG4Yu1z8840jefOMsXWcmcPgNAvUBpnrjeN2Cu7Y1sby5CgNH2OYybSBqkU+fkIucbi01t5uWNJQq7H67C9OULFpSTngwQmQiSWVVAQ88sJyKSr9ycZcFR9kalZWfOBdl77BJtiCAcX6EGh/c0lFBUdCj++lmSa85CCu8s1mbeDLH8c4Jjh0dYnI0rvvx6hpLueeOBqqUtCDyjYoz3Z5aSvISFolk+P3BQVRwl7MsXAUOcikLl0uwen0FG29qwufxqHTq8o1Daipla5bW80cS/kbxwImMya73hjj2fp+WFF/QSyqaQpGA7e3VrLuljuISLw4jLzlzF6dO2rJtxkeT7NzZS380i7OqhGT3CDKVJlRWQN3iEtqXllJS7MnXqJUzlapuAKmMybHTk5w7O0F4KEomY2ly3XA5MSyTmho/mzc1U1buw+Vy6o5PNVQkrnIjFVPt2t3D+e6IBljFWdIAv8/BirUlbLhJxVZeVUUdFfIqrWZapbpkuSn5LwgeMwzcqn9u7/vDdB4eIJXM6SK+JuwMg9LyABtvbWBRfVCTQkb+qHRGm81a9JyP8t6+fsZH87Ug4XHrsorDNEknsnqegM+FJ+jVpJbhUBmxjaU6puJp4vGs3qjX58RfHCCXypBNZcmmTJ2OhEI+6uqDNDeX6ORRzTc+ltBg9vdHNThKYtXaFANQVO6h/cZKlrdUEfApxk733F29OVHvSkrx7BnWGAZPCsFyIRDKS53uiXLkyBCR4Zh2efona1EQcFNS6qeqqoDiElUwl0QjaYaHppgIp0jEszhdDlwuB26Pg6rmMhobiugbiDE2GCU2kdAlFC3/Mx3SMv+KXCDopaQ6qDs062r8DE1McGE4ythAmuhYjmRCFe9lXh2n9dGy8oeiVEy1wPpDDkpr3dTWFNFUW6EjXKdyr6qtD06akm9+9VraWRU2r3dJT1jyDUOwXb2TpHIh1XCYTOWYjGa5MJ5idCjGaF+YaCRDNmvqhakEMi8xErVAteCCQi9FVYU6tVDxRmWxVwOUSFsMDcXZe3CQ8XAKv89FYchLJmMSnUzh97q4eU0N9fVBioNuXX4xLUvbCtWtNT6a4eCBfs6dC+tDUs9W3LN6rlpLQ0MR626up6rGj8sttDS6DOdclR9B8OdFkqe2LfCS6WVb4H7UJcu9kn8rDb4pJP6868tbRwWSyp0ik2mOHh7i5MlRXX5Veq4mzJm2zquWr6igvaOaUJEPj9ehXb/yIJMmdA2mOPa700RGYjoLbW0t5bZNizl3Nsz+fee1TfP43JTVhli6tIzm+kJNdajmxFg0w5nTE3kJjqQ156scguJgzvdGdEBXWOhhxQ2VLF9eQWmpOox8B6g21IKksPlhWvAf/7hVjF3Wqy7scOHFLtlso9882aZYwTzpY2tbMzAQo/PUGD09k3ohCpS6upC2+L29EX2KKgNvai5lmVpcmZ/+sTQDOYPJwkLSkRTx904j4ynMrMWy5eXceVcLp06NsOvdXuR0FTKTs3A6DIorC6muD+na1YWBWD7g1Jm9IJ21qKkJEgp5ONs1MbsdtVaV7CrW8YYbKqlfFFJ1dHWurxvw7UdaxbnL7f3KTZMfvZbzN8LgtmQi51BgnDg+ojlUy7T0SagC+1Q8Q11tCKfL0KfmD7h0jpIxbdxBvy70Z5NZ7KIAZbcto7bIRY2VIXxujA8O9NPYXMLWu1u09Cmmraa2iOYVVZzrneRC94Q+jJluLul2Uxb0sLq9QhPyu/f06kNQZd3wRIqV7VWaeujsHNMSqIyJkqA16+qs1R3Vu90Fzn/+2OJP8FqOduHbpdH2NdYmY5m/2v/e4Pqjhy84lEFVteaO1dUsX17OyEiC3bt69GdK17PpHOs3NuD0udl/YIDwyJRuiFMGuGlVDes3LaYq6NKtHCePjfDbN89SWxtkyx1Nmrw++P4Ara1l3HV3M4ZTMDaR5vDxMU5+MICZMZEOg1BpQF9fUujmV784xcSEqhvmAbjnc62aSezvi/KqYhKnMkrFrWDIs/+OO5q/4zhc+Qlf5JqWM/XqX/LnI+t2/e7cf0omc7dalu1S0efDqkOytoDBwTiv/bJzdnFlZQG9ecWZ9J+bwOkU5NKmZv3uf2A5jQ0hre/Ko6hw/RevntSuWd2nNqFc9oaNizTj7/U6dLfWyGiSF545ov8eKPKRiGd0erL5zhay8TRnOse0bWtqKuaGlZUEAi4GB6fY8eIx5QxylVUFe0aG4t+9t3Ljwau93aaD9svp2PzPleS8ObpvVVV98N/1ngvf7fE6A48/0UF5hZ9MxmagP0pPT0TrfXVtkPOjKQ7t68Xnc9Oxto6jB1WQaPHwI6s006Y8tA730yYHDw5w9MiwtlXKkCqPcvuWJkpK8s3MKrRXIcCPpunWzVtb+eDDIYb6IrTcUKUTSVWMVLSDkkr1o+YeHIzx0o4TCUMYb228re7f/+XJvzvK9u3XlKVdMzB5oKT4ztPnF+/c0/+nLrfjsSee6KgsK/cJ3ZmgOrWne1cSKYsXf9rJ+FCU1RsbuXF5GS/vOKbd/cOPKCkLzmH/pI47JiZSmlB3u526hy+gX3LKL28uD63+/9gTHQyHM/z61ZPapj30aDuN9SqZnH6PSXViGMi+vvjIT3ccf85MZf/24P/d9Nm8XjxXglY+urs4VOF64JFHVv7TklKffiF9pu9XxU7DwymefeawVpVHnujQTPwzTx3RYf6lwHz0JpuKZpWK5cmuj544Fxg159e/sVp3Ujz7giKrEtyypZmVS4p01j6dlmRdLuN0fMr8/o5fnHt5z/dWfcYvpM9BZ8X2E+7Hb61r93jEn6RSuW22JcsRynsKRibS+s0Tr9/NN/+4XZ/7U08eIX0ZYGamVeAulK1fAszXV+MNuHSz9YXuMN5iP45MRnUz2C6nGJNCvB4Ken+w5qH2w9sXeHvtWszHdarS/Cml2P7LodJ33h28K53OfgspV5kWRaoem55KU1zi5xvfWKVveupHFwOjOirnvHxyxbUqYMKTaVRJZ0ZivH4XO35xVpdNXAVeSSoTsbLW0Uwu9wPLdPz2zAtbVEBztVabyz73EwIzPe/mnc6mcrPG7zHu8xZ4HjG8jmXJSKaouMTn+vo31BeEzAHmK6uoq1WtpPl7dfvbVZY/KzF/9xEwHiUxr3TlhnvDkYa2ylMNVf4Xk6ns6+cGzg++s33LH/5rUuZCfu+fdXlu/HxJRTZlbfjt66e/6HI7btn2xWVF2LLgjdc73bmMifIotY0lODwubNNGSZZ6getK/lHlPvGpDG++dkrRBNl7Pr8s7vE5Iu/sHXhvYnDiF8tW1e4rb2we/R/b/p59sc4lrn2ndP7yhXeKslmzOlhcsNG25C2pVLYDi3Kv316DdjMAAACXSURBVO31NZR5/KsWu3PjU874oXNC9c5d+gaG+oIKaSJEVnl1pJ1OJXPqq5iOBAo8+x0+196EydAHH0xFeOeTS8j8PXw6qnQFC7F4806vqLZChT5vEba5RDrEcm9LdVOwo6khMxKtjx44XWKlMgFDCOd076J6cyKOZAohByTivJDqxXF50mE4z1h2LpqASO9TWz7TL+/6f+Kl3IYL565RAAAAAElFTkSuQmCC"},"1sjK":function(e,t){},"25iv":function(e,t){},"2HpU":function(e,t){},"2NkV":function(e,t){},"2xZa":function(e,t){},"2zeT":function(e,t){},"4ABJ":function(e,t){},"5mYX":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAPsAAAAbCAMAAACN6AkWAAAAM1BMVEUAAAAYkP8YkP8YkP8YkP8YkP8YkP8YkP8YkP8YkP8YkP8YkP8YkP8YkP8YkP8YkP8YkP8qnLmLAAAAEHRSTlMAv0CAEO8wIN/PUK9gcJ+PhB3ZmQAAA9FJREFUWMPVmEuioyAQRSmKP6J3/6vtIJp6QtRO9yB5Z6J8w5GCoOqBL3wkqRFvlz7L6YZ73Be35bHZixfqWIz6NiYM0DhKDerVsaMf99bVhxgA3sstOmqdDuPVJ/HAwpUZgRsRixQX7kons4070wrwEHgUTxlAkHn3uiMjq45s1Scp4H5mDZ5DchYDwR0DItYLAbCzVhcYoM8iqE/C0ENUPwdpLDJ3EOg4/GmtGRHWXuakzvhd7hPi2CLAtQaVCWHfDDF7DkA+2+vo69yXK3cGjy2otShoTIflESdzutd9nTtduecLd9emUhZAAqKTal73fKE7NSLsEJyE9NJdggaBntgWBL9nvRNeIZpX7hN6rPtd7rpREIfgtK/cI/Rz1id9YN7lC05Il+7s5dJWzbZ+JmZOW9ZhSIdA09rL0WuraFJNuENto1tNgjpf70DSPYzQOo+ww4qYEU298r+5k5aLi5Yo2nUnsbS5gx78PF5DbtlGCsE1yVDX4ly1qBYFI7VNrr3UrcmGK3ehj2sPkGeLA7OP++5ojLpaOPfuxBJp5aBq4vTCnddxFWuqi20dPd2xSG2azd6Yzt09wAPJNLdc1IIeMvuh1tqpd/fZ+r93h2Sju5vyi6LQQmp9LnNTFXeC22t7GHXpLufVKyyOW5sJkjED5A7ubPGOe3Cn7ppOixSz9CPuvKwm6BrH071OHsf9xj2Gtw5oKQKZllzMGzE/2elMkOfeWJRSbrmduwm85TNL44v/uOlf3AUOmztCygD5d9Z7ld+nD1SZt8Gbyepzd02S68VdJXhxb2UG4fxsw+B/iPlRMKLqv7XXVQzbbFbB5zcSVGJS9+7tVtxVJnFvv6HBZ+v93p3Rk/sKZQ2GAszv7fMNH/MY83FWF+6pXq0Z3Y0ta+2y/JX7jKIuSZkOHKvrAJvaQtAWZN53Vx5+cHfQ6navG91Vsh57xr07Qd+4HwLZsPmZWgDyey8+Irhb94XXltaLkR4FOar7/7jRXVGW/7j/d4f9aTsjSSLZOunSi5lhpzt3b9koF2XltKNKLkfVWMT42SdHX5/edrZJL9y9RXsE5tzdI+wnd3ftnvFDxwDmeU/AbI7nfwb4xl25bPdvfjkShTaZbj2hlqe7C9IgPr8hLCCy25miBEtks7hvT7IdsRCpqjFK5144gGX+T2ln+6ifLKB6Ma2z0ISdZlgJhfnKffwG7uW+deyHWmfvMn5P+B8HbCNjl09WDxxyGzVA5t694ITQejPyIXuSSQrf9A67708y3MJp3MpGHJ3Ah+4zzVqSX/b+/lFcUp/jD4TSOyaHGP3QAAAAAElFTkSuQmCC"},"66g4":function(e,t){},"6oVw":function(e,t){},"7JAn":function(e,t){},"7Jsk":function(e,t){},"7OtF":function(e,t){},"8Q+m":function(e,t){},"8tLn":function(e,t){},"9Oht":function(e,t){},"9cnj":function(e,t){},"A/54":function(e,t){},AICY:function(e,t){},Cair:function(e,t){},CavS:function(e,t){},DXIQ:function(e,t){},E40r:function(e,t){},EJEW:function(e,t){},EvJP:function(e,t){},FA56:function(e,t){},FWK1:function(e,t){},Fzdt:function(e,t){},G83a:function(e,t){},GY2Z:function(e,t){},Glaw:function(e,t){},HNIz:function(e,t){},HwCO:function(e,t){},"I/yN":function(e,t){},I2rX:function(e,t){},I5cf:function(e,t){},Ii3c:function(e,t){},IqPO:function(e,t){},J2GS:function(e,t){},J5XV:function(e,t){},JKkS:function(e,t){},KkRl:function(e,t){},KqwR:function(e,t){},L0Id:function(e,t){},L6rZ:function(e,t){},LH6u:function(e,t){},Lum2:function(e,t){},MJt7:function(e,t){},MnoL:function(e,t){},Mx7b:function(e,t){},NH8t:function(e,t){},NHnr:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("xd7I"),r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticStyle:{height:"100%"},attrs:{id:"newApp"}},[t("router-view")],1)},staticRenderFns:[]};var s=a("C7Lr")({data:function(){return{}},methods:{},created:function(){}},r,!1,function(e){a("kG65"),a("ntgo")},null,null).exports,n=a("3XdE"),i={render:function(){var e=this.$createElement;return(this._self._c||e)("router-view")},staticRenderFns:[]},l=a("C7Lr")({created:function(){}},i,!1,null,null,null).exports,c=a("3cXf"),d=a.n(c),u=a("qqHy"),h=a.n(u),m={name:"common-menu",data:function(){return{pageIndex:0,prevDisabled:!1,nextDisabled:!1}},computed:{menuData:function(){return this.$store.getters.menuData},openMenu:function(){return this.$store.state.openMenu},selected:{get:function(){return this.$store.state.menuActiveIndex},set:function(e){this.$store.commit("updateMenuActiveIndex",e)}}},watch:{openMenu:function(e){this.initMenu(e)}},mounted:function(){},methods:{changeTab:function(e,t){this.selected=t},closeMenu:function(){this.$store.commit("updateOpenMenu",!1)},changeRouter:function(e){var t={};"DyRFAssignLead"===name&&(t={isAssignLead:!0}),this.$router.push({name:e.url,query:t}),this.$store.commit("updateOpenMenu",!1)},initMenu:function(e){setTimeout(function(){h()(".common-menu-wrapper .tabsColumn").css({height:"320px",transition:"height linear .3s"}),h()(".common-menu-main").css({height:"320px",transition:"height linear .3s"}),h()(".page-menu").css({height:"315px",transition:"height linear .3s"})},10)}}},f={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.openMenu?a("div",{staticClass:"common-menu-wrapper"},[a("commonTablistY",{staticClass:"common-menu-main",attrs:{height:320,options:e.menuData},on:{change:e.changeTab},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}},[a("ul",{staticClass:"page-menu",attrs:{slot:"components"},slot:"components"},[e._l(e.menuData[e.selected].children,function(t){return a("li",{key:t.routerName,staticClass:"itemMenu left",on:{click:function(a){return e.changeRouter(t)}}},[a("div",{class:["menuIcon","iconfont",t.icon,t.color],style:{"background-color":t.color}},[e._v(e._s(t.iconText))]),e._v(" "),a("div",{staticClass:"menuName"},[e._v(e._s(t.name))])])}),e._v(" "),a("li",{staticClass:"clearfloat"})],2)]),e._v(" "),e.openMenu?a("div",{staticClass:"page-bg",on:{click:e.closeMenu}}):e._e()],1):e._e()},staticRenderFns:[]};var p=a("C7Lr")(m,f,!1,function(e){a("G83a")},null,null).exports,g={name:"commonHeader",components:{commonMenu:p},data:function(){return{dropData:[{icon:"el-icon-refresh",text:"清除缓存",event:"refreshLocal"},{icon:"icon iconfont icon-homeclose",text:"退出账号",event:"logOut"}]}},computed:{appInfo:function(){return this.$store.getters.appInfo},headMenuIndex:function(){return this.$store.state.headerMenuIndex},headMenuList:function(){return[{eName:"toggleMenu",text:"菜单",icon:"iconfont icon-mulu"},{eName:"goHome",text:"首页",icon:"iconfont icon-zhuye"}]},nickName:function(){return localStorage[this.$store.state.systemPrefix+"userName"]}},mounted:function(){},watch:{},methods:{runClick:function(e,t){this.$store.commit("updateHeaderMenuIndex",t),this[e]()},shrinkMenu:function(){this.$store.commit("toggleShrinkMenu")},toggleMenu:function(){this.$store.commit("toggleOpenMenu")},goHome:function(){this.$store.commit("updateOpenMenu",!1),sessionStorage[this.$store.state.systemPrefix+"useHome"]?this.$router.push({name:sessionStorage[this.$store.state.systemPrefix+"useHome"]}):this.$router.push({name:"Home"})},dropClick:function(e){this[e]()},logOut:function(){var e=this;this.$showConfirm("确定退出当前账户？",function(){sessionStorage.clear(),void 0!==localStorage[e.$store.state.systemPrefix+"isContactInfo"]&&localStorage.removeItem(e.$store.state.systemPrefix+"isContactInfo"),void 0!==localStorage[e.$store.state.systemPrefix+"userMenu"]&&localStorage.removeItem(e.$store.state.systemPrefix+"userMenu"),window.timer&&window.clearInterval(timer),e.$router.push({name:"AccessLogin"})})},refreshLocal:function(){var e=this;this.$store.state.refreshLocal.forEach(function(t){var a=e.$store.state.systemPrefix+t;void 0!==localStorage[a]&&localStorage.removeItem(a)}),this.$router.go(0)}}},v={render:function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{staticClass:"common-header-wrapper"},[o("div",{staticClass:"common-header"},[o("div",{staticClass:"left-wrapper"},[o("span",{class:["logoIcon iconfont",e.appInfo.appIcon]}),e._v(" "),o("span",{staticClass:"header-logo-title"},[e._v(e._s(e.appInfo.appName))])]),e._v(" "),o("div",{staticClass:"right-wrapper"},[o("div",{staticClass:"common-header-menu"},e._l(e.headMenuList,function(t,a){return o("span",{key:a,class:["iconBtn",{active:a===e.headMenuIndex}],on:{click:function(o){return e.runClick(t.eName,a)}}},[o("i",{class:t.icon}),e._v(" "),o("span",{staticClass:"iconTitle"},[e._v(e._s(t.text))])])}),0),e._v(" "),o("div",{staticClass:"common-header-user"},[o("formDropDown",{staticClass:"userDrop",attrs:{trigger:"click",type:"text",title:e.nickName},on:{click:e.dropClick}},[o("img",{staticClass:"userImg",attrs:{slot:"left",src:a("1Kos")},slot:"left"}),e._v(" "),e._l(e.dropData,function(t,a){return o("el-dropdown-item",{key:a,class:{last:e.dropData.length-1===a},attrs:{slot:"dropdown",command:t.event},slot:"dropdown"},[o("span",{class:t.icon}),e._v("\n                        "+e._s(t.text)+"\n                    ")])})],2)],1)])])])},staticRenderFns:[]};var b=a("C7Lr")(g,v,!1,function(e){a("TqOk")},null,null).exports,C={name:"layout",data:function(){return{}},computed:{showVue:function(){return"/CommonRole"!==this.$route.path},loading:function(){return this.$store.state.pageLoading},codeData:function(){return this.$store.getters.codeData}},components:{commonHeader:b,commonMenu:p},created:function(){localStorage[this.$store.state.systemPrefix+"codeData"]?this.loadCodeVerson():this.loadCommonCode(),localStorage[this.$store.state.systemPrefix+"userMenu"]||this.$getUserMenu(),localStorage[this.$store.state.systemPrefix+"userTag"]||this.loadTagData()},methods:{loadCommonCode:function(e){var t=this,a={data:{ids:e||[]},url:this.$baseUrl+"sys/syscode/set/getSysCodeSetAndSysCodeIem"};this.$ajaxPost(a,!0,function(a){if(200===a.code){var o=new Object;if(e){var r=t.$deepClone(t.codeData);a.data.forEach(function(e){r[e.name]=e}),localStorage.setItem(t.$store.state.systemPrefix+"codeData",d()(r)),t.$store.commit("updateCodeData",r)}else a.data.forEach(function(e){o[e.name]=e});localStorage.setItem(t.$store.state.systemPrefix+"codeData",d()(o)),t.$store.commit("updateCodeData",o)}else t.$showMsg("error",a.message)})},loadCodeVerson:function(){var e=this,t={data:{ids:[]},url:this.$baseUrl+"sys/syscode/set/getSysCodeSet"};this.$ajaxPost(t,!0,function(t){if(200===t.code){var a=[];t.data.forEach(function(t){e.codeData[t.name]||(e.codeData[t.name]=t),t.version!==e.codeData[t.name].version&&a.push(t.id)}),a.length>0&&e.loadCommonCode(a)}else e.$showMsg("error",t.message)})},loadTagData:function(){var e=this,t={data:{},method:"get",url:this.$baseUrl+"sys/tag/getSysTagCategoryAndTag?"};this.$ajaxPost(t,!0,function(t){if(200===t.code){e.initTagData(t.data);var a={TAG:t.data};localStorage.setItem(e.$store.state.systemPrefix+"tagData",d()(a)),e.$store.commit("updateTagData",a)}else e.$showMsg("error",t.message)})},initTagData:function(e){var t=this;e.forEach(function(e){e.code=e.tagCategoryId?e.tagCategoryId:e.tagId,e.name=e.tagCategoryName?e.tagCategoryName:e.tagName,e.sysTags&&(e.children=t.$deepClone(e.sysTags),delete e.sysTags,e.children.length>0&&t.initTagData(e.children))})}}},y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"common-layout-wrapper"},[e.showVue?a("commonHeader"):e._e(),e._v(" "),e.showVue?a("commonMenu"):e._e(),e._v(" "),e.loading?a("pageLoading"):e._e(),e._v(" "),a("div",{staticClass:"routetview-wrapper"},[a("keep-alive",[e.$route.meta.keepAlive?a("router-view"):e._e()],1),e._v(" "),e.$route.meta.keepAlive?e._e():a("router-view")],1)],1)},staticRenderFns:[]};var w=a("C7Lr")(C,y,!1,function(e){a("VX7d")},"data-v-f57dd77e",null).exports,x={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"common404-wrapper"},[t("img",{attrs:{src:a("5mYX")}}),this._v(" "),t("div",{staticClass:"main"},[t("h1",[this._v("\n            404\n        ")]),this._v(" "),t("p",[this._v("\n            抱歉，你访问的页面不存在\n        ")]),this._v(" "),t("el-button",[t("router-link",{attrs:{to:{name:"/home"}}},[this._v("\n                返回首页\n            ")])],1)],1)])},staticRenderFns:[]};var D=a("C7Lr")({name:"common404"},x,!1,function(e){a("IqPO")},"data-v-8b306ad2",null).exports,I={name:"login",data:function(){return{loginFrom:{userName:"",passWord:""},isRemember:!0,disabled:!1,loading:!1,appInfo:this.$store.getters.appInfo}},mounted:function(){localStorage[this.$store.state.systemPrefix+"userPass"]&&(this.loginFrom.passWord=localStorage[this.$store.state.systemPrefix+"userPass"]),localStorage[this.$store.state.systemPrefix+"userName"]&&(this.loginFrom.userName=localStorage[this.$store.state.systemPrefix+"userName"]),this.$store.commit("updateMenuActiveIndex",0)},methods:{onLogin:function(){var e=this;if(this.disabled=!0,this.loading=!0,this.loginFrom.userName&&this.loginFrom.passWord){var t={data:this.loginFrom,url:this.$baseUrl+"user/user/login"};this.$ajaxPost(t,!0,function(t){if(e.disabled=!1,e.loading=!1,200===t.code){sessionStorage.setItem(e.$store.state.systemPrefix+"isLogin","true"),sessionStorage.setItem(e.$store.state.systemPrefix+"userInfo",d()(t.data)),localStorage.setItem(e.$store.state.systemPrefix+"userName",e.loginFrom.userName),!0===e.isRemember?localStorage.setItem(e.$store.state.systemPrefix+"userPass",e.loginFrom.passWord):localStorage.removeItem(e.$store.state.systemPrefix+"userPass");var a=t.data.roleViewModelList.map(function(e){return e.pageType});a=a.length>1?~a.indexOf("3")?"3":~a.indexOf("2")?"2":"1":a[0];var o=t.data.roleViewModelList.filter(function(e){return e.pageType===a}),r="";o.length>0&&(r=o[0].detailUrl),sessionStorage.setItem(e.$store.state.systemPrefix+"homeDetailUrl",r),sessionStorage.setItem(e.$store.state.systemPrefix+"useHome",{1:"Home",2:"OnlyHome",3:"TotalHome"}[a]),e.getMenuData()}else e.$showMsg("error",t.message)})}},getMenuData:function(){var e=this;this.$getUserMenu(function(t){t?e.$showMsg("error","获取用户菜单失败！"):(e.$showMsg("success","登录成功"),sessionStorage[e.$store.state.systemPrefix+"useHome"]?e.$router.push({name:sessionStorage[e.$store.state.systemPrefix+"useHome"]}):e.$router.push({name:"Home"}))})}}},$={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"access-login-container"},[a("div",{staticClass:"access-loginForm-wrapper"},[a("div",{staticClass:"access-loginForm-title"},[a("span",{class:["logo-icon iconfont",e.appInfo.appIcon]}),e._v(" "),a("span",{staticClass:"logo-text"},[e._v(e._s(e.appInfo.appName))])]),e._v(" "),a("div",{staticClass:"access-loginForm-item",on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onLogin(t)}}},[a("div",{staticClass:"title"},[e._v("欢迎登录!")]),e._v(" "),a("div",{staticClass:"username"},[a("span",[e._v("用户名")]),e._v(" "),a("el-input",{model:{value:e.loginFrom.userName,callback:function(t){e.$set(e.loginFrom,"userName",t)},expression:"loginFrom.userName"}})],1),e._v(" "),a("div",{staticClass:"password"},[a("span",[e._v(" 密  码")]),e._v(" "),a("el-input",{attrs:{type:"password"},model:{value:e.loginFrom.passWord,callback:function(t){e.$set(e.loginFrom,"passWord",t)},expression:"loginFrom.passWord"}})],1),e._v(" "),a("div",{staticClass:"remember"},[a("el-checkbox",{model:{value:e.isRemember,callback:function(t){e.isRemember=t},expression:"isRemember"}},[e._v("记住密码")])],1),e._v(" "),a("div",{staticClass:"loginBtn"},[a("el-button",{attrs:{size:"small",type:"primary",disabled:e.disabled},on:{click:e.onLogin}},[e._v("登录")])],1)])]),e._v(" "),a("div",{staticClass:"access-loginCopyright-wrapper"},[a("p",[e._v("Copyright © 2018 "+e._s(e.appInfo.appName))])]),e._v(" "),e.loading?a("pageLoading",{attrs:{text:"登陆中"}}):e._e()],1)},staticRenderFns:[]};var k=a("C7Lr")(I,$,!1,function(e){a("eH4i")},null,null).exports,T={name:"homeMenu",components:{},props:{menuChild:Array,count:Object},data:function(){return{}},created:function(){},computed:{userInfo:function(){return this.$store.getter.userInfo}},methods:{clickHandler:function(e){this.$router.push({name:e.url})}}},_={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"homeMenu",staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"flex-start"}},e._l(e.menuChild,function(t,o,r){return a("div",{key:r,staticClass:"menu-container",on:{click:function(a){return e.clickHandler(t)}}},[t.type&&t.noDeal>0?a("div",{staticClass:"count"},[e._v(e._s(t.noDeal))]):e._e(),e._v(" "),a("div",{staticClass:"menu-container-sub"},[a("div",{staticClass:"icon-div",style:{backgroundColor:t.color}},[a("i",{staticClass:"iconfont",class:t.icon})]),e._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"title"},[a("span",[e._v(e._s(t.name))])]),e._v(" "),a("div",{staticClass:"introduction light-color"},[a("span",[e._v(e._s(t.introduction))])])])])])}),0)},staticRenderFns:[]};var N=a("C7Lr")(T,_,!1,function(e){a("Lum2")},"data-v-202a6433",null).exports,S={name:"home",components:{Menu:N},data:function(){return{countList:[],loaded:!1}},computed:{timeName:function(){return this.$getTimeName()},userInfo:function(){return this.$store.getters.userInfo},menuData:function(){return this.$store.getters.menuData},activeIndex:{get:function(){return this.$store.state.menuActiveIndex},set:function(e){this.$store.commit("updateMenuActiveIndex",e)}},activeName:{get:function(){return this.menuData[this.activeIndex].name},set:function(){}}},mounted:function(){var e=this;this.$nextTick(function(){e.loaded=!0})},methods:{clickTab:function(e){var t=this;this.menuData.forEach(function(a,o){e.name===a.name&&(t.activeIndex=o)})}}},R={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home-wrapper"},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.clickTab},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.menuData,function(t,o){return a("el-tab-pane",{key:o,attrs:{tab:t,name:t.name}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"iconfont",class:t.icon,staticStyle:{"margin-right":"3px"}}),e._v(" "),a("span",[e._v(e._s(t.name)+"\n                "),t.noDeal>0?a("span",{staticClass:"count"},[e._v(e._s(t.noDeal))]):e._e()])])])}),1),e._v(" "),e.loaded?a("commonContainer",{attrs:{offsetBottom:10}},[a("Menu",{attrs:{menuChild:e.menuData[e.activeIndex].children}})],1):e._e()],1)},staticRenderFns:[]};var M=a("C7Lr")(S,R,!1,function(e){a("8Q+m")},null,null).exports,F={name:"onlyHome",components:{Menu:N},data:function(){return{countList:[],loaded:!1}},computed:{timeName:function(){return this.$getTimeName()},userInfo:function(){return this.$store.getters.userInfo},menuData:function(){return this.$store.getters.menuData},activeIndex:{get:function(){return this.$store.state.menuActiveIndex},set:function(e){this.$store.commit("updateMenuActiveIndex",e)}},activeName:{get:function(){return this.menuData[this.activeIndex].name},set:function(){}},roleIdList:function(){var e=[];return this.$store.getters.userInfo.roleViewModelList.forEach(function(t){e.push(t.id)}),e}},mounted:function(){this.loadData(this.roleIdList)},methods:{loadData:function(e){var t=this;if(e.length>0){var a={url:this.$baseUrl+"sys/homePageCount/findRoleCountQueryByRoleIdList",data:e};this.$ajaxPost(a,!0,function(e){200===e.code?(t.countList=e.data,t.loaded=!0):t.$showMsg("error",e.message)})}else this.loadData(this.roleIdList)},clickTab:function(e){var t=this;this.menuData.forEach(function(a,o){e.name===a.name&&(t.activeIndex=o)})}}},P={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"onlyHome-wrapper"},[a("commonBreadcrumb"),e._v(" "),a("div",{staticClass:"home-user"},[e._m(0),e._v(" "),a("div",{staticClass:"home-user-text"},[a("div",{staticClass:"userText"},[e._v("\n            "+e._s(e.timeName)+e._s(e.userInfo.name)+",祝您开心每一天!\n        ")]),e._v(" "),a("span",{staticClass:"userOrganization"},[e._v(e._s(e.userInfo.organizationName))])]),e._v(" "),a("div",{staticClass:"home-count"},e._l(e.countList,function(t,o){return a("div",{key:o,staticClass:"company-count"},[a("div",{staticClass:"company-count-text"},[e._v(e._s(t.countNumber))]),e._v(" "),a("div",{staticClass:"company-count-name"},[e._v(e._s(t.countName))])])}),0)]),e._v(" "),a("el-row",{attrs:{gutter:5}},[a("el-col",{attrs:{sm:24,lg:24}},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.clickTab},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.menuData,function(t,o){return a("el-tab-pane",{key:o,attrs:{tab:t,name:t.name}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"iconfont",class:t.icon,staticStyle:{"margin-right":"3px"}}),e._v(" "),a("span",[e._v(e._s(t.name)+"\n                        "),t.noDeal>0?a("span",{staticClass:"count"},[e._v(e._s(t.noDeal))]):e._e()])])])}),1),e._v(" "),e.loaded?a("commonContainer",[a("Menu",{attrs:{menuChild:e.menuData[e.activeIndex].children}})],1):e._e()],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"home-user-avatar"},[t("img",{attrs:{src:a("1Kos")}})])}]};var A=a("C7Lr")(F,P,!1,function(e){a("X1Jv")},null,null).exports,E={name:"totalHome",components:{Menu:N},data:function(){return{loaded:!0,todoList:[],countList:[]}},watch:{},computed:{timeName:function(){return this.$getTimeName()},userInfo:function(){return this.$store.getters.userInfo},menuData:function(){return this.$store.getters.menuData},activeIndex:{get:function(){return this.$store.state.menuActiveIndex},set:function(e){this.$store.commit("updateMenuActiveIndex",e)}},activeName:{get:function(){return this.menuData[this.activeIndex].name},set:function(){}}},mounted:function(){this.loadData(this.roleIdList)},methods:{loadData:function(e){var t=this;if(e.length>0){var a={url:this.$baseUrl+"sys/homePageCount/findRoleCountQueryByRoleIdList",data:e};this.$ajaxPost(a,!0,function(e){200===e.code?(t.countList=e.data,t.loaded=!0):t.$showMsg("error",e.message)})}else this.loadData(this.roleIdList)},clickTab:function(e){var t=this;this.menuData.forEach(function(a,o){e.name===a.name&&(t.activeIndex=o)})},clickTodo:function(e){var t=e.businessId,a=e.type;this.$router.push({name:a,params:{id:t}})},moreBackLog:function(){},goDetail:function(){this.$router.push({name:sessionStorage[this.$store.state.systemPrefix+"homeDetailUrl"]})}}},U={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"totalHome-wrapper"},[a("commonBreadcrumb"),e._v(" "),a("div",{staticClass:"home-user"},[e._m(0),e._v(" "),a("div",{staticClass:"home-user-text"},[a("div",{staticClass:"userText"},[e._v("\n                "+e._s(e.timeName)+e._s(e.userInfo.loginName)+",祝您开心每一天!\n            ")]),e._v(" "),a("span",{staticClass:"userOrganization"},[e._v(e._s(e.userInfo.organizationName))])]),e._v(" "),a("div",{staticClass:"home-count"},e._l(e.countList,function(t,o){return a("div",{key:o,staticClass:"company-count"},[a("div",{staticClass:"company-count-text"},[e._v(e._s(t.countNumber))]),e._v(" "),a("div",{staticClass:"company-count-name"},[e._v(e._s(t.countName))])])}),0)]),e._v(" "),a("el-row",{staticClass:"home-menu",attrs:{gutter:5}},[a("el-col",{staticClass:"home-menu-left",attrs:{sm:8,lg:6}},[a("div",{staticClass:"home-backlog"},[a("div",{staticClass:"backlog-title"},[a("div",{staticClass:"bg-icon-block"}),e._v(" "),a("div",{staticClass:"backlog-text"},[e._v("待办事项")]),e._v(" "),a("div",{staticClass:"backlog-more",on:{click:function(t){return e.moreBackLog()}}},[e._v("更多")])]),e._v(" "),a("commonContainer",[a("div",{staticClass:"todo-container"},[a("ul",{staticClass:"todo-ul"},e._l(e.todoList,function(t,o){return a("li",{key:o,class:"0"===t.status?"todo-li":"",on:{click:function(a){return e.clickTodo(t)}}},[a("i",{staticClass:"iconfont icon-yuandian"}),e._v(" "),a("span",{staticClass:"content"},[e._v(e._s(t.content))]),e._v(" "),a("span",{staticClass:"date"},[e._v(e._s(e._f("fmtDate")(t.createTime)))])])}),0)])])],1)]),e._v(" "),a("el-col",{staticClass:"home-menu-right",attrs:{sm:16,lg:18}},[a("el-button",{staticClass:"detailBtn",attrs:{type:"primary",size:"mini"},on:{click:function(t){return e.goDetail()}}},[e._v("详情")]),e._v(" "),a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.clickTab},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.menuData,function(t,o){return a("el-tab-pane",{key:o,attrs:{tab:t,name:t.name}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{staticClass:"iconfont",class:t.icon,staticStyle:{"margin-right":"3px"}}),e._v(" "),a("span",[e._v(e._s(t.name)+"\n                        "),t.noDeal>0?a("span",{staticClass:"count"},[e._v(e._s(t.noDeal))]):e._e()])])])}),1),e._v(" "),e.loaded?a("commonContainer",{attrs:{offsetBottom:10}},[a("Menu",{attrs:{menuChild:e.menuData[e.activeIndex].children}})],1):e._e()],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"home-user-avatar"},[t("img",{attrs:{src:a("1Kos")}})])}]};var V=a("C7Lr")(E,U,!1,function(e){a("v0sX")},null,null).exports,L=a("ZLEe"),q=a.n(L),O=a("IHPB"),j=a.n(O),B={components:{},props:{visible:{type:Boolean,default:!1},tableName:{type:[Array,String],default:function(){return[]}},dataForm:Object,options:{type:Array,default:function(){return[]}},title:{type:String,default:"信息集"}},data:function(){return{data:[],inputVal:[],infoOptions:[],fieldOptions:[],codeSetName:"",form:{tableName:null,conditionValue:null,fieldName:null,condition:null},query:{tableName:null,condition:null,conditionValue:null,fieldName:null},rules:{tableName:{required:!0},fieldName:{required:!0},condition:{required:!0}},unitOptions:[{id:"=",name:"等于"},{id:"like",name:"包含"}]}},computed:{showVisible:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}}},watch:{},methods:{open:function(){for(var e in this.infoOptions=[],this.fieldOptions=[],this.codeSetName="",this.loadTableData(),this.form)this.form[e]=null,this.query[e]=null;if(this.form.tableName=this.tableName,this.query.isChange=!1,this.dataForm){for(var t in this.form)this.form[t]=this.dataForm[t];this.query.isChange=!0,this.fieldVisibleChange(!0)}},change:function(e,t){this.inputVal=e,this.checkedData=t},save:function(){this.$emit("save",this.form,this.query),this.showVisible=!1},loadTableData:function(){var e=this;if(!(this.infoOptions.length>0)){var t={data:{appCode:"200",tableTypeName:"CadreInfo"},method:"get",url:this.$baseUrl+"sys/getSysTableNames?"};this.$ajaxPost(t,!0,function(t){200===t.code?e.infoOptions=t.data.map(function(e){return{name:"["+e.tableNameEn+"]"+e.tableNameCn,id:e.tableNameEn}}):e.$showMsg("error",t.message)})}},fieldVisibleChange:function(e){var t=this;if(!(this.fieldOptions.length>0)){var a={data:{prjCode:"200",tableTypeName:"CadreInfo",tableName:this.form.tableName},method:"get",url:this.$baseUrl+"sys/getSysTableStructure?"};this.$ajaxPost(a,!0,function(e){t.fieldOptions=e.data.tables[0].fields.map(function(e){return e.fieldNameEn===t.form.fieldName&&(t.codeSetName=e.codeSetName),{name:"["+e.fieldNameEn+"]"+e.fieldNameCn,id:e.fieldNameEn,codeSetName:e.codeSetName}})})}},changeField:function(e,t){t&&t.codeSetName?this.codeSetName=t.codeSetName:this.codeSetName=null}}},z={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonDialog",{staticClass:"info-dialog",attrs:{appendBody:"",title:e.title,visible:e.showVisible,width:"600px",save:e.save,form:e.form,rules:e.rules},on:{"update:visible":function(t){e.showVisible=t},open:e.open}},[a("commonForm",[a("formRow",{attrs:{label:"信息集",required:"",rule:e.rules.tableName}},[a("formSelect",{attrs:{disabled:"",label:e.query.tableName,filterable:"",options:e.infoOptions,placeholder:"请选择信息集",rule:e.rules.tableName},on:{"update:label":function(t){return e.$set(e.query,"tableName",t)}},model:{value:e.form.tableName,callback:function(t){e.$set(e.form,"tableName",t)},expression:"form.tableName"}})],1),e._v(" "),a("formRow",{attrs:{label:"字段",required:"",rule:e.rules.fieldName}},[a("formSelect",{attrs:{label:e.query.fieldName,filterable:"",options:e.fieldOptions,placeholder:"请选择字段",rule:e.rules.fieldName},on:{"update:label":function(t){return e.$set(e.query,"fieldName",t)},visibleChange:e.fieldVisibleChange,change:e.changeField},model:{value:e.form.fieldName,callback:function(t){e.$set(e.form,"fieldName",t)},expression:"form.fieldName"}})],1),e._v(" "),a("formRow",{attrs:{label:"运算符",required:"",rule:e.rules.condition}},[a("formSelect",{attrs:{label:e.query.condition,options:e.unitOptions,rule:e.rules.condition,placeholder:"请选择运算符"},on:{"update:label":function(t){return e.$set(e.query,"condition",t)}},model:{value:e.form.condition,callback:function(t){e.$set(e.form,"condition",t)},expression:"form.condition"}})],1),e._v(" "),a("formRow",{attrs:{label:"内容"}},[a("formInputSelect",{attrs:{label:e.query.conditionValue,codeKey:e.codeSetName},on:{"update:label":function(t){return e.$set(e.query,"conditionValue",t)}},model:{value:e.form.conditionValue,callback:function(t){e.$set(e.form,"conditionValue",t)},expression:"form.conditionValue"}})],1)],1)],1)},staticRenderFns:[]};var H=a("C7Lr")(B,z,!1,function(e){a("wwEc")},null,null).exports,G={components:{},props:{visible:{type:Boolean,default:!1},value:{type:[Array,String],default:function(){return[]}},options:{type:Array,default:function(){return[]}},title:{type:String,default:"选择信息"}},data:function(){return{data:[],inputVal:[],checkedData:null,props:{value:"tagId",label:"tagName"}}},computed:{showVisible:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}}},created:function(){},methods:{open:function(){this.data=this.$deepClone(this.options),this.inputVal=this.$deepClone(this.value)},change:function(e,t){this.inputVal=e,this.checkedData=t},save:function(){this.$emit("input",this.inputVal),this.$emit("save",this.inputVal,this.checkedData)}}},W={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonDialog",{staticClass:"checked-dialog",attrs:{appendBody:"",title:e.title,visible:e.showVisible,width:"450px",save:e.save},on:{"update:visible":function(t){e.showVisible=t},open:e.open}},[a("formCheckbox",{attrs:{props:e.props,options:e.data,border:""},on:{change:e.change},model:{value:e.inputVal,callback:function(t){e.inputVal=t},expression:"inputVal"}})],1)},staticRenderFns:[]};var K=a("C7Lr")(G,W,!1,function(e){a("wD6v")},null,null).exports,X={components:{addInfoDialog:H,checkedDialog:K},props:{},data:function(){return{tableNameEn:null,dataForm:null,checkedVal:[],allCheckedData:[],options:[],dataOptions:[],activeName:"0",groupIndex:0,tableIndex:0,dataIndex:0,infoVisible:!1,checkedVisible:!1}},created:function(){this.loadData()},methods:{changeGroup:function(e){this.groupIndex=parseInt(e)},searchMore:function(e,t){this.tableIndex=t,e.sysTags?(this.dataOptions=e.sysTags,this.checkedVal=e.checkedData.length>0?e.checkedData[0].checkedVal:[],this.checkedVisible=!0):(this.tableNameEn=e.tableNameEn,this.dataForm=null,e.form&&(this.dataForm=this.$deepClone(e.form)),this.infoVisible=!0)},loadData:function(){var e=this,t={data:{appCode:"200",tableTypeName:"CadreInfo"},method:"get",url:this.$baseUrl+"sys/getSysTableNames?"};this.$ajaxPost(t,!0,function(t){if(200===t.code){var a=new Object,o=new Array;for(var r in t.data.forEach(function(e){e.name=e.tableNameCn,e.checkedCount=0,e.checkedData=new Array,a[e.appGroupName]||(a[e.appGroupName]=new Array),a[e.appGroupName].push(e)}),a)o.push({isFalse:!0,tableNameCn:r,children:a[r],checkedCount:0});e.options=o,console.log("this.options"),console.log(e.options),e.loadCategory()}else e.$showMsg("error",t.message)})},loadCategory:function(){var e=this,t={data:{},method:"get",url:this.$baseUrl+"sys/tag/getCadreTag?"};this.$ajaxPost(t,!0,function(t){200===t.code?(e.options.push({checkedCount:0,isCategory:!0,tableNameCn:"特殊条件",children:t.data.map(function(e){return e.checkedCount=0,e.checkedData=new Array,e})}),e.initCheckedData()):e.$showMsg("error",t.message)})},saveForm:function(e,t){var a=this.options[this.groupIndex];a.children[this.tableIndex].checkedCount=t.length,a.children[this.tableIndex].checkedData=[{isCategory:a.isCategory,groupIndex:this.groupIndex,tableIndex:this.tableIndex,groupName:a.tableNameCn,tableName:a.children[this.tableIndex].tagCategoryName,dataName:t.map(function(e){return e.tagName}).join(","),checkedVal:e}],this.initCheckedData()},saveInfo:function(e,t){var a=this.options[this.groupIndex],o={index:a.children[this.tableIndex].checkedData.length,form:this.$deepClone(e),groupIndex:this.groupIndex,tableIndex:this.tableIndex,groupName:a.tableNameCn,tableName:"["+a.children[this.tableIndex].tableNameEn+"]"+a.children[this.tableIndex].tableNameCn,fieldName:t.fieldName,condition:t.condition,dataName:t.conditionValue};t.isChange?(a.children[this.tableIndex].checkedData[this.dataIndex]=o,o.index--):a.children[this.tableIndex].checkedData.push(o),this.initCheckedData()},initCheckedData:function(){var e=new Array;this.options.forEach(function(t){t.children.forEach(function(t){e.push.apply(e,j()(t.checkedData))})});var t=0;this.options[this.groupIndex].children.forEach(function(e){return t+=e.checkedCount?e.checkedCount:e.checkedData.length}),this.options[this.groupIndex].checkedCount=t,this.checkedVisible=!1,this.$emit("changeChecked",e)},changeCondition:function(e){if(this.dataIndex=e.index,e.isCategory){var t=this.options[e.groupIndex].children[e.tableIndex];this.searchMore(t,e.tableIndex)}else this.searchMore(e,e.tableIndex)},deleteCondition:function(e){e?(this.options[e.groupIndex].children[e.tableIndex].checkedData.splice(e.index?e.index:0,1),this.options[e.groupIndex].children[e.tableIndex].checkedCount&&(this.options[e.groupIndex].children[e.tableIndex].checkedCount=0),this.initCheckedData()):this.loadData()},initConditions:function(e){var t=this;e.forEach(function(e){var a=e.index?e.index:0;t.options[e.groupIndex].children[e.tableIndex].checkedData[a]=t.$deepClone(e)}),this.initCheckedData()}}},Y={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"allInfo"},[a("el-collapse",{attrs:{accordion:""},on:{change:e.changeGroup},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.options,function(t,o){return a("el-collapse-item",{key:o,staticClass:"itemInfo",attrs:{name:o+""}},[a("div",{staticClass:"paddingX title",attrs:{slot:"title"},slot:"title"},[a("span",{staticClass:"label"},[e._v(e._s(o+1)+"、"+e._s(t.tableNameCn)+" ")]),e._v(" "),t.checkedCount?a("span",{staticClass:"count"},[e._v(e._s(t.checkedCount))]):e._e()]),e._v(" "),a("div",{staticClass:"paddingX content"},e._l(t.children,function(t,o){return a("el-button",{key:o,attrs:{size:"mini",type:t.checkedCount||t.checkedData.length?"success":"primary"},on:{click:function(a){return e.searchMore(t,o)}}},[e._v(" \n                    "+e._s(t.tagCategoryName||t.tableNameCn)+"\n                    "),t.checkedCount||t.checkedData.length?a("span",[e._v("("+e._s(t.checkedCount?t.checkedCount:t.checkedData.length)+")")]):e._e()])}),1)])}),1),e._v(" "),a("checkedDialog",{attrs:{title:"管理类别",visible:e.checkedVisible,options:e.dataOptions},on:{"update:visible":function(t){e.checkedVisible=t},save:e.saveForm},model:{value:e.checkedVal,callback:function(t){e.checkedVal=t},expression:"checkedVal"}}),e._v(" "),a("addInfoDialog",{ref:"addInfo",attrs:{title:"管理信息集",tableName:e.tableNameEn,dataForm:e.dataForm,visible:e.infoVisible},on:{"update:visible":function(t){e.infoVisible=t},save:e.saveInfo}})],1)},staticRenderFns:[]};var Q=a("C7Lr")(X,Y,!1,function(e){a("J2GS")},null,null).exports,J={components:{},props:{options:{type:Array,default:function(){return[]}}},data:function(){return{data:[]}},created:function(){this.initData()},watch:{options:{handler:function(){this.initData()},deep:!0}},methods:{initData:function(){this.data=this.$deepClone(this.options)},change:function(e){this.$emit("changeCondition",e)},del:function(e){this.$emit("deleteCondition",e)}}},Z={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"condition"},[e._l(e.data,function(t,o){return a("div",{key:o,staticClass:"content"},[t.isCategory?a("span",{staticClass:"label"},[e._v("\n            "+e._s(t.groupName)+" > "+e._s(t.tableName)+"："+e._s(t.dataName)+"\n        ")]):a("span",{staticClass:"label"},[e._v("\n            "+e._s(t.groupName)+" > "+e._s(t.tableName)+"："+e._s(t.fieldName)+" "+e._s(t.condition)+" "+e._s(t.dataName)+"\n        ")]),e._v(" "),a("span",{staticClass:"operate"},[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(a){return e.change(t)}}}),e._v(" "),a("el-button",{attrs:{size:"mini",type:"danger",icon:"el-icon-close"},on:{click:function(a){return e.del(t)}}})],1)])}),e._v(" "),0===e.data.length?a("commonEmpty"):e._e()],2)},staticRenderFns:[]};var ee=[{tableNameCn:"职务信息",tableNameEn:"EmpA02",comName:"jobInfo",icon:"icon-work"},{tableNameCn:"录聘情况",tableNameEn:"EmpA03",icon:"icon-jinru"},{tableNameCn:"试用情况",tableNameEn:"EmpA04",icon:"icon-shiyong"},{tableNameCn:"职级情况",tableNameEn:"EmpA05",icon:"icon-dengji"},{tableNameCn:"专业技术任职资格",tableNameEn:"EmpA06",icon:"icon-mingdan"},{tableNameCn:"衔称",tableNameEn:"EmpA07",icon:"icon-zhuanjia"},{tableNameCn:"学历",tableNameEn:"EmpA08",icon:"icon-xueli"},{tableNameCn:"学位",tableNameEn:"EmpA09",icon:"icon-xueli"},{tableNameCn:"语言能力",tableNameEn:"EmpA10",icon:"icon-yuyan"},{tableNameCn:"学习（培训、进修）",tableNameEn:"EmpA11",icon:"icon-xueli"},{tableNameCn:"出国（境）情况",tableNameEn:"EmpA12",icon:"icon-chuguo"},{tableNameCn:"奖惩情况",tableNameEn:"EmpA14",icon:"icon-rewards"},{tableNameCn:"基本情况",tableNameEn:"EmpA001",icon:"icon-jiben"},{tableNameCn:"考核情况",tableNameEn:"EmpA15",icon:"icon-kaohe"},{tableNameCn:"工作经历",tableNameEn:"EmpA17",icon:"icon-work"},{tableNameCn:"业绩",tableNameEn:"EmpA18",icon:"icon-yeji"},{tableNameCn:"专业技术工作及成果",tableNameEn:"EmpA19",icon:"icon-chengguo"},{tableNameCn:"专业技术工作获奖",tableNameEn:"EmpA20",icon:"icon-chengguo"},{tableNameCn:"获取专利",tableNameEn:"EmpA21",icon:"icon-lunwen"},{tableNameCn:"论文、论著",tableNameEn:"EmpA22",icon:"icon-lunwen"},{tableNameCn:"后备干部",tableNameEn:"EmpA23",icon:"icon-leader"},{tableNameCn:"专家",tableNameEn:"EmpA24",icon:"icon-zhuanjia"},{tableNameCn:"退出现役军人（武警）情况",tableNameEn:"EmpA26",icon:"icon-junren"},{tableNameCn:"工人技术等级",tableNameEn:"EmpA27",icon:"icon-dengji"},{tableNameCn:"调入情况",tableNameEn:"EmpA29",icon:"icon-jinru"},{tableNameCn:"调出情况",tableNameEn:"EmpA30",icon:"icon-likai"},{tableNameCn:"离退情况",tableNameEn:"EmpA31",icon:"icon-lizhi"},{tableNameCn:"机关事业单位工资变动情况",tableNameEn:"EmpA32",icon:"icon-gongzi"},{tableNameCn:"工资福利项目",tableNameEn:"EmpA33",icon:"icon-gongzi"},{tableNameCn:"社会保险",tableNameEn:"EmpA34",icon:"icon-gongzi"},{tableNameCn:"国籍",tableNameEn:"EmpA35",icon:"icon-guojia"},{tableNameCn:"家庭成员及社会关系",tableNameEn:"EmpA36",icon:"icon-zuzhi"},{tableNameCn:"地址与通信",tableNameEn:"EmpA37",icon:"icon-tongxin"},{tableNameCn:"人事档案管理",tableNameEn:"EmpA38",icon:"icon-rizhi"},{tableNameCn:"个人其他情况",tableNameEn:"EmpA39",icon:"icon-jiben"},{tableNameCn:"长期从事、分管的领域",tableNameEn:"EmpA46",icon:"icon-zhuanjia"},{tableNameCn:"组织考察情况",tableNameEn:"EmpA47",icon:"icon-kaohe"},{tableNameCn:"工作岗位",tableNameEn:"EmpA48",icon:"icon-work"},{tableNameCn:"交流情况",tableNameEn:"EmpA49",icon:"icon-usergroup"},{tableNameCn:"民主测评情况",tableNameEn:"EmpA50",icon:"icon-kaohe"},{tableNameCn:"辞职辞退情况",tableNameEn:"EmpA51",icon:"icon-lizhi"},{tableNameCn:"职务变动情况",tableNameEn:"EmpA52",icon:"icon-zhiwei"},{tableNameCn:"拟任拟免职务",tableNameEn:"EmpA53",icon:"icon-zhiwei"},{tableNameCn:"个人重大事项报告",tableNameEn:"EmpA54",icon:"icon-gonggao"},{tableNameCn:"经济责任审计",tableNameEn:"EmpA55",icon:"icon-kaohe"},{tableNameCn:"群众反映意见",tableNameEn:"EmpA56",icon:"icon-gonggao"},{tableNameCn:"个人多媒体信息",tableNameEn:"EmpA57",icon:"icon-gonggao"},{tableNameCn:"政治面貌",tableNameEn:"EmpA58",icon:"icon-zhengzhimianmao"},{tableNameCn:"公务员登记",tableNameEn:"EmpA61",icon:"icon-bianzhi"},{tableNameCn:"参加学术团体情况",tableNameEn:"EmpA63",comName:"sicoalInfo",icon:"icon-xueli"}],te={a01001:{text:"姓名",align:"center",dataIndex:"a01001",formatter:function(e){return{showBtn:!0,type:"text primary underline",text:e.row.a01001,eName:"changeRow"}}},b01001:{text:"单位名称",align:"left",dataIndex:"b01001",formatter:function(e){return{showBtn:!0,type:"text primary underline",text:e.row.b01001,eName:"changeRow"}}},operate:{text:"操作",align:"center",fixed:"right",width:"70px",formatter:function(e){return{showDropDown:!0,showText:"操作",data:[{text:"修改",class:"blue",eName:"changeRow"},{text:"删除",class:"red",eName:"delRow"}]}}}},ae=[{id:"icon-shuxing",name:"icon-shuxing"},{id:"icon-junren",name:"icon-junren"},{id:"icon-dengji",name:"icon-dengji"},{id:"icon-jinru",name:"icon-jinru"},{id:"icon-likai",name:"icon-likai"},{id:"icon-group",name:"icon-group"},{id:"icon-fenlei",name:"icon-fenlei"},{id:"icon-changgui",name:"icon-changgui"},{id:"icon-mingdan",name:"icon-mingdan"},{id:"icon-biaodan",name:"icon-biaodan"},{id:"icon-ganbu",name:"icon-ganbu"},{id:"icon-zhuye",name:"icon-zhuye"},{id:"icon-zuzhi",name:"icon-zuzhi"},{id:"icon-work",name:"icon-work"},{id:"icon-dizhi",name:"icon-dizhi"}],oe=[{routerName:"Test",name:"测试页面",id:"Test"},{routerName:"CadreManager",name:"干部综合信息管理",id:"CadreManager"},{routerName:"DepartManager",name:"单位综合信息管理",id:"DepartManager"},{routerName:"AppointManager",name:"任免表编辑",id:"AppointManager"},{routerName:"GroupManager",name:"信息集类别",id:"GroupManager"},{routerName:"CategoryManager",name:"信息集实体",id:"CategoryManager"},{routerName:"InfoManager",name:"信息集字段",id:"InfoManager"},{routerName:"LogManager",name:"日志管理",id:"LogManager"},{routerName:"UserManager",name:"用户管理",id:"UserManager"},{routerName:"PropertyManager",name:"应用管理",id:"PropertyManager"},{routerName:"MenuGroup",name:"功能权限组配置",id:"MenuGroup"},{routerName:"AccountGroup",name:"账号配置",id:"AccountGroup"},{routerName:"RoleConfig",name:"角色配置",id:"RoleConfig"},{routerName:"CodeTableConfig",name:"码表配置",id:"CodeTableConfig"},{routerName:"CodeTableOperate",name:"码表集操作",id:"CodeTableOperate"},{routerName:"ConditionalError",name:"数据治理",id:"ConditionalError"},{routerName:"ConditionalErrorConfig",name:"系统查错条件配置",id:"ConditionalErrorConfig"},{routerName:"CadreStatistics",name:"干部统计",id:"CadreStatistics"},{routerName:"CadreSql",name:"角色权限页面SQL配置",id:"CadreSql"},{routerName:"TabManager",name:"标签管理",id:"TabManager"},{routerName:"ArchivesManager",name:"干部档案管理",id:"ArchivesManager"},{routerName:"ViewApplication",name:"档案申请列表",id:"ViewApplication"},{routerName:"AddApply",name:"申请查看档案",id:"AddApply"},{routerName:"ApproveApply",name:"档案审批列表",id:"ApproveApply"},{routerName:"Approve",name:"档案审批",id:"Approve"},{routerName:"Look",name:"预览档案",id:"Look"},{routerName:"InfoConfig",name:"接口SQL配置",id:"InfoConfig"}],re={components:{allInfo:Q,checked:K,condition:a("C7Lr")(J,Z,!1,function(e){a("xoIW")},null,null).exports},props:{options:[Object,Array],visible:{type:Boolean,default:!1},reset:{type:Boolean,default:!0}},data:function(){return{checkedX:0,title:"简单查询",tabsData:[],conditionsData:[]}},computed:{showVisible:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}}},created:function(){},methods:{open:function(){this.tabsData=[{name:"信息集搜索",comName:"allInfo"},{name:"已添加条件",comName:"condition",count:0}],this.options?this.$refs.allInfo.initConditions(this.options):this.$refs.allInfo&&this.$refs.allInfo.loadData(),this.checkedX=0},checkedChange:function(e){this.tabsData[1].count=e.length,this.conditionsData=e},saveForm:function(){var e=null;this.conditionsData.length>0&&(e={cadreTagIds:[],tableConditions:{},count:this.conditionsData.length},this.conditionsData.forEach(function(t){var a;t.isCategory?(a=e.cadreTagIds).push.apply(a,j()(t.checkedVal)):(e.tableConditions[t.form.tableName]||(e.tableConditions[t.form.tableName]=[]),e.tableConditions[t.form.tableName].push(t.form))})),this.$emit("save",e,this.conditionsData),this.showVisible=!1},deleteCondition:function(e){this.$refs.allInfo.deleteCondition(e)},changeCondition:function(e){this.$refs.allInfo.changeCondition(e)},refresh:function(){this.$refs.allInfo&&this.$refs.allInfo.deleteCondition(),this.conditionsData=new Array}}},se={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonDialog",{staticClass:"easySearch-dialog",attrs:{title:e.title,visible:e.showVisible,save:e.saveForm},on:{"update:visible":function(t){e.showVisible=t},open:e.open}},[e.showVisible?a("commonTablistX",{attrs:{slot:"title",options:e.tabsData},slot:"title",model:{value:e.checkedX,callback:function(t){e.checkedX=t},expression:"checkedX"}}):e._e(),e._v(" "),a("allInfo",{directives:[{name:"show",rawName:"v-show",value:0===e.checkedX,expression:"checkedX===0"}],ref:"allInfo",on:{changeChecked:e.checkedChange}}),e._v(" "),a("condition",{directives:[{name:"show",rawName:"v-show",value:1===e.checkedX,expression:"checkedX===1"}],ref:"condition",attrs:{options:e.conditionsData},on:{changeCondition:e.changeCondition,deleteCondition:e.deleteCondition}}),e._v(" "),e.reset?a("el-button",{attrs:{slot:"more",size:"mini",type:"warning"},on:{click:function(t){return e.refresh()}},slot:"more"},[e._v("清空")]):e._e()],1)},staticRenderFns:[]};var ne=a("C7Lr")(re,se,!1,function(e){a("k7gc")},null,null).exports,ie={components:{},props:{options:[Object,Array],visible:{type:Boolean,default:!1}},data:function(){return{checkedY:0,title:"组合查询",exprstr:"",tabsData:[],checkedTab:null}},computed:{showVisible:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}}},created:function(){},methods:{open:function(){this.loadData()},loadData:function(){var e=this,t={data:{},url:this.$baseUrl+"cadre/combinedQuery/all"};this.$ajaxPost(t,!0,function(t){200===t.code?(e.tabsData=t.data.data.map(function(e,t){return e.$index=t,e}),e.changeTab(e.tabsData[e.checkedY])):e.$showMsg("error",t.message)})},changeTab:function(e){this.checkedTab=e,this.exprstr=e.exprstr},config:function(){this.showVisible=!1;this.$router.push({name:"MergeSearchConfig",query:{}})},changeInfo:function(e){this.showVisible=!1;var t={combinedQueryId:e.combinedQueryId};this.$router.push({name:"MergeSearch",query:t})},delTab:function(e){var t=this;this.$showConfirm("确定删除当前组合条件？",function(){var a={data:{combinedQueryId:e.combinedQueryId},url:t.$baseUrl+"cadre/combinedQuery/delete?"};t.$ajaxPost(a,!0,function(e){200===e.code?(t.loadData(),t.$showMsg("success","删除成功！")):t.$showMsg("error",e.message)})})},saveForm:function(){this.$emit("save",this.checkedTab,this.exprstr===this.checkedTab.exprstr?"":this.exprstr),this.showVisible=!1},refresh:function(){this.exprstr=null,this.checkedY=null,this.checkedTab=null}}},le={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonDialog",{staticClass:"mergeSearch-dialog",attrs:{title:e.title,visible:e.showVisible,save:e.saveForm},on:{"update:visible":function(t){e.showVisible=t},open:e.open}},[a("div",{staticClass:"container"},[a("div",{staticClass:"merge-left"},[a("div",{staticClass:"title"},[a("span",{staticClass:"label"},[e._v("组合查询模板")]),e._v(" "),a("el-button",{staticClass:"iconfont icon-shezhi",attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.config()}}})],1),e._v(" "),a("commonTablistY",{attrs:{options:e.tabsData},on:{change:e.changeTab},model:{value:e.checkedY,callback:function(t){e.checkedY=t},expression:"checkedY"}})],1),e._v(" "),a("div",{staticClass:"merge-right"},[a("div",{staticClass:"title"},[a("span",{staticClass:"label"},[e._v("组合查询内容")])]),e._v(" "),a("formInput",{attrs:{type:"textarea"},model:{value:e.exprstr,callback:function(t){e.exprstr=t},expression:"exprstr"}})],1)]),e._v(" "),e.checkedTab?a("div",{attrs:{slot:"foot"},slot:"foot"},[e._v("已选择："),a("span",{staticClass:"blue"},[e._v(e._s(e.checkedTab.name))])]):e._e()])},staticRenderFns:[]};var ce=a("C7Lr")(ie,le,!1,function(e){a("aJtJ")},null,null).exports,de={components:{},props:{options:[Object,Array],visible:{type:Boolean,default:!1},value:Array,isInit:{type:Boolean,default:!1}},data:function(){return{changeIndex:null,title:"排序规则设定",fieldData:[],sortData:[],sortVisible:!1,form:{name:null,fieldName:null,isDesc:null},rules:{name:{required:!0},isDesc:{required:!0}},gridColumns:[{text:"排序字段",align:"center",dataIndex:"name"},{text:"排序方式",align:"center",dataIndex:"isDesc",formatter:function(e){return{0:"正序",1:"倒序"}[e.row.isDesc]}}]}},computed:{showVisible:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}}},created:function(){},watch:{},methods:{open:function(){var e=this;this.sortData=new Array,this.isInit?this.sortData=this.options.filter(function(e){if(e.isDesc=e.default?0:null,e.default)return e}):this.value.forEach(function(t){var a=e.$deepClone(t);e.options.forEach(function(t){a.name===t.fieldName&&(a=e.$mergeObj(a,t),e.sortData.push(a))})})},addRow:function(){for(var e in this.form)this.form[e]=null;this.sortVisible=!0},changeRow:function(e){this.form=this.$deepClone(e),this.sortVisible=!0},openSortField:function(){var e=this;this.fieldData=this.options.map(function(t){var a=e.$deepClone(t);return a.disabled=!1,e.sortData.forEach(function(e){e.fieldName===a.fieldName&&(a.disabled=!0)}),a})},delRow:function(e){this.sortData.splice(e.$index,1)},saveForm:function(){var e=this.$deepClone(this.form);e.$index?this.sortData[e.$index]=e:this.sortData.push(e),this.sortVisible=!1},checkedChange:function(e){},saveSort:function(){var e=this.sortData.map(function(e){return{name:e.fieldName,isDesc:e.isDesc}});this.$emit("save",e)},dragEnd:function(e,t){var a=this,o=this.$deepClone(this.sortData),r=this.$deepClone(this.gridColumns);this.sortData=new Array,setTimeout(function(){var s=o.splice(t,1)[0];o.splice(e,0,s),a.sortData=a.$deepClone(o),a.gridColumns=a.$deepClone(r)},100)}}},ue={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonDialog",{staticClass:"sort-dialog-wrapper",attrs:{title:e.title,visible:e.showVisible,save:e.saveSort},on:{"update:visible":function(t){e.showVisible=t},open:e.open}},[a("commonTable",{staticClass:"sortTable paddingX",attrs:{sortName:"排序号",dragable:"",autoOperate:"",gridColumns:e.gridColumns,options:e.sortData},on:{changeRow:e.changeRow,delRow:e.delRow,dragEnd:e.dragEnd}},[a("commonSearch",[a("el-button",{attrs:{slot:"left",size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addRow()}},slot:"left"},[e._v("添加")])],1)],1),e._v(" "),a("commonDialog",{attrs:{appendBody:"",height:"300px",width:"500px",title:"排序规则",visible:e.sortVisible,form:e.form,rules:e.rules,save:e.saveForm},on:{"update:visible":function(t){e.sortVisible=t},open:e.openSortField}},[a("commonForm",[a("formRow",{attrs:{label:"排序字段",required:"",rule:e.rules.name}},[a("formSelect",{attrs:{filter:"",label:e.form.name,rule:e.rules.name,props:{label:"name",value:"fieldName"},options:e.fieldData,placeholder:"请选择排序字段"},on:{"update:label":function(t){return e.$set(e.form,"name",t)}},model:{value:e.form.fieldName,callback:function(t){e.$set(e.form,"fieldName",t)},expression:"form.fieldName"}})],1),e._v(" "),a("formRow",{attrs:{label:"排序规则",required:"",rule:e.rules.isDesc}},[a("formSelect",{attrs:{options:[{id:0,name:"正序"},{id:1,name:"倒序"}],rule:e.rules.isDesc,placeholder:"请选择排序规则"},model:{value:e.form.isDesc,callback:function(t){e.$set(e.form,"isDesc",t)},expression:"form.isDesc"}})],1)],1)],1)],1)},staticRenderFns:[]};var he=a("C7Lr")(de,ue,!1,function(e){a("I/yN")},null,null).exports,me=a("hRKE"),fe=a.n(me),pe=a("2bvH");o.default.use(pe.a);var ge={appInfo:function(e){return localStorage.appInfo?JSON.parse(localStorage.appInfo):e.appInfo},userInfo:function(e){return void 0!==e.userInfo&&q()(e.userInfo).length>0?e.userInfo:sessionStorage[e.systemPrefix+"userInfo"]?JSON.parse(sessionStorage[e.systemPrefix+"userInfo"]):{}},menuData:function(e){return e.menuData.length<=0&&(localStorage[e.systemPrefix+"userMenu"]?e.menuData=JSON.parse(localStorage[e.systemPrefix+"userMenu"]):e.menuData=[]),e.menuData},codeData:function(e){return 0===q()(e.codeData).length&&localStorage[e.systemPrefix+"codeData"]&&(e.codeData=JSON.parse(localStorage[e.systemPrefix+"codeData"])),e.codeData},tagData:function(e){return 0===q()(e.tagData).length&&localStorage[e.systemPrefix+"tagData"]&&(e.tagData=JSON.parse(localStorage[e.systemPrefix+"tagData"])),e.tagData},userPage:function(e){return q()(e.userPage).length>0?e.userPage:(localStorage[e.systemPrefix+"page"]||localStorage.setItem(e.systemPrefix+"page",d()({})),JSON.parse(localStorage[e.systemPrefix+"page"]))},userDialog:function(e){return q()(e.userDialog).length>0?e.userDialog:(localStorage[e.systemPrefix+"dialog"]||localStorage.setItem(e.systemPrefix+"dialog",d()({})),JSON.parse(localStorage[e.systemPrefix+"dialog"]))},userTree:function(e){return q()(e.userTree).length>0?e.userTree:(localStorage[e.systemPrefix+"tree"]||localStorage.setItem(e.systemPrefix+"tree",d()({})),JSON.parse(localStorage[e.systemPrefix+"tree"]))},userTable:function(e){return q()(e.userTable).length>0?e.userTable:(localStorage[e.systemPrefix+"table"]||localStorage.setItem(e.systemPrefix+"table",d()({})),JSON.parse(localStorage[e.systemPrefix+"table"]))}},ve={toggleOpenMenu:function(e){e.openMenu=!e.openMenu},updateOpenMenu:function(e,t){e.openMenu=t},updateMenuActiveIndex:function(e,t){e.menuActiveIndex=t},updateHeaderMenuIndex:function(e,t){e.headerMenuIndex=t},updateMenuData:function(e,t){e.menuData=t},updateCodeData:function(e,t){e.codeData=t},updateTagData:function(e,t){e.tagData=t},updateRefreshHeight:function(e,t){e.refreshHeight=t},updatePageLoading:function(e,t){e.pageLoading=t},updateUserPage:function(e,t){o.default.prototype.$set(e.userPage,t[0],t[1]),localStorage.setItem(e.systemPrefix+"page",d()(e.userPage))},updateUserDialog:function(e,t){o.default.prototype.$set(e.userDialog,t[0],t[1]),localStorage.setItem(e.systemPrefix+"dialog",d()(e.userDialog))},updateUserTree:function(e,t){o.default.prototype.$set(e.userTree,t[0],t[1]),localStorage.setItem(e.systemPrefix+"tree",d()(e.userTree))},updateUserTable:function(e,t){o.default.prototype.$set(e.userTable,t[0],t[1]),localStorage.setItem(e.systemPrefix+"table",d()(e.userTable))}},be=new pe.a.Store({state:{systemPrefix:"cadre_",refreshLocal:["page","table","tree","dialog"],appInfo:{appName:"干部信息管理系统",appIcon:"icon-xinxi"},openMenu:!1,menuActiveIndex:0,headerMenuIndex:0,pageLoading:!1,refreshHeight:!1,refreshContainer:!1,userInfo:{},menuData:[],codeData:{},tagData:{},userPage:{},userDialog:{},userTree:{},userTable:{}},getters:ge,mutations:ve}),Ce=a("+YgL"),ye=!0,we=function(){var e=navigator.userAgent,t=e.indexOf("Opera")>-1,a=e.indexOf("compatible")>-1&&e.indexOf("MSIE")>-1&&!t,o=(e.indexOf("Edge"),e.indexOf("Firefox"),e.indexOf("Safari")>-1&&e.indexOf("Chrome"),e.indexOf("Chrome")>-1&&e.indexOf("Safari")>-1);if(a){new RegExp("MSIE (\\d+\\.\\d+);").test(e);var r=parseFloat(RegExp.$1);if(10!==r||11==r)return ye=!1,"flex flex_2 posLeft"}if(o&&function(){for(var e=navigator.userAgent.split(" "),t="",a=0;a<e.length;a++)/chrome/i.test(e[a])&&(t=e[a]);return!!t&&Number(t.split("/")[1].split(".")[0])}()<57)return ye=!1,"flex flex_2 posLeft";return"grid grid_2 posLeft"},xe=!1,De=!1,Ie=0,$e=0,ke=new function(){var e=this;this.translate={},this.rowSpanCount=0,this.layOut=we(),this.makeVue=function(t,a){be.commit("updatePageLoading",++be.state.pageLoading),Ie=0,xe=t.isMasterTable,De=!!t.multipleChange&&t.multipleChange,e.translate=t.translate,e.rowSpanCount=0;var r=t.data,s=new Object,n=new Object,i=new Array,l=new Object,c=new Array;for(var d in r.fields.forEach(function(e){l[e.appTableFieldGroupName]||(l[e.appTableFieldGroupName]=new Array),l[e.appTableFieldGroupName].push(e)}),l)c.push({groupName:d,children:l[d]});var u=c.filter(function(e){return!1!==e.show}).map(function(t){var a=e.initVue(t.children);if(!xe){var r=e.initColumn(t.children);i.push.apply(i,j()(r))}return s=o.default.prototype.$mergeObj(a.form,s),n=o.default.prototype.$mergeObj(a.rules,n),t.components={template:xe?a.defaultHtml:"<div>"+a.defaultHtml+a.lazyHtml+"</div>",data:function(){return a.data},props:["form","rules","translate"],methods:a.methods},delete t.children,t});setTimeout(function(){be.commit("updatePageLoading",--be.state.pageLoading)},10*Ie),a({columns:i,result:u,form:s,rules:n,isStrongBrowser:ye})},this.initColumn=function(t){var a=new Array;return t.forEach(function(t,r){if(!1!==t.showInList){~t.fieldNameCn.indexOf("免职的单位")&&(console.log("item+++++"),console.log(t));var s={align:"left",sort:t.sortInList,text:t.fieldNameCn.indexOf("代码")?t.fieldNameCn.replace("代码",""):t.fieldNameCn,dataIndex:t.fieldNameEn,formatter:function(a){if("0"===t.codeSetType){var r=be.state.codeData[t.codeSetName].sysCodeItemModels.filter(function(e){return e.code===a.row[t.fieldNameEn]});if(r.length>0)return r[0].name+""}if("1"===t.codeSetType||"2"===t.codeSetType)return e.translate[a.row[t.fieldNameEn]]+"";if(a.row[t.fieldNameEn]&&a.row[t.fieldNameEn].length>=10){var s=o.default.prototype.$moment(a.row[t.fieldNameEn]).format("YYYY-MM");if("Invalid date"!==s)return s+""}return a.row[t.fieldNameEn]?a.row[t.fieldNameEn]+"":""}};a.push(s)}}),a.sort(function(e,t){return(e.sort?e.sort:100)-(t.sort?t.sort:100)})},this.initVue=function(t){var a={defaultHtml:"",lazyHtml:"",data:{},form:{},rules:{},methods:{}};return a.defaultHtml+='<commonForm class="msgBottom '+e.layOut+'">',ye&&t.length>=8&&(a.lazyHtml+='<vueLazyComponent :setTimeout="5000"><commonForm class="msgBottom '+e.layOut+'">'),t.filter(function(e){return e.defaultHtml}).forEach(function(t,r){if(Ie++,function(e){if("string"==typeof e)try{var t=JSON.parse(e);return!("object"!=(void 0===t?"undefined":fe()(t))||!t)}catch(t){return console.log("error："+e+"!!!"+t),!1}return!1}(t.defaultScript)){t.defaultScript=JSON.parse(t.defaultScript);t.defaultScript=o.default.prototype.$mergeObj({data:{form:{},rules:{}},methods:{initTranslate:function(e,t){return t[e]}}},t.defaultScript)}else t.defaultScript={data:{form:{},rules:{}},methods:{}},o.default.prototype.$showMsg("error",t.fieldNameCn+" ->数据格式配置问题");if(t.readOnly&&(t.defaultHtml=t.defaultHtml.replace("v-model","disabled v-model")),t.defaultScript.data.rules||(t.defaultScript.data.rules={}),t.defaultScript.data.rules[t.fieldNameEn]||(t.defaultScript.data.rules[t.fieldNameEn]={}),t.necessary?(~t.defaultHtml.indexOf("required")||(t.defaultHtml=t.defaultHtml.replace("<formRow","<formRow required")),t.defaultScript.data.rules[t.fieldNameEn].required=!0):(delete t.defaultScript.data.rules[t.fieldNameEn].required,t.defaultScript.data.rules[t.fieldNameEn]&&0!==q()(t.defaultScript.data.rules[t.fieldNameEn]).length||(t.defaultHtml=t.defaultHtml.replace("required",""))),De&&(t.defaultHtml=t.defaultHtml.replace("required","")),~t.dbFieldDataType.indexOf("VARCHAR2(")){var s=t.dbFieldDataType.indexOf("VARCHAR2(")+9,n=t.dbFieldDataType.substring(s),i=Number(n.replace(")",""));t.defaultScript.data.rules[t.fieldNameEn].maxLength=i}else if(~t.dbFieldDataType.indexOf("VARCHAR(")){var l=t.dbFieldDataType.indexOf("VARCHAR(")+8,c=t.dbFieldDataType.substring(l),d=Number(c.replace(")",""));t.defaultScript.data.rules[t.fieldNameEn].maxLength=d}else if(~t.dbFieldDataType.indexOf("NUMBER(")){var u=t.dbFieldDataType.indexOf("NUMBER(")+7,h=t.dbFieldDataType.substring(u).split(",");h.length>1?(t.defaultScript.data.rules[t.fieldNameEn].float=h[1],t.defaultScript.data.rules[t.fieldNameEn].maxLength=h[0]):(t.defaultScript.data.rules[t.fieldNameEn].number=!0,t.defaultScript.data.rules[t.fieldNameEn].maxLength=h[0])}else~t.dbFieldDataType.indexOf("BLOB")||t.dbFieldDataType.indexOf("DATE");switch(t.defaultHtml=t.defaultHtml.replace(/<br>/g,""),t.codeSetType){case"0":case"2":t.defaultHtml=t.defaultHtml.replace("$prefix",t.codeSetName);break;case"1":t.defaultHtml=t.defaultHtml.replace("$translate","initTranslate(form['"+t.fieldNameEn+"'],translate)")}if(e.rowSpanCount>0){var m=$e-e.rowSpanCount+1;t.defaultHtml=t.defaultHtml.replace("<formRow",'<formRow class="rowspan_'+m+'"'),e.rowSpanCount--}if(~t.defaultHtml.indexOf("gridArea")){var f='gridArea:"',p=t.defaultHtml.indexOf(f)+f.length,g=t.defaultHtml.slice(p),v=parseInt(g[4])-parseInt(g[0]);Object(Ce.isNumber)(v)&&(v%2==0?v-=1:(e.strongLayout=e.strongLayout.replace("posLeft","posRight"),e.layout=e.layout.replace("posLeft","posRight")),e.rowSpanCount=v,$e=v)}ye&&r>=8&&!xe&&!~t.defaultHtml.indexOf("gridArea")?a.lazyHtml+=t.defaultHtml:a.defaultHtml+=t.defaultHtml;var b=t.defaultScript;for(var C in a.form=o.default.prototype.$mergeObj(a.form,b.data.form,!0),De||(a.rules=o.default.prototype.$mergeObj(a.rules,b.data.rules,!0)),a.methods=o.default.prototype.$mergeObj(a.methods,b.methods,!0),a.methods)a.methods[C]=new Function("return "+a.methods[C])()}),ye&&t.length>=8&&(a.lazyHtml+="</commonForm></vueLazyComponent>"),a.defaultHtml+="</commonForm>",a.methods.initTranslate=function(e,t){return t?t[e]:""},a},this.updateTranslate=function(t){e.translate=t}},Te={components:{},props:{options:{type:Object,default:function(){return{name:""}}},translateFields:Object,visible:{type:Boolean,default:!1},reset:{type:Boolean,default:!1}},data:function(){return{vueData:null,viewList:[],form:{},rules:{},tableNameEn:null}},computed:{showVisible:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}}},methods:{open:function(){for(var e in this.form)this.form[e]=null,this.options[e]&&(this.form[e]=this.options[e]);this.tableNameEn&&this.tableNameEn===this.options.tableNameEn||(this.tableNameEn=this.options.tableNameEn,this.loadVue())},loadVue:function(){var e=this;this.form={},this.rules={},this.viewList=[];var t={prjCode:this.options.prjCode,tableTypeName:this.options.tableTypeName,tableName:this.options.tableNameEn};this.$loadCadreVue(t,function(t){e.vueData=t,e.initVue()})},initVue:function(){var e=this,t={data:this.vueData.tables[0],isMasterTable:!!this.options.isMasterTable,translate:{}};ke.makeVue(t,function(t){for(var a in e.form=e.$mergeObj(t.form,e.form),e.rules=e.$mergeObj(t.rules,e.rules),e.form)e.options[a]&&(e.form[a]=e.options[a]);e.viewList=t.result})},saveForm:function(){var e=new Object;for(var t in this.form)this.form[t]&&(e[t]=this.form[t]);this.$emit("save",e)}}},_e={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonDialog",{staticClass:"multipleAdd-dialog",attrs:{title:e.options.name,width:"1100px",visible:e.showVisible,rules:e.rules,form:e.form,save:e.saveForm},on:{"update:visible":function(t){e.showVisible=t},open:e.open}},e._l(e.viewList,function(t,o){return a("div",{key:o,staticClass:"pageBox"},[a("commonTitle",{attrs:{title:t.groupName}},[a("el-button",{attrs:{slot:"left",circle:"",type:"primary"},slot:"left"},[e._v(e._s(++o))])],1),e._v(" "),t.components?a(t.components,{tag:"component",attrs:{form:e.form,rules:e.rules,translate:e.translateFields}}):e._e()],1)}),0)},staticRenderFns:[]};var Ne=a("C7Lr")(Te,_e,!1,function(e){a("PcWh")},null,null).exports,Se={components:{},props:{options:{type:Object,default:function(){return{name:""}}},visible:{type:Boolean,default:!1},reset:{type:Boolean,default:!1}},data:function(){return{vueData:null,viewList:[],form:{},rules:{},translateFields:{},tableNameEn:null}},computed:{showVisible:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}}},created:function(){},methods:{open:function(){for(var e in this.form)this.form[e]=null;this.tableNameEn&&this.tableNameEn===this.options.tableNameEn||(this.tableNameEn=this.options.tableNameEn,this.loadVue())},loadVue:function(){var e=this;this.form={},this.rules={},this.viewList=[];var t={prjCode:"200",tableTypeName:"CadreInfo",tableName:this.options.tableNameEn};this.$loadCadreVue(t,function(t){e.vueData=t,e.initVue()})},initVue:function(){var e=this,t={data:this.vueData.tables[0],isMasterTable:!0,translate:{},multipleChange:!0};ke.makeVue(t,function(t){e.form=e.$mergeObj(t.form,e.form),e.rules=e.$mergeObj(t.rules,e.rules),e.viewList=t.result})},uploadSuccess:function(e,t){this.$emit("uploadPhoto")},saveForm:function(){var e=new Object;for(var t in this.form)this.form[t]&&(e[t]=this.form[t]);this.$emit("save",e,!0)}}},Re={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonDialog",{staticClass:"multipleChange-dialog",attrs:{title:e.options.name,width:"1100px",visible:e.showVisible,rules:e.rules,form:e.form,save:e.saveForm},on:{"update:visible":function(t){e.showVisible=t},open:e.open}},e._l(e.viewList,function(t,o){return a("div",{key:o,staticClass:"pageBox"},[a("commonTitle",{attrs:{title:t.groupName}},[a("el-button",{attrs:{slot:"left",circle:"",type:"primary"},slot:"left"},[e._v(e._s(o+1))])],1),e._v(" "),a(t.components,{tag:"component",attrs:{form:e.form,rules:e.rules,translate:e.translateFields},on:{uploadSuccess:e.uploadSuccess}})],1)}),0)},staticRenderFns:[]};var Me=a("C7Lr")(Se,Re,!1,function(e){a("MnoL")},null,null).exports,Fe={name:"cadreManager",components:{moreDialog:ne,mergeDialog:ce,sortDialog:he,multipleAddDialog:Ne,multipleChangeDialog:Me},props:{searchData:Object,organizationName:String},data:function(){return{searchText:"",multiple:!1,moreCount:0,conditions:null,local:"cadreInfo",checkedVal:[],gridSorts:[],tableData:[],gridColumns:[],multipleInfo:{name:"新增干部",tableNameEn:"EmpA001",prjCode:"200",tableTypeName:"CadreInfo"},dropData:{operate:[{name:"添加",icon:"el-icon-plus",eName:"addRow"},{name:"批量删除",icon:"el-icon-delete",eName:"delRow"},{name:"批量修改",icon:"el-icon-plus",children:[{name:"职级情况",tableNameEn:"EmpA05"},{name:"公务员登记",tableNameEn:"EmpA61"},{name:"学习(培训 进修)",tableNameEn:"EmpA11"},{name:"考核情况",tableNameEn:"EmpA15"}]},{name:"批量修改",icon:"el-icon-edit",children:[{name:"基本情况",tableNameEn:"EmpA001",change:!0}]}],downLoad:[{name:"干部花名册",eName:"downLoadGbhmc"},{name:"干部花名册(不含单位)",eName:"downLoadGbhmc",data:{containDepartment:!1}},{name:"干部花名册(包含身份证号)",eName:"downLoadGbhmc",data:{containIdCardNo:!0}},{name:"干部花名册(职务关联单位)",eName:"downLoadGbhmc",data:{containDutyDepart:!0}},{name:"干部任免表lrmx",eName:"downLoadGbLrmx"},{name:"干部任免表word",eName:"downLoadGbWord"}],merge:[{name:"查询",icon:"el-icon-search",eName:"mergeSearch"},{name:"添加",icon:"el-icon-plus",eName:"mergeConfig"}]},formControl:{visible:!1,refresh:!1,moreVisible:!1,mergeVisible:!1,sortVisible:!1,multipleAddVisible:!1,multipleChangeVisible:!1},multipleSaveUrl:this.$baseUrl+"sys/batchSaveSysTableData?",multipleUpdateUrl:this.$baseUrl+"sys/batchUpdateSysTableData?",saveUrl:this.$baseUrl+"sys/saveSysTableData?",updateUrl:this.$baseUrl+"sys/updateSysTableData?",delUrl:this.$baseUrl+"sys/deleteSysTableData?"}},created:function(){},computed:{mergeCount:function(){return this.searchData.combinedQueryId?1:0},sortCount:function(){return"1"===this.searchData.isInit?2:this.searchData.sorts.length},translateFields:function(){var e={};return e[this.searchData.deptId]=this.organizationName,e}},watch:{searchData:{handler:function(){this.loadData()},deep:!0}},methods:{refreshAll:function(){this.loadData(),this.$emit("refreshAll")},onSearch:function(){this.searchData.name=this.searchText},moreSearch:function(){this.formControl.moreVisible=!0},mergeSearch:function(){this.formControl.mergeVisible=!0},mergeConfig:function(){this.$router.push({name:"MergeSearchConfig",query:{}})},mergeSort:function(){this.formControl.sortVisible=!0},refreshClick:function(){this.$route.query.combinedQueryId&&this.$router.push({name:"CadreManager"}),this.moreCount=0,this.searchText="",this.conditions=null,this.searchData.cadreTagIds="",this.searchData.combinedQueryId="",this.searchData.tableConditions="",this.searchData.sorts=new Array,this.searchData.isInit="1",this.$refs.moreDialog.refresh(),this.$refs.mergeDialog.refresh(),this.loadData()},dropClick:function(e){e.eName&&this[e.eName]?this[e.eName](e.data):e.change?this.multipleChange(e):e.tableNameEn&&this.multipleAdd(e)},dragEnd:function(e,t){var a=this,o=this.tableData,r={data:{fromEmpId:o[t].EMP_ID,toEmpId:o[e].EMP_ID,orgId:this.searchData.deptId,moveType:e>t?"1":"0"},url:this.$baseUrl+"cadre/sortInDep/modify"};this.$ajaxPost(r,!0,function(r){if(200===r.code)a.$showMsg("success","移动成功");else{var s=o.splice(t,1)[0];o.splice(e,0,s),a.$showMsg("error",r.message)}a.loadData()})},addRow:function(){this.multiple=!1,this.multipleInfo=this.$mergeObj(this.multipleInfo,{name:"新增干部",tableNameEn:"EmpA001",isMasterTable:!0,a001004a:this.searchData.deptId}),this.formControl.multipleAddVisible=!0},changeRow:function(e,t){var a={EMP_ID:e.EMP_ID,appCode:"200",tableTypeName:"CadreInfo"};sessionStorage.setItem("cadreSearch",d()(this.searchData)),this.$router.push({name:"CadreDepartChange",query:a})},multipleAdd:function(e){this.multiple=!0,0!==this.checkedVal.length?(this.multipleInfo=this.$mergeObj(this.multipleInfo,e),this.formControl.multipleAddVisible=!0):this.$showMsg("error","请选择需要批量修改的数据")},multipleChange:function(e){this.multiple=!0,0!==this.checkedVal.length?(this.multipleInfo=this.$mergeObj(this.multipleInfo,e),this.formControl.multipleChangeVisible=!0):this.$showMsg("error","请选择需要批量修改的数据")},delRow:function(e){var t=this,a=[];if(e)a=[e.EMP_ID];else{if(!(this.checkedVal.length>0))return void this.$showMsg("error","请选择需要批量删除的数据");a=this.checkedVal}this.$showConfirm("确定删除该数据？",function(){var o={data:{appCode:"200",tableTypeName:"CadreInfo",tableName:"EmpA001",tableNamePK:"EMP_ID",tableNamePKValue:e.EMP_ID,form:{EMP_ID:a}},url:t.delUrl};o.data.form=d()(o.data.form),t.$ajaxPost(o,!0,function(e){200===e.code?(t.loadData(),t.$showMsg("success","删除成功")):t.$showMsg("error",e.message)})})},checkedChange:function(e){this.checkedVal=e.map(function(e){return e.EMP_ID})},returnForTable:function(e){var t=new Array,a=e.cadres.map(function(e){var t={};return e.fields.forEach(function(e){t[e.fieldNameEn]=e.fieldValue}),t});for(var o in e.tableFields)if("EMP_ID"!==o){var r={text:e.tableFields[o],align:"left",dataIndex:o};t.push(r)}return{totalCount:e.dataCount,sorts:e.sortFields,columns:t,data:a}},loadData:function(){var e=this,t=!0;for(var a in this.searchData)null===this.searchData[a]&&(t=!1);if(t){var o={url:this.$baseUrl+"cadre/list",data:this.searchData};this.$ajaxPost(o,!0,function(t){if(console.log("表格数据res++++++"),console.log(t),200===t.code){var a=e.returnForTable(t.data);e.gridColumns=a.columns,e.gridSorts=a.sorts,e.tableData=a.data,e.$refs.commonTable.totalCount=a.totalCount}else e.$showMsg("error",t.message)})}},saveMore:function(e,t){this.conditions=t||null,this.moreCount=e&&e.count?e.count:0,e?(this.searchData.cadreTagIds=e.cadreTagIds?e.cadreTagIds.join(","):"",this.searchData.tableConditions=q()(e.tableConditions).length>0?d()(e.tableConditions):""):(this.searchData.cadreTagIds="",this.searchData.tableConditions="")},saveMerge:function(e,t){e&&(this.searchData.combinedQueryId=e.combinedQueryId),this.searchData.exprStr=t},saveSort:function(e){this.searchData.isInit="0",this.searchData.sorts=e,this.formControl.sortVisible=!1},multipleSave:function(e,t){var a=this;if(this.multiple){var o={data:{appCode:"200",tableTypeName:"CadreInfo",tableName:this.multipleInfo.tableNameEn,tableNameFK:"EMP_ID",tableNameFKValue:this.checkedVal.join(","),tableNamePK:"subId",tableNamePKValue:"",form:d()(e)},url:t?this.multipleUpdateUrl:this.multipleSaveUrl};t&&(delete o.data.tableNameFK,delete o.data.tableNameFKValue,o.data.tableNamePK="EMP_ID",o.data.tableNamePKValues=this.checkedVal.join(",")),this.$ajaxPost(o,!0,function(e){200===e.code?(a.loadData(),a.$showMsg("success","批量修改成功"),a.formControl.multipleAddVisible=!1,a.formControl.multipleChangeVisible=!1,a.refreshAll()):a.$showMsg("error",e.message)})}else this.saveForm(e,t)},saveForm:function(e,t){var a=this,o={data:{appCode:this.multipleInfo.prjCode,tableTypeName:this.multipleInfo.tableTypeName,tableName:this.multipleInfo.tableNameEn,tableNameFK:"",tableNameFKValue:"",tableNamePK:"EMP_ID",tableNamePKValue:"",form:d()(e)},url:t?this.updateUrl:this.saveUrl};t&&(o.data.tableNamePKValue=this.checkedVal.join(",")),this.$ajaxPost(o,!0,function(e){200===e.code?(a.loadData(),a.$showMsg("success","新增成功"),a.formControl.multipleAddVisible=!1,a.formControl.multipleChangeVisible=!1):a.$showMsg("error",e.message)})},downLoadGbhmc:function(e){var t={data:{orgId:this.searchData.deptId,containChild:"1"===this.searchData.includeSubNode,empIds:this.checkedVal.join(","),containDepartment:!0,containIdCardNo:!1,containDutyDepart:!1},url:this.$baseUrl+"export/gbhmc/generateAndExport?"};e&&(t.data=this.$mergeObj(t.data,e)),this.$downLoad(t)},downLoadGbLrmx:function(){if(0!==this.checkedVal.length){var e={data:{empIds:this.checkedVal.join(",")},url:this.$baseUrl+"export/gbrmb/bj/lrmx/generateAndExport?"};this.$downLoad(e)}else this.$showMsg("error","请选择需要导出的数据")},downLoadGbWord:function(){if(0!==this.checkedVal.length){var e={data:{empIds:this.checkedVal.join(",")},url:this.$baseUrl+"export/gbrmb/bj/word/generateAndExport?"};this.$downLoad(e)}else this.$showMsg("error","请选择需要导出的数据")}}},Pe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cadreTable padding"},[a("commonTable",{ref:"commonTable",attrs:{slot:"right",local:e.local,dragable:"",autoHeight:"",autoOperate:"",showPagination:"",showSelect:"",gridColumns:e.gridColumns,options:e.tableData,search:e.searchData},on:{delRow:e.delRow,changeRow:e.changeRow,checkedChange:e.checkedChange,dragEnd:e.dragEnd},slot:"right"},[a("commonSearch",[a("formDropDown",{attrs:{slot:"left",type:"primary",options:e.dropData.operate,title:"操作",icon:"icon-sheshi"},on:{click:e.dropClick},slot:"left"}),e._v(" "),a("formDropDown",{attrs:{slot:"left",type:"primary",options:e.dropData.downLoad,title:"导出表格/表单",icon:"icon-biaodan"},on:{click:e.dropClick},slot:"left"}),e._v(" "),a("el-button",{staticClass:"easyBtn blue iconfont icon-shengxu",attrs:{slot:"right",size:"mini",type:"",icon:""},on:{click:function(t){return e.mergeSort()}},slot:"right"},[e._v("\n                排序\n                "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.sortCount>0,expression:"sortCount>0"}],staticClass:"count bgred",attrs:{title:"已选择"+e.sortCount+"个条件"}},[e._v(e._s(e.sortCount))])]),e._v(" "),a("formInput",{staticClass:"radius",attrs:{slot:"right",placeholder:"根据姓名搜索",suffixIcon:"el-icon-search"},on:{iconClick:e.onSearch},slot:"right",model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}}),e._v(" "),a("el-button",{staticClass:"easyBtn",attrs:{slot:"right",size:"mini",type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.moreSearch()}},slot:"right"},[e._v("\n                高级查询\n                "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.moreCount>0,expression:"moreCount>0"}],staticClass:"count bgred",attrs:{title:"已选择"+e.moreCount+"个条件"}},[e._v(e._s(e.moreCount))])]),e._v(" "),a("formDropDown",{staticClass:"easyBtn",attrs:{slot:"right",type:"primary",options:e.dropData.merge,title:"组合查询",icon:"icon-sheshi"},on:{click:e.dropClick},slot:"right"},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.mergeCount>0,expression:"mergeCount>0"}],staticClass:"count bgred",attrs:{title:"已选择"+e.mergeCount+"个条件"}},[e._v(e._s(e.mergeCount))])]),e._v(" "),a("el-button",{attrs:{slot:"right",size:"mini",type:"warning",icon:"el-icon-refresh"},on:{click:function(t){return e.refreshClick()}},slot:"right"},[e._v("重置查询")])],1)],1),e._v(" "),a("moreDialog",{ref:"moreDialog",attrs:{visible:e.formControl.moreVisible,options:e.conditions},on:{"update:visible":function(t){return e.$set(e.formControl,"moreVisible",t)},save:e.saveMore}}),e._v(" "),a("mergeDialog",{ref:"mergeDialog",attrs:{visible:e.formControl.mergeVisible},on:{"update:visible":function(t){return e.$set(e.formControl,"mergeVisible",t)},save:e.saveMerge}}),e._v(" "),a("sortDialog",{ref:"sortDialog",attrs:{isInit:"1"===e.searchData.isInit,visible:e.formControl.sortVisible,options:e.gridSorts},on:{"update:visible":function(t){return e.$set(e.formControl,"sortVisible",t)},save:e.saveSort},model:{value:e.searchData.sorts,callback:function(t){e.$set(e.searchData,"sorts",t)},expression:"searchData.sorts"}}),e._v(" "),a("multipleAddDialog",{ref:"multipleAddDialog",attrs:{visible:e.formControl.multipleAddVisible,options:e.multipleInfo,translateFields:e.translateFields},on:{"update:visible":function(t){return e.$set(e.formControl,"multipleAddVisible",t)},save:e.multipleSave}}),e._v(" "),a("multipleChangeDialog",{ref:"multipleChangeDialog",attrs:{visible:e.formControl.multipleChangeVisible,options:e.multipleInfo},on:{"update:visible":function(t){return e.$set(e.formControl,"multipleChangeVisible",t)},save:e.multipleSave}})],1)},staticRenderFns:[]};var Ae={name:"cadreManager",components:{Table:a("C7Lr")(Fe,Pe,!1,function(e){a("gxVg")},"data-v-e32dc012",null).exports},data:function(){return{collectData:[],pageTitle:"干部综合信息管理",clearAfter:!1,organizationName:"",searchData:{name:"",deptId:null,pageIndex:1,pageSize:20,includeSubNode:"1",exprStr:"",combinedQueryId:"",cadreTagIds:"",tableConditions:"",sorts:[],isInit:"1"}}},created:function(){this.loadTotalData()},methods:{nodeClick:function(e){this.organizationName=e.name,this.searchData.pageIndex=1},changeContain:function(e){this.searchData.includeSubNode=e?"1":"0",this.searchData.pageIndex=1},loadTotalData:function(){var e=this,t={data:{},method:"get",url:this.$baseUrl+"sys/getSysTableCount?"};this.$ajaxPost(t,!0,function(t){if(200===t.code){var a=new Array;for(var o in t.data){var r={name:"单位数量",class:"blue",count:t.data[o],unit:"个"};"cadreCount"===o&&(r.name="干部数量"),a.push(r)}e.collectData=a}else e.$showMsg("error",t.message)})},refreshAll:function(){this.loadTotalData()}},beforeRouteEnter:function(e,t,a){e.meta.isBack=!1,e.meta.useKeep.includes(t.name)&&(e.meta.isBack=!0),a()},activated:function(){this.$route.meta.isBack?(this.$set(this.searchData,"refresh",this.$moment().format("x")+"_refresh"),this.$refs.departTree.initScroll()):(this.searchData.deptId=null,this.searchData.pageIndex=1,this.searchData.pageSize=20,this.searchData.combinedQueryId="",this.$set(this.searchData,"refresh",this.$moment().format("x")+"_refresh"),this.$refs.departTree.renderTree()),this.$route.query.combinedQueryId&&(this.clearAfter||(this.searchData.combinedQueryId=this.$route.query.combinedQueryId))}},Ee={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"cadreManager-wrapper",attrs:{local:"cadreInfo"}},[a("commonTitle",{attrs:{slot:"title",showShadow:"",title:e.pageTitle,options:e.collectData},slot:"title"}),e._v(" "),a("departTree",{ref:"departTree",attrs:{slot:"left",local:"cadreInfo",showContain:""},on:{nodeClick:e.nodeClick,changeContain:e.changeContain},slot:"left",model:{value:e.searchData.deptId,callback:function(t){e.$set(e.searchData,"deptId",t)},expression:"searchData.deptId"}}),e._v(" "),a("Table",{ref:"table",attrs:{slot:"right",searchData:e.searchData,organizationName:e.organizationName},on:{refreshAll:e.refreshAll},slot:"right"})],1)},staticRenderFns:[]};var Ue=a("C7Lr")(Ae,Ee,!1,function(e){a("Ii3c")},null,null).exports,Ve={name:"cadreManager",components:{easyDialog:ne,multipleAddDialog:Ne},props:{searchData:Object},data:function(){return{searchText:"",easyCount:0,local:"departInfo",multipleInfo:{name:"新增单位",tableNameEn:"DepB001",prjCode:"201",tableTypeName:"DepartmentInfo"},dropData:{operate:[{name:"添加",icon:"el-icon-plus",eName:"addRow"},{name:"批量删除",icon:"el-icon-delete",eName:"delRow"}],downLoad:[{name:"领导职数(市级党委管理的单位)",eName:"downLoadGbhmc",data:{type:1}},{name:"领导职数(县级党委管理的单位)",eName:"downLoadGbhmc",data:{type:2}},{name:"领导职数(当前单位管理的单位)",eName:"downLoadGbhmc",data:{type:0}}]},formControl:{visible:!1,refresh:!1,easyVisible:!1,multipleAddVisible:!1,conditionVisible:!1,selectVisible:!1},gridColumns:[],easyCondition:null,saveUrl:this.$baseUrl+"sys/saveSysTableData?",updateUrl:this.$baseUrl+"sys/updateSysTableData?",delUrl:this.$baseUrl+"sys/deleteSysTableData?",unitClass:[],natureCategory:[],establishing:[],relation:[],treeData:[],form:{danWeiJiBie:"",liShuDanWei:"",danWeiBianZhiXingZhi:"",danWeiXingZhi:""},rules:{danWeiJiBie:{required:!0},liShuDanWei:{required:!0},danWeiBianZhiXingZhi:{required:!0},danWeiXingZhi:{required:!0}},searchTreeData:{organizationId:"",dataOrganizationId:""},treeProps:{value:"code",label:"name",children:"subTreeNode",hasChildren:"hasChildren"}}},created:function(){},watch:{searchData:{handler:function(){this.refreshLoad()},deep:!0},"formControl.refresh":function(e){e&&(this.formControl.refresh=!1,this.refreshLoad())}},methods:{refreshLoad:function(){this.loadData()},dropClick:function(e){e.eName&&this[e.eName]&&this[e.eName](e.data)},downLoadGbhmc:function(e){var t={data:{treeId:this.searchData.deptId,lines:0},url:this.$baseUrl+"export/dwldzs/generateLdSet?"};e&&(t.data=this.$mergeObj(t.data,e)),this.$downLoad(t)},condationDialog:function(){var e=this,t={url:this.$baseUrl+"export/dwldzs/getDepCondition"};this.$ajaxPost(t,!0,function(t){200===t.code?(e.unitClass=t.data.b01027,e.natureCategory=t.data.b01031,e.establishing=t.data.b02021,e.relation=t.data.b01025,e.formControl.conditionVisible=!0):e.$showMsg("error",t.message)})},changeCadre:function(e){"b01027"==e?this.treeData=this.unitClass:"b01031"==e?this.treeData=this.natureCategory:"b02021"==e?this.treeData=this.establishing:"b01025"==e&&(this.treeData=this.relation),this.formControl.selectVisible=!0},onSearch:function(){this.saveEasy()},easySearch:function(e){this.formControl.easyVisible=!0},addRow:function(){this.multiple=!1,this.multipleInfo=this.$mergeObj(this.multipleInfo,{name:"新增单位",tableNameEn:"DepB001",isMasterTable:!0}),this.formControl.multipleAddVisible=!0},multipleSave:function(e,t){var a=this;e.PPTR=this.searchData.PPTR,e.treeLevelCode=e.b001001A;var o={data:{appCode:this.multipleInfo.prjCode,tableTypeName:this.multipleInfo.tableTypeName,tableName:this.multipleInfo.tableNameEn,tableNameFK:"",tableNameFKValue:"",tableNamePK:"DEP_ID",tableNamePKValue:"",form:d()(e)},url:t?this.updateUrl:this.saveUrl};t&&(o.data.tableNamePKValue=this.checkedVal.join(",")),this.$ajaxPost(o,!0,function(e){200===e.code?(a.$showMsg("success","新增成功"),a.formControl.refresh=!0,a.formControl.multipleAddVisible=!1,a.loadData(),a.$emit("save")):a.$showMsg("error",e.message)})},changeRow:function(e){var t={DEP_ID:e.depId,appCode:"201",tableTypeName:"DepartmentInfo"};this.$router.push({name:"CadreDepartChange",query:t})},delRow:function(e){var t=this,a=[];if(e)a=[e.depId];else{if(!(this.checkedVal.length>0))return void this.$showMsg("error","请选择需要批量删除的数据");a=this.checkedVal}this.$showConfirm("确定删除该数据？",function(){var o={data:{appCode:"201",tableTypeName:"DepartmentInfo",tableName:"DepB001",form:{DEP_ID:a}},url:t.delUrl};o.data.form=d()(o.data.form),t.$ajaxPost(o,!0,function(a){200===a.code?(t.loadData(),t.$emit("delete",e),t.$showMsg("success","删除成功")):t.$showMsg("error",a.message)})})},checkedChange:function(e){this.checkedVal=e.map(function(e){return e.DEP_ID})},returnForTable:function(e){var t=new Array,a=e.deps.map(function(e){var t={};return e.fields.forEach(function(e){t[e.fieldNameEn]=e.fieldValue}),t});for(var o in e.tableFields)if("depId"!==o){var r={text:e.tableFields[o],align:"left",dataIndex:o};t.push(r)}return{totalCount:e.dataCount,columns:t,data:a}},loadData:function(){var e=this,t=!0;for(var a in this.searchData)null===this.searchData[a]&&(t=!1);if(t){var o={url:this.$baseUrl+"organization/list?",data:this.searchData,method:"get"};this.$ajaxPost(o,!0,function(t){if(200===t.code){var a=e.returnForTable(t.data);e.gridColumns=a.columns,e.$refs.commonTable.data=a.data,e.$refs.commonTable.totalCount=a.totalCount}else e.$showMsg("error",t.message)})}},saveEasy:function(e){var t=this;if(e&&(this.easyCondition=e),e=this.easyCondition,this.easyCount=e.count,this.searchText&&(e?(e.tableConditions||(e.tableConditions={}),this.easyCount+=1):(e={cadreTagIds:[],tableConditions:{}},this.easyCount=1),e.tableConditions.DepB001={fieldName:"b01001",condition:"like",conditionValue:this.searchText}),0!==this.easyCount||this.searchText){var a={data:{deptId:this.searchData.deptId,pageIndex:this.searchData.pageIndex,pageSize:this.searchData.pageSize,cadreTagIds:e.cadreTagIds.join(","),tableConditions:d()(e.tableConditions),appCode:"201"},url:this.$baseUrl+"cadre/search?"};this.$ajaxPost(a,!0,function(e){if(200===e.code){var a=t.returnForTable(e.data);t.gridColumns=a.columns,t.$refs.commonTable.data=a.data,t.$refs.commonTable.totalCount=a.totalCount}else t.$showMsg("error",e.message)})}else this.loadData()},refreshClick:function(){this.searchText="",this.easyCount=0,this.$refs.easyDialog.refresh(),this.loadData()},saveOptions:function(){},save:function(){}}},Le={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"departTable"},[a("commonTable",{ref:"commonTable",staticClass:"padding",attrs:{slot:"right",local:e.local,autoHeight:"",autoOperate:"",showPagination:"",showSelect:"",gridColumns:e.gridColumns,search:e.searchData},on:{delRow:e.delRow,changeRow:e.changeRow,checkedChange:e.checkedChange},slot:"right"},[a("commonSearch",[a("formDropDown",{attrs:{slot:"left",type:"primary",options:e.dropData.operate,title:"操作",icon:"icon-sheshi"},on:{click:e.dropClick},slot:"left"}),e._v(" "),a("formDropDown",{attrs:{slot:"left",type:"primary",options:e.dropData.downLoad,title:"导出表格",icon:"icon-biaodan"},on:{click:e.dropClick},slot:"left"})],1)],1),e._v(" "),a("easyDialog",{ref:"easyDialog",attrs:{visible:e.formControl.easyVisible},on:{"update:visible":function(t){return e.$set(e.formControl,"easyVisible",t)},save:e.saveEasy}}),e._v(" "),a("multipleAddDialog",{ref:"multipleAddDialog",attrs:{visible:e.formControl.multipleAddVisible,options:e.multipleInfo},on:{"update:visible":function(t){return e.$set(e.formControl,"multipleAddVisible",t)},save:e.multipleSave}}),e._v(" "),a("commonDialog",{attrs:{title:"添加账号",visible:e.formControl.conditionVisible,form:e.form,rules:e.rules,save:e.save},on:{"update:visible":function(t){return e.$set(e.formControl,"conditionVisible",t)}}},[a("commonForm",{attrs:{labelWidth:"150px"}},[a("formRow",{attrs:{label:"单位级别",required:"",rule:e.rules.danWeiJiBie}},[a("formInput",{attrs:{placeholder:"请选择单位级别",search:"请选择",rule:e.rules.danWeiJiBie},on:{search:function(t){return e.changeCadre("b01027")}},model:{value:e.form.danWeiJiBie,callback:function(t){e.$set(e.form,"danWeiJiBie",t)},expression:"form.danWeiJiBie"}})],1),e._v(" "),a("formRow",{attrs:{label:"隶属关系层次",required:"",rule:e.rules.liShuDanWei}},[a("formInput",{attrs:{placeholder:"请选择隶属关系层次",search:"请选择",rule:e.rules.liShuDanWei},on:{search:function(t){return e.changeCadre("b01025")}},model:{value:e.form.liShuDanWei,callback:function(t){e.$set(e.form,"liShuDanWei",t)},expression:"form.liShuDanWei"}})],1),e._v(" "),a("formRow",{attrs:{label:"编制性质",required:"",rule:e.rules.danWeiBianZhiXingZhi}},[a("formInput",{attrs:{placeholder:"请选择编制性质",search:"请选择",rule:e.rules.danWeiBianZhiXingZhi},on:{search:function(t){return e.changeCadre("b02021")}},model:{value:e.form.danWeiBianZhiXingZhi,callback:function(t){e.$set(e.form,"danWeiBianZhiXingZhi",t)},expression:"form.danWeiBianZhiXingZhi"}})],1),e._v(" "),a("formRow",{attrs:{label:"单位性质类别",required:"",rule:e.rules.danWeiXingZhi}},[a("formInput",{attrs:{placeholder:"请选择单位性质类别",search:"请选择",rule:e.rules.danWeiXingZhi},on:{search:function(t){return e.changeCadre("b01031")}},model:{value:e.form.danWeiXingZhi,callback:function(t){e.$set(e.form,"danWeiXingZhi",t)},expression:"form.danWeiXingZhi"}})],1)],1)],1),e._v(" "),a("commonDialog",{staticClass:"departDialog",attrs:{title:"单位树",appendBody:"",visible:e.formControl.selectVisible,save:e.saveOptions,width:"600px"},on:{"update:visible":function(t){return e.$set(e.formControl,"selectVisible",t)}}})],1)},staticRenderFns:[]};var qe={name:"departManager",components:{Table:a("C7Lr")(Ve,Le,!1,function(e){a("FWK1")},"data-v-c5d258c6",null).exports},data:function(){return{collectData:[],pageTitle:"单位综合信息管理",searchData:{PPTR:"",deptId:null,includeSubNode:"1",pageIndex:1,pageSize:20}}},created:function(){this.loadTotalData()},methods:{nodeClick:function(e){this.searchData.pageIndex=1,this.searchData.PPTR=e.code},changeContain:function(e){this.searchData.includeSubNode=e?"1":"0",this.searchData.pageIndex=1},loadTotalData:function(){var e=this,t={data:{},method:"get",url:this.$baseUrl+"sys/getSysTableCount?"};this.$ajaxPost(t,!0,function(t){if(200===t.code){var a=new Array;for(var o in t.data){var r={name:"单位数量",class:"blue",count:t.data[o],unit:"个"};"cadreCount"===o&&(r.name="干部数量"),a.push(r)}e.collectData=a}else e.$showMsg("error",t.message)})},updateNode:function(){var e=this.getNode(this.searchData.deptId);e.loaded=!1,e.expand(),this.loadTotalData()},removeNode:function(e){var t={id:e.depId};this.$refs.departTree.removeNode(t),this.loadTotalData()},getNode:function(e){return this.$refs.departTree.getNode(e)}},beforeRouteEnter:function(e,t,a){e.meta.isBack=!1,e.meta.useKeep.includes(t.name)&&(e.meta.isBack=!0),a()},activated:function(){this.$route.meta.isBack?(this.$set(this.searchData,"refresh",this.$moment().format("x")+"_refresh"),this.$refs.departTree.initScroll()):(this.searchData.deptId=null,this.searchData.pageIndex=1,this.searchData.pageSize=20,this.$set(this.searchData,"refresh",this.$moment().format("x")+"_refresh"),this.$refs.departTree.renderTree())}},Oe={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"departManager-wrapper",attrs:{local:"departInfo"}},[a("commonTitle",{attrs:{slot:"title",showShadow:"",title:e.pageTitle,options:e.collectData},slot:"title"}),e._v(" "),a("departTree",{ref:"departTree",attrs:{slot:"left",local:"departInfo",showContain:""},on:{nodeClick:e.nodeClick,changeContain:e.changeContain},slot:"left",model:{value:e.searchData.deptId,callback:function(t){e.$set(e.searchData,"deptId",t)},expression:"searchData.deptId"}}),e._v(" "),a("Table",{attrs:{slot:"right",searchData:e.searchData},on:{save:e.updateNode,delete:e.removeNode},slot:"right"})],1)},staticRenderFns:[]};var je=a("C7Lr")(qe,Oe,!1,function(e){a("DXIQ")},null,null).exports,Be={name:"merge-key",components:{},props:{options:[Array,Object],children:{type:Boolean,default:!1},level:Number},data:function(){return{data:[],showVisible:!1,colors:["#ddecfc","#b3d4f9","#8dbef6","#70aef4","#539ef2"]}},created:function(){var e=this.options;"object"===this.$getType(e)?this.data=[e]:this.data=e},computed:{newLevel:function(){return void 0!==this.level?this.level+1:1},style:function(){return{backgroundColor:this.colors[this.level]}}},watch:{options:{handler:function(){var e=this.options;"object"===this.$getType(e)?this.data=[e]:this.data=e},deep:!0}},methods:{getDropData:function(e,t){return[{name:"新增",icon:"el-icon-plus",class:"blue",eName:"addFunction",data:t},{name:"修改",icon:"el-icon-edit",class:"blue",eName:"changeFunction",data:t},{name:"删除",icon:"el-icon-delete",class:"red",eName:"delFunction",data:t}]},funClick:function(e){this.$emit("funClick",e)},funEnter:function(){console.log(11111),this.$emit("funEnter")}}},ze={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["mergeKey",{children:e.children},"levelName"]},e._l(e.data,function(t,o){return a("div",{key:o},[t.isFunction?a("div",{class:["value"],style:e.style},[a("formDropDown",{attrs:{type:"primary",icon:"el-icon-plus",options:e.getDropData(e.children,t)},on:{click:e.funClick},nativeOn:{mouseenter:function(t){return e.funEnter(t)}}},[a("div",{staticClass:"label",attrs:{slot:"link"},slot:"link"},[e._v(e._s(t.functionName))])]),e._v(" "),a("merge-key",{attrs:{level:e.newLevel,options:t.params,children:!0},on:{funClick:e.funClick,funEnter:e.funEnter}})],1):a("div",{staticClass:"value",style:e.style},[a("formDropDown",{attrs:{type:"primary",icon:"el-icon-plus",options:e.getDropData("first",t)},on:{click:e.funClick}},[a("div",{staticClass:"label",attrs:{slot:"link"},slot:"link"},[e._v(e._s(t.text))])])],1)])}),0)},staticRenderFns:[]};var He=a("C7Lr")(Be,ze,!1,function(e){a("cNoJ")},null,null).exports,Ge={name:"merge-query",components:{},props:{options:[Array,Object]},data:function(){return{data:[],colors:["#d3ede9","#9ed8ce","#6ec4b5","#49b5a2","#25a68f"]}},created:function(){this.data=this.$deepClone(this.options)},watch:{options:{handler:function(){this.data=this.$deepClone(this.options)},deep:!0}},methods:{click:function(){this.$emit("click")}}},We={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mergeQuery",on:{click:function(t){return t.stopPropagation(),e.click(t)}}},[a("div",{staticClass:"query"},[e._v(e._s(e.data.operator))])])},staticRenderFns:[]};var Ke=a("C7Lr")(Ge,We,!1,function(e){a("9cnj")},null,null).exports,Xe={name:"merge-value",components:{},props:{options:[Array,Object],children:{type:Boolean,default:!1},level:Number},data:function(){return{data:[],colors:["#e8e5fb","#ccc5f7","#b2a8f3","#9e92f0","#8b7ced"]}},created:function(){var e=this.$deepClone(this.options);"object"===this.$getType(e)?this.data=[e]:this.data=e},computed:{newLevel:function(){return void 0!==this.level?this.level+1:1},style:function(){return{backgroundColor:this.colors[this.level]}}},watch:{options:{handler:function(){var e=this.$deepClone(this.options);"object"===this.$getType(e)?this.data=[e]:this.data=e},deep:!0}},methods:{getDropData:function(e,t){return[{name:"新增",icon:"el-icon-plus",class:"blue",eName:"addFunction",data:t},{name:"修改",icon:"el-icon-edit",class:"blue",eName:"changeFunction",data:t},{name:"删除",icon:"el-icon-delete",class:"red",eName:"delFunction",data:t}]},funClick:function(e){this.$emit("funClick",e)}}},Ye={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["mergeValue",{children:e.children}]},e._l(e.data,function(t,o){return a("div",{key:o},[t.isFunction?a("div",{staticClass:"value",style:e.style},[a("formDropDown",{attrs:{type:"primary",icon:"el-icon-plus",options:e.getDropData(e.children,t)},on:{click:e.funClick}},[a("div",{staticClass:"label",attrs:{slot:"link"},slot:"link"},[e._v(e._s(t.functionName))])]),e._v(" "),a("merge-value",{attrs:{level:e.newLevel,options:t.params,children:!0},on:{funClick:e.funClick}})],1):a("div",{staticClass:"value",style:e.style},[a("formDropDown",{attrs:{type:"primary",icon:"el-icon-plus",options:e.getDropData("first",t)},on:{click:e.funClick}},[a("div",{staticClass:"label",attrs:{slot:"link"},slot:"link"},[e._v(e._s(t.text))])])],1)])}),0)},staticRenderFns:[]};var Qe={name:"mergeLeft-content",components:{mergeKey:He,mergeQuery:Ke,mergeVal:a("C7Lr")(Xe,Ye,!1,function(e){a("U5HR")},null,null).exports},props:{options:Array,children:{type:Boolean,default:!1},serialNum:[String,Number]},data:function(){return{count:1,data:[],dropData:{operate:[{name:"基础式",icon:"el-icon-plus",brackets:!1},{name:"嵌套式",icon:"el-icon-plus",brackets:!0}]}}},created:function(){this.data=this.options},watch:{options:{handler:function(){this.data=this.options},deep:!0}},methods:{getDropData:function(e){return[{name:"基础式",icon:"el-icon-plus",brackets:!1,data:e},{name:"嵌套式",icon:"el-icon-plus",brackets:!0,data:e}]},addRow:function(e){this.$emit("addRow",e)},delRow:function(e,t){var a=this;void 0!==t?this.$showConfirm("确定删除该表达式？",function(){a.data.splice(t,1),a.$emit("delRow",e)}):this.$emit("delRow",e)},changeRow:function(e,t){this.$emit("changeRow",e,t)},activeRow:function(e){this.$emit("activeRow",e)},funClick:function(e){this.$emit("funClick",e)}}},Je={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"merge-left-contet"},e._l(e.data,function(t,o){return a("div",{key:o,class:["group",{actived:t.actived},{valid:!1===t.compilePass}],on:{click:function(a){return a.stopPropagation(),e.activeRow(t)}}},[a("div",{staticClass:"title"},[a("div",{staticClass:"operate"},[a("span",{staticClass:"change icon iconfont icon-lianjie"}),e._v(" "),t.logicalOperator?a("span",{staticClass:"tip",on:{click:function(a){return a.stopPropagation(),e.changeRow(t,"showLogical")}}},[e._v(e._s(t.logicalOperator))]):a("span",{},[e._v("无")]),e._v(" "),a("span",{staticClass:"validError el-icon-warning"}),e._v(" "),a("span",{staticClass:"red validMsg"},[e._v(e._s(t.wrongMessage))])]),e._v(" "),a("div",{staticClass:"label"},[a("span",{staticClass:"type"},[e._v("["+e._s(t.bracketsNode?"嵌套":"基础")+"]")]),e._v(" "),a("span",{staticClass:"lightGray"},[e._v("表达式 "+e._s(e.serialNum?e.serialNum+".":"")+e._s(o+1))])]),e._v(" "),a("div",{staticClass:"close el-icon-close",attrs:{title:"删除"},on:{click:function(a){return a.stopPropagation(),e.delRow(t,o)}}})]),e._v(" "),t.subExprs?a("div",{staticClass:"padding"},[a("mergeLeft-content",{attrs:{children:!0,options:t.subExprs,serialNum:e.serialNum?e.serialNum+o:o+1},on:{addRow:e.addRow,changeRow:e.changeRow,activeRow:e.activeRow,delRow:e.delRow,funClick:e.funClick}})],1):a("div",{staticClass:"content padding"},[a("mergeKey",{attrs:{options:t.params[0]},on:{funClick:e.funClick}}),e._v(" "),a("mergeQuery",{attrs:{options:t},on:{click:function(a){return e.changeRow(t,"showOperate")}}}),e._v(" "),t.params[1]?a("mergeVal",{attrs:{options:t.params[1]},on:{funClick:e.funClick}}):e._e(),e._v(" "),t.params[2]?a("mergeVal",{attrs:{options:t.params[2]},on:{funClick:e.funClick}}):e._e()],1),e._v(" "),t.bracketsNode?e._e():a("div",{staticClass:"footer"},[a("span",{staticClass:"lightGray"},[e._v("语意解释：")]),e._v(" "),a("span",[e._v(e._s(t.text))])]),e._v(" "),t.bracketsNode?a("div",{staticClass:"operate"},[a("formDropDown",{staticClass:"add",attrs:{type:"primary",icon:"el-icon-plus",options:e.getDropData(t),title:"新增"},on:{click:e.addRow}})],1):e._e()])}),0)},staticRenderFns:[]};var Ze={name:"mergeSearch",components:{mergeContent:a("C7Lr")(Qe,Je,!1,function(e){a("SWWC")},null,null).exports},props:{options:[Object,Array],combinedQueryId:{type:String,default:""}},data:function(){return{data:[],totalData:{generalExprNum:0,nestedExprNum:0,wrongExprNum:0},activeId:"",codeSetName:"",isAdd:!1,isAddExpr:!1,isChangeFun:!1,showQuery:!1,showValue:!1,showOperate:!1,showLogical:!1,activeFunData:null,showType:2,exprMultiple:!1,showMultiple:!1,dropData:{operate:[{name:"基础式",icon:"el-icon-plus",brackets:!1},{name:"嵌套式",icon:"el-icon-plus",brackets:!0}]},selectProps:{value:"name",label:"name"},selectData:{logicalOperator:[{id:"并且",name:"并且"},{id:"或者",name:"或者"}],operator:[],fields:[],functions:[]},exprForm:{fieldId:"",contentId:"",nextContentId:"",exprId:"",params:[],brackets:"",operator:"",logicalOperator:"",combinedQueryId:""},exprRules:{params:{required:!0},operator:{required:!0},logicalOperator:{required:!0}},rules:{},form:{value:"",exprId:"",contentId:"",paramId:"",fieldId:"",operator:"",functionName:"",combinedQueryId:"",logicalOperator:"",multiple:""},funRules:{functionName:{required:!0}},treeProps:{value:"id",label:"name",children:"fields",icon:"iconfont icon-biaodan blue",childrenIcon:"iconfont icon-biaodan blue"},formControl:{visible:!1,funVisible:!1,exprVisible:!1},saveExprUrl:this.$baseUrl+"cadre/combinedQuery/expr/append",updateUrl:this.$baseUrl+"cadre/combinedQuery/expr/modify",saveFunctionUrl:this.$baseUrl+"cadre/combinedQuery/function/append"}},created:function(){this.loadOperator(),this.loadFields(),this.loadTotal(),this.data=this.$deepClone(this.options),this.initData()},watch:{options:{handler:function(){this.data=this.$deepClone(this.options),this.initData()},deep:!0}},methods:{changeOperate:function(e,t){var a=this;this.showType=t.paramsNum;var o=this.$getType(this.exprForm.contentId);t.multiselect&&this.codeSetName?this.exprForm.contentId?"string"===o&&(this.exprForm.contentId=this.exprForm.contentId.split(",")):this.exprForm.contentId=new Array:"array"===o&&(this.exprForm.contentId=this.exprForm.contentId.join(",")),this.exprMultiple=t.multiselect,setTimeout(function(){a.showMultiple=a.exprMultiple})},addRow:function(e){for(var t in this.isAddExpr=!0,this.exprForm)this.exprForm[t]=null;this.exprForm.params=[],this.exprForm.brackets=e.brackets,e.data&&(this.activeId=e.data.id,this.exprForm.exprId=e.data.id),this.formControl.exprVisible=!0},loadTotal:function(){var e=this;if(this.combinedQueryId){var t={data:{combinedQueryId:this.combinedQueryId},url:this.$baseUrl+"cadre/combinedQuery/expr/statistics?"};this.$ajaxPost(t,!0,function(t){200===t.code?e.totalData=t.data:e.$showMsg("error",t.message)})}},open:function(){this.showMultiple=!1,this.exprMultiple=!1,this.exprForm.combinedQueryId=this.combinedQueryId,this.exprForm.brackets?(this.exprRules.params={},this.exprRules.operator={}):(this.exprRules.params={required:!0},this.exprRules.operator={required:!0})},saveField:function(e,t){var a=t.parentData.name+"."+t.name;this.formControl.visible?this.form.value=a:(this.codeSetName=t.codeSetName?t.codeSetName:"",this.exprForm.fieldName=a,this.exprForm.params[0]=a)},activeRow:function(e){this.activeExprId=this.activeExprId===e.id?"":e.id,this.initData()},delRow:function(e){var t=this,a={data:{combinedQueryId:this.combinedQueryId,exprId:e.id},url:this.$baseUrl+"cadre/combinedQuery/expr/delete"};this.$ajaxPost(a,!0,function(e){200===e.code?(t.$emit("saveExpr",t.options,e.data),t.$showMsg("success","删除成功")):t.$showMsg("error",e.message)})},funClick:function(e){this.activeFunData=e.data,this[e.eName](e)},delFunction:function(e){var t=this;this.$showConfirm("确定删除该函数？",function(){var e={data:{combinedQueryId:t.combinedQueryId,exprId:t.activeFunData.exprId,paramId:t.activeFunData.id},url:t.$baseUrl+"cadre/combinedQuery/function/delete"};t.$ajaxPost(e,!0,function(e){200===e.code?(t.resetData(e.data.expr),t.$emit("saveExpr",t.options,e.data),t.$showMsg("success","保存成功")):t.$showMsg("error",e.message)})})},addFunction:function(e){this.isAdd=!0,this.isChangeFun=!0,this.activeFunData=e.data,this.loadFunctions()},changeFunction:function(e,t){return this.isAdd=!1,this.isChangeFun=!1,this.showQuery=!1,this.showLogical=!1,this.showValue=!1,this.showOperate=!1,"showLogical"===t?(this.showLogical=!0,this.activeFunData=e,void this.loadFunctions()):"showOperate"===t?(this.showOperate=!0,this.activeFunData=e,void this.loadFunctions()):"field"===this.activeFunData.type?(this.showQuery=!0,this.activeFunData=e.data,void this.loadFunctions()):e.data.isFunction?(this.showQuery=!0,this.activeFunData=e.data,this.isChangeFun=!0,void this.loadFunctions()):(this.showValue=!0,this.activeFunData=e.data,void this.loadFunctions())},openFunction:function(){var e={combinedQueryId:this.combinedQueryId,functionName:this.activeFunData.functionName,multiple:this.activeFunData.multiselect};e.exprId=this.activeFunData.id,this.showLogical&&(e.logicalOperator=this.activeFunData.logicalOperator),this.showOperate&&(e.operator=this.activeFunData.operator),this.showQuery&&(e.fieldId=this.activeFunData.fieldId,e.paramId=this.activeFunData.id,e.exprId=this.activeFunData.exprId,e.value=this.activeFunData.text.replace(/\'/g,""),this.activeFunData.multiselect&&(e.fieldId=e.fieldId?e.fieldId.split(","):[])),this.showValue&&(e.contentId=this.activeFunData.fieldId,e.paramId=this.activeFunData.id,e.exprId=this.activeFunData.exprId,e.value=this.activeFunData.text.replace(/\'/g,""),this.activeFunData.multiselect&&(e.contentId=e.contentId?e.contentId.split(","):[])),this.isAdd&&(e.paramId=this.activeFunData.id,e.exprId=this.activeFunData.exprId),this.codeSetName=this.activeFunData.codeSetName,this.form=e,console.log(2222222),console.log(this.form)},saveFunForm:function(){var e=this,t=this.$deepClone(this.form);"field"!==this.activeFunData.type&&void 0!==t.value&&(t.multiple?t.value=t.value.split(/[,， ]/).map(function(e){return"'"+e+"'"}).join(","):t.value="'"+t.value+"'");var a={data:t,url:this.isAdd?this.saveFunctionUrl:this.updateUrl};this.$ajaxPost(a,!0,function(t){200===t.code?(e.resetData(t.data.expr),e.$emit("saveExpr",e.options,t.data),e.$showMsg("success","保存成功"),e.formControl.funVisible=!1,e.formControl.visible=!1):e.$showMsg("error",t.message)})},saveForm:function(){var e=this,t=this.$deepClone(this.exprForm);t.params[1]&&(this.exprMultiple?t.params[1]=t.params[1].split(/[,， ]/).map(function(e){return"'"+e+"'"}).join(","):t.params[1]="'"+t.params[1]+"'"),t.params[2]&&(t.params[2]="'"+t.params[2]+"'");var a={data:t,url:this.saveExprUrl};this.$ajaxPost(a,!0,function(t){200===t.code?(e.activeId?e.resetData(t.data.expr):e.options.push(t.data.expr),e.$emit("saveExpr",e.options,t.data),e.isAddExpr=!1,e.$showMsg("success","保存成功"),e.formControl.exprVisible=!1):e.$showMsg("error",t.message)})},loadOperator:function(){var e=this,t={data:{},url:this.$baseUrl+"cadre/combinedQuery/operators"};this.$ajaxPost(t,!0,function(t){200===t.code?e.selectData.operator=t.data:e.$showMsg("error",t.message)})},loadFields:function(){var e=this,t={data:{},url:this.$baseUrl+"cadre/combinedQuery/fields"};this.$ajaxPost(t,!0,function(t){200===t.code?e.selectData.fields=t.data.map(function(e){return e.isFalse=!0,e}):e.$showMsg("error",t.message)})},loadFunctions:function(){var e=this;if(console.log("this.activeFunData"),console.log(this.activeFunData),this.isChangeFun){var t={data:{addOrUpdate:this.isAdd?0:1,combinedQueryId:this.combinedQueryId,exprId:this.activeFunData.exprId,paramId:this.activeFunData.id},url:this.$baseUrl+"cadre/combinedQuery/functions"};this.$ajaxPost(t,!0,function(t){if(200===t.code){if(0===t.data.length)return void e.$showMsg("error","没有可"+(e.isAdd?"添加":"修改")+"的函数");e.selectData.functions=t.data,e.formControl.funVisible=!0}else e.$showMsg("error")})}else this.formControl.visible=!0},initData:function(e){var t=this;e||(e=this.data),e&&e.forEach(function(e){t.$set(e,"actived",!1),t.activeExprId===e.id&&t.$set(e,"actived",!0),e.params&&e.params.length>0&&t.initFunction(e.params,e.id),e.subExprs&&e.subExprs.length>0&&t.initData(e.subExprs)})},initFunction:function(e,t){var a=this;e.forEach(function(e){e.exprId=t,e.params&&e.params.length>0&&a.initFunction(e.params,t)})},resetData:function(e,t){var a=this;t||(t=this.options),t.map(function(t,o){if(a.isAddExpr)a.activeId===t.id&&t.subExprs.push(e);else if(e.id===t.id)for(var r in e)t[r]=e[r];t.subExprs&&t.subExprs.length>0&&a.resetData(e,t.subExprs)})}}},et={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mergeSearch-left"},[e._t("default"),e._v(" "),a("commonTitle",{attrs:{border:"",height:"50px"}},[a("div",{staticClass:"flex",attrs:{slot:"content"},slot:"content"},[a("formDropDown",{attrs:{type:"primary",icon:"el-icon-plus",options:e.dropData.operate,title:"新增"},on:{click:e.addRow}}),e._v(" "),a("div",{staticClass:"info lightGray paddingX"},[e._v("\n                当前有"),a("span",{staticClass:"blue"},[e._v(" "+e._s(e.totalData.generalExprNum)+" ")]),e._v("个 (基础) 表达式,\n                "),a("span",{staticClass:"blue"},[e._v(" "+e._s(e.totalData.nestedExprNum)+" ")]),e._v("个 (嵌套) 表达式,\n                "),a("span",{staticClass:"red"},[e._v(e._s(e.totalData.wrongExprNum))]),e._v("个错误表达式\n            ")])],1)]),e._v(" "),a("commonContainer",{staticClass:"padding"},[a("span",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]}),e._v(" "),a("mergeContent",{attrs:{options:e.data?e.data:[]},on:{addRow:e.addRow,delRow:e.delRow,changeRow:e.changeFunction,activeRow:e.activeRow,funClick:e.funClick}}),e._v(" "),e.data&&0!==e.data.length?e._e():a("commonEmpty")],1),e._v(" "),a("commonDialog",{staticClass:"mergeExpr-dialog",attrs:{title:"表达式编辑",visible:e.formControl.exprVisible,form:e.exprForm,rules:e.exprRules,save:e.saveForm},on:{"update:visible":function(t){return e.$set(e.formControl,"exprVisible",t)},open:e.open}},[a("commonForm",{attrs:{required:"",rule:e.exprRules.logicalOperator}},[a("formRow",{attrs:{label:"逻辑操作符",required:"",rule:e.exprRules.logicalOperator}},[a("formSelect",{attrs:{options:e.selectData.logicalOperator,rule:e.exprRules.logicalOperator},model:{value:e.exprForm.logicalOperator,callback:function(t){e.$set(e.exprForm,"logicalOperator",t)},expression:"exprForm.logicalOperator"}})],1),e._v(" "),e.exprForm.brackets?e._e():a("formRow",{attrs:{label:"信息集",required:"",rule:e.exprRules.params}},[a("formSelectInput",{attrs:{label:e.exprForm.params[0],rule:e.exprRules.params,placeholder:"信息集",props:e.treeProps,options:e.selectData.fields},on:{"update:label":function(t){return e.$set(e.exprForm.params,0,t)},save:e.saveField},model:{value:e.exprForm.fieldId,callback:function(t){e.$set(e.exprForm,"fieldId",t)},expression:"exprForm.fieldId"}})],1),e._v(" "),e.exprForm.brackets?e._e():a("formRow",{attrs:{label:"运算符",required:"",rule:e.exprRules.operator}},[a("formSelect",{attrs:{props:e.selectProps,options:e.selectData.operator,rule:e.exprRules.operator},on:{change:e.changeOperate},model:{value:e.exprForm.operator,callback:function(t){e.$set(e.exprForm,"operator",t)},expression:"exprForm.operator"}})],1),e._v(" "),e.exprForm.brackets||e.exprMultiple||1===e.showType?e._e():a("formRow",{attrs:{label:"内容"}},[a("formInputSelect",{attrs:{auto:"",label:e.exprForm.params[1],codeKey:e.codeSetName},on:{"update:label":function(t){return e.$set(e.exprForm.params,1,t)}},model:{value:e.exprForm.contentId,callback:function(t){e.$set(e.exprForm,"contentId",t)},expression:"exprForm.contentId"}})],1),e._v(" "),e.showMultiple?a("formRow",{attrs:{label:"内容"}},[a("formInputSelect",{attrs:{auto:"",multiple:"",label:e.exprForm.params[1],codeKey:e.codeSetName},on:{"update:label":function(t){return e.$set(e.exprForm.params,1,t)}},model:{value:e.exprForm.contentId,callback:function(t){e.$set(e.exprForm,"contentId",t)},expression:"exprForm.contentId"}})],1):e._e(),e._v(" "),e.exprForm.brackets||3!==e.showType?e._e():a("formRow",{attrs:{label:"内容"}},[a("formInputSelect",{attrs:{auto:"",multiple:e.exprMultiple,label:e.exprForm.params[2],codeKey:e.codeSetName},on:{"update:label":function(t){return e.$set(e.exprForm.params,2,t)}},model:{value:e.exprForm.nextContentId,callback:function(t){e.$set(e.exprForm,"nextContentId",t)},expression:"exprForm.nextContentId"}})],1)],1)],1),e._v(" "),a("commonDialog",{attrs:{title:"函数编辑",visible:e.formControl.funVisible,form:e.form,rules:e.funRules,save:e.saveFunForm},on:{"update:visible":function(t){return e.$set(e.formControl,"funVisible",t)},open:e.openFunction}},[a("commonForm",[a("formRow",{attrs:{label:"函数名称",required:"",rule:e.funRules.functionName}},[a("formSelect",{attrs:{placeholder:"请输入函数名",props:e.selectProps,options:e.selectData.functions,rule:e.funRules.functionName},model:{value:e.form.functionName,callback:function(t){e.$set(e.form,"functionName",t)},expression:"form.functionName"}})],1)],1)],1),e._v(" "),a("commonDialog",{attrs:{title:"信息编辑",visible:e.formControl.visible,form:e.form,save:e.saveFunForm},on:{"update:visible":function(t){return e.$set(e.formControl,"visible",t)},open:e.openFunction}},[a("commonForm",[e.showLogical?a("formRow",{attrs:{label:"逻辑操作符"}},[a("formSelect",{attrs:{placeholder:"逻辑操作符",options:e.selectData.logicalOperator},model:{value:e.form.logicalOperator,callback:function(t){e.$set(e.form,"logicalOperator",t)},expression:"form.logicalOperator"}})],1):e._e(),e._v(" "),e.showQuery?a("formRow",{attrs:{label:"信息集"}},[a("formSelectInput",{attrs:{label:e.form.value,placeholder:"信息集",props:e.treeProps,options:e.selectData.fields},on:{"update:label":function(t){return e.$set(e.form,"value",t)},save:e.saveField},model:{value:e.form.fieldId,callback:function(t){e.$set(e.form,"fieldId",t)},expression:"form.fieldId"}})],1):e._e(),e._v(" "),e.showOperate?a("formRow",{attrs:{label:"运算符"}},[a("formSelect",{attrs:{props:e.selectProps,options:e.selectData.operator},on:{change:e.changeOperate},model:{value:e.form.operator,callback:function(t){e.$set(e.form,"operator",t)},expression:"form.operator"}})],1):e._e(),e._v(" "),e.showValue?a("formRow",{attrs:{label:"信息值"}},[a("formInputSelect",{attrs:{multiple:e.form.multiple,label:e.form.value,codeKey:e.codeSetName},on:{"update:label":function(t){return e.$set(e.form,"value",t)}},model:{value:e.form.contentId,callback:function(t){e.$set(e.form,"contentId",t)},expression:"form.contentId"}})],1):e._e()],1)],1)],2)},staticRenderFns:[]};var tt=a("C7Lr")(Ze,et,!1,function(e){a("v/SH")},"data-v-0090f593",null).exports,at={name:"merge-right",components:{},props:{value:String},data:function(){return{}},computed:{inputVal:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},watch:{},methods:{complice:function(){this.$emit("complice")}}},ot={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mergeSearch-right"},[a("commonTitle",{attrs:{border:"",title:" ",height:"50px"}},[a("div",{staticClass:"label",attrs:{slot:"left"},slot:"left"},[e._v("语义解释：")]),e._v(" "),a("div",{staticClass:"blue underline",attrs:{slot:"right"},on:{click:function(t){return e.complice()}},slot:"right"},[e._v("反向生成树")])]),e._v(" "),a("div",{staticClass:"padding"},[a("commonContainer",{staticClass:"right-content"},[a("formInput",{attrs:{type:"textarea"},model:{value:e.inputVal,callback:function(t){e.inputVal=t},expression:"inputVal"}})],1)],1)],1)},staticRenderFns:[]};var rt={name:"mergeSearch",components:{left:tt,right:a("C7Lr")(at,ot,!1,function(e){a("cSi4")},null,null).exports},props:{},data:function(){return{pageTitle:"组合查询构建器",name:null,options:{expr:[],exprstr:null},rules:{name:{required:!0}},loaded:!1,mainId:null}},created:function(){this.loadData()},computed:{routeQuery:function(){return this.$route.query},combinedQueryId:function(){return this.mainId?this.mainId:this.routeQuery.combinedQueryId}},methods:{loadData:function(){var e=this;if(this.combinedQueryId){var t={data:{id:this.combinedQueryId},url:this.$baseUrl+"cadre/combinedQuery/getById?"};this.$ajaxPost(t,!0,function(t){200===t.code?(e.options=t.data,e.name=t.data.name,e.loaded=!0):e.$showMsg("error",t.message)})}else this.loaded=!0},saveExpr:function(e,t){var a=this;this.options.expr=e,this.options.exprstr=t.exprstr,this.mainId=t.combinedQueryId,setTimeout(function(){a.$refs.left.loadTotal()},10)},complice:function(){var e=this,t={data:{exprStr:this.options.exprstr},url:this.$baseUrl+"cadre/combinedQuery/exprStr/compile?"};this.$ajaxPost(t,!0,function(t){200===t.code?t.data.compilePass?(e.options={expr:t.data.exprs,exprstr:t.data.exprstr,name:t.data.name},e.mainId=t.data.combinedQueryId,e.$showMsg("success","编译成功")):e.$showMsg("error",t.data.wrongMessage):e.$showMsg("error",t.message)})},cancel:function(){this.$router.push({name:"CadreManager",query:{}})},save:function(){var e=this;if(this.$validate.validRule(this.rules.name,this.name)){var t={data:{combinedQueryId:this.combinedQueryId,exprStr:this.options.exprstr,name:this.name},url:this.$baseUrl+"cadre/combinedQuery/save"};this.$ajaxPost(t,!0,function(t){if(200===t.code){e.$showMsg("success","保存成功!");var a={combinedQueryId:e.combinedQueryId};e.$router.push({name:"CadreManager",query:a})}else e.$showMsg("error",t.message)})}else this.$showMsg("error","验证位通过")}}},st={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"mergeSearch-wrapper",attrs:{width:"75%",max:""}},[a("commonTitle",{attrs:{slot:"title",showBack:"",showShadow:"",title:e.pageTitle},slot:"title"}),e._v(" "),a("formRow",{staticClass:"name",attrs:{slot:"title",labelWidth:"120px",label:"组合查询名称:",required:"",rule:e.rules.name,msgWidth:"60%"},slot:"title"},[a("formInput",{attrs:{placeholder:"请输入组合查询名称",rule:e.rules.name},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e._v(" "),e.loaded?a("left",{ref:"left",attrs:{slot:"left",options:e.options.expr,combinedQueryId:e.combinedQueryId},on:{saveExpr:e.saveExpr},slot:"left"}):e._e(),e._v(" "),e.loaded?a("right",{attrs:{slot:"right"},on:{complice:e.complice},slot:"right",model:{value:e.options.exprstr,callback:function(t){e.$set(e.options,"exprstr",t)},expression:"options.exprstr"}}):e._e(),e._v(" "),a("commonFooter",{attrs:{slot:"footer",container:""},slot:"footer"},[a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.complice()}}},[e._v("编译检测")]),e._v(" "),a("el-button",{attrs:{slot:"more",size:"mini",type:"info"},on:{click:function(t){return e.cancel()}},slot:"more"},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{slot:"more",size:"mini",type:"primary"},on:{click:function(t){return e.save()}},slot:"more"},[e._v("确定")])],1)],1)},staticRenderFns:[]};var nt=a("C7Lr")(rt,st,!1,function(e){a("7Jsk")},null,null).exports,it={name:"cadreManager",components:{},data:function(){var e=this;return{searchText:"",collectData:[],searchData:{name:"",pageIndex:1,pageSize:20},local:"mergeSearchConfig",pageTitle:"组合查询模板管理",gridColumns:[{text:"模板名称",width:150,align:"left",dataIndex:"name",formatter:function(e){return{showBtn:!0,type:"text primary underline",text:e.row.name,eName:"changeRow"}}},{text:"模板详细描述",align:"left",dataIndex:"exprstr"},{text:"创建人",width:100,align:"center",dataIndex:"createUser"},{text:"创建时间",width:100,align:"center",dataIndex:"createTime",formatter:function(t){return t.row.createTime?e.$moment(t.row.createTime).format("YYYY-MM-DD"):""}}],formControl:{visible:!1,refresh:!1},url:this.$baseUrl+"cadre/combinedQuery/all"}},created:function(){this.loadTotalData()},methods:{onSearch:function(){this.searchData.name=this.searchText},loadTotalData:function(){var e=this,t={data:{},method:"get",url:this.$baseUrl+"sys/getSysTableCount?"};this.$ajaxPost(t,!0,function(t){if(200===t.code){var a=new Array;for(var o in t.data){var r={name:"单位数量",class:"blue",count:t.data[o],unit:"个"};"cadreCount"===o&&(r.name="干部数量"),a.push(r)}e.collectData=a}else e.$showMsg("error",t.message)})},addRow:function(){this.$router.push({name:"MergeSearch",query:{}})},changeRow:function(e){var t={combinedQueryId:e.combinedQueryId};this.$router.push({name:"MergeSearch",query:t})},delRow:function(e){var t=this;this.$showConfirm("确定删除当前组合条件？",function(){var a={data:{combinedQueryId:e.combinedQueryId},url:t.$baseUrl+"cadre/combinedQuery/delete?"};t.$ajaxPost(a,!0,function(e){200===e.code?(t.formControl.refresh=!0,t.$showMsg("success","删除成功！")):t.$showMsg("error",e.message)})})}},beforeRouteEnter:function(e,t,a){e.meta.isBack=!1,e.meta.useKeep.includes(t.name)&&(e.meta.isBack=!0),a()},activated:function(){this.$route.meta.isBack?this.$set(this.searchData,"refresh",this.$moment().format("x")+"_refresh"):(this.searchData.name="",this.searchData.pageIndex=1,this.searchData.pageSize=20,this.$set(this.searchData,"refresh",this.$moment().format("x")+"_refresh"))}},lt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"mergeSearchConfig-wrapper",attrs:{local:e.local}},[a("commonTitle",{attrs:{slot:"title",showBack:"",showShadow:"",title:e.pageTitle,options:e.collectData},slot:"title"}),e._v(" "),a("commonTable",{staticClass:"padding",attrs:{local:e.local,autoHeight:"",autoOperate:"",showPagination:"",gridColumns:e.gridColumns,search:e.searchData,refresh:e.formControl.refresh,url:e.url},on:{"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)},changeRow:e.changeRow,delRow:e.delRow}},[a("commonSearch",[a("el-button",{attrs:{slot:"left",size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addRow()}},slot:"left"},[e._v("构建查询模板")]),e._v(" "),a("formInput",{staticClass:"radius",attrs:{slot:"right",placeholder:"根据姓名搜索",suffixIcon:"el-icon-search"},on:{iconClick:e.onSearch},slot:"right",model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})],1)],1)],1)},staticRenderFns:[]};var ct=a("C7Lr")(it,lt,!1,function(e){a("6oVw")},null,null).exports,dt={components:{},props:{},data:function(){return{selected:0,pageTitle:"干部综合信息编辑",tabsData:[]}},computed:{routeQuery:function(){return this.$route.query}},activated:function(){this.loadData()},methods:{changeTab:function(e){this.$emit("change",e)},loadData:function(){var e=this,t={data:{appCode:this.routeQuery.appCode,tableTypeName:this.routeQuery.tableTypeName},method:"get",url:this.$baseUrl+"sys/getRoutineTableNames?"};this.$ajaxPost(t,!0,function(t){200===t.code?(t.data.forEach(function(t){var a=ee.filter(function(e){return e.tableNameEn===t.tableNameEn})[0];(t=e.$mergeObj(t,a)).comName=t.isMasterTable?"single":"multiple",t.name=t.tableNameCn,t.icon=t.icon?t.icon:"icon-jiben"}),e.tabsData=t.data,e.$emit("change",e.tabsData[e.selected])):e.$showMsg("error",t.message)})}}},ut={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("commonTablistY",{attrs:{options:e.tabsData},on:{change:e.changeTab},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})},staticRenderFns:[]};var ht=a("C7Lr")(dt,ut,!1,function(e){a("LH6u")},null,null).exports,mt={props:{info:[Object],options:[Object,Array],translateFields:Object},data:function(){return{vueData:null,viewList:[],form:{},data:[],rules:{},readOnlyForm:null,updateForm:null,formControl:{visible:!1,refresh:!1},isStrongBrowser:!1}},watch:{form:{handler:function(e){this.updateForm=this.$diffObject(this.readOnlyForm,e)},deep:!0},options:{handler:function(e){this.form=this.$deepClone(this.options),this.initOnlyRead()},deep:!0},translateFields:{handler:function(e){ke.updateTranslate(e)},deep:!0}},computed:{routeQuery:function(){return this.$route.query}},mounted:function(){this.initData()},methods:{initData:function(){this.form=this.$deepClone(this.options),this.loadVue(),this.initOnlyRead()},loadVue:function(){var e=this,t={tableName:this.info.tableNameEn,prjCode:this.routeQuery.appCode,tableTypeName:this.routeQuery.tableTypeName};this.$loadCadreVue(t,function(t){e.vueData=t,e.initVue()})},initVue:function(){var e=this,t={data:this.vueData.tables[0],isMasterTable:this.info.isMasterTable,translate:this.translateFields};ke.makeVue(t,function(t){e.form=e.$mergeObj(t.form,e.form),e.rules=e.$mergeObj(t.rules,e.rules),e.viewList=t.result,e.isStrongBrowser=t.isStrongBrowser})},initOnlyRead:function(){this.readOnlyForm=this.$deepClone(this.form),this.updateForm=null},collectInfo:function(){this.$emit("collet")},uploadSuccess:function(e,t){this.$emit("uploadPhoto")},checkRule:function(e,t){var a=this;if(this.updateForm.A001003&&(this.updateForm.A001003&&this.$validate.validRule(e,this.updateForm.A001003))){var o={data:{cardId:this.updateForm.A001003},url:this.$baseUrl+"cadre/cardId?"};this.$ajaxPost(o,!0,function(t){200===t.code&&(!0===t.data?(a.$set(e,"valid",!1),a.$set(e,"msg","该身份号码已存在")):(a.$set(e,"valid",!0),a.$set(e,"msg","")))})}}}},ft={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"singleInfo-wrapper"},[a("commonTitle",{attrs:{border:"",icon:e.info.icon,title:e.info.name,height:"40px"}},[a("el-button",{staticClass:"collectBtn",attrs:{size:"mini",type:e.info.isCollect?"success":"primary",icon:"el-icon-star-off"},on:{click:e.collectInfo}},[e._v(e._s(e.info.isCollect?"已收藏":"收藏"))])],1),e._v(" "),a("commonContainer",{attrs:{offsetBottom:50}},e._l(e.viewList,function(t,o){return a("div",{key:o,staticClass:"pageBox"},[a("commonTitle",{attrs:{title:t.groupName}},[a("el-button",{attrs:{slot:"left",circle:"",type:"primary"},slot:"left"},[e._v(e._s(o+1))])],1),e._v(" "),e.isStrongBrowser&&0===o?a(t.components,{tag:"component",attrs:{form:e.form,rules:e.rules,translate:e.translateFields},on:{uploadSuccess:e.uploadSuccess,checkRule:e.checkRule}}):e._e(),e._v(" "),e.isStrongBrowser?e._e():a(t.components,{tag:"component",attrs:{form:e.form,rules:e.rules,translate:e.translateFields},on:{uploadSuccess:e.uploadSuccess,checkRule:e.checkRule}}),e._v(" "),e.isStrongBrowser&&o>0?a("vue-lazy-component",[a(t.components,{tag:"component",attrs:{form:e.form,rules:e.rules,translate:e.translateFields},on:{uploadSuccess:e.uploadSuccess,checkRule:e.checkRule}})],1):e._e()],1)}),0)],1)},staticRenderFns:[]};var pt=a("C7Lr")(mt,ft,!1,function(e){a("w/Ui")},null,null).exports,gt={props:{value:[Number,String],max:{type:[Number,String],default:200},drag:{type:Boolean,default:!0},offset:{type:Number,default:0},element:{type:String,default:"tableBody"},local:String},data:function(){return{id:"bodyY"+(this.$moment().format("x")+parseInt(Math.random()*(1e8+1))),baseHeight:0,minHeight:100,modelHeight:0,maxHeight:0,userPage:this.$store.getters.userPage}},computed:{localName:function(){return this.local?this.local+"-bottom":null}},mounted:function(){this.initElement()},activated:function(){this.initElement()},deactivated:function(){this.id=null},destroyed:function(){this.id=null},watch:{modelHeight:function(e){this.localName&&this.$store.commit("updateUserPage",[this.localName,e]),this.$emit("input",e)}},methods:{initElement:function(){this.id="bodyY"+(this.$moment().format("x")+parseInt(Math.random()*(1e8+1))),this.initHeight()},initHeight:function(){var e=this;this.$nextTick(function(){var t=e.$getHeight("#"+e.id+" .top ."+e.element,e.offset);e.userPage[e.localName]?e.modelHeight=e.userPage[e.localName]:e.modelHeight=t.height,e.maxHeight=t.maxHeight,e.addMove(),window.onresize=function(){e.id&&h()("#"+e.id)[0]&&(t=e.$getHeight("#"+e.id+" .top ."+e.element,e.offset),e.modelHeight=t.height,e.maxHeight=t.maxHeight,e.addMove())}})},addMove:function(){var e=this;this.$nextTick(function(){var t=e,a=t.value,o=t.minHeight,r=t.maxHeight-o,s=void 0,n=void 0,i=!1,l=document,c=h()("#"+e.id+" .dragE");c.bind("mousedown",function(e){s=e.pageY,i=!0}),h()(l).mousemove(function(e){if(i){e.preventDefault(),n=e.pageY;var l=a-(n-s);l<=o&&(l=o),l>=r&&r>0&&(l=r),t.modelHeight=l,t.baseHeight=l}}),h()(l).mouseup(function(e){i=!1,e.cancelBubble=!0,a=t.baseHeight})})}}},vt={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"common-bodyY-wrapper",attrs:{id:this.id}},[t("div",{staticClass:"top"},[this._t("top")],2),this._v(" "),t("div",{directives:[{name:"show",rawName:"v-show",value:this.drag,expression:"drag"}],staticClass:"dragE"},[t("span",{staticClass:"iconfont icon-tuozhuaiY"})]),this._v(" "),t("div",{staticClass:"bottom"},[this._t("bottom")],2)])},staticRenderFns:[]};var bt=a("C7Lr")(gt,vt,!1,function(e){a("TXZl")},null,null).exports,Ct={props:{mainId:String,info:[Object],options:[Array,Object],translateFields:Object},components:{commonBodyY:bt},data:function(){return{loaded:!1,vueData:null,viewList:[],form:{},readOnlyForm:{},updateForm:{},rules:{},tableData:[],gridColumns:[],offset:50,rowIndex:0,formHeight:0,isAdd:!0,useDialog:!1,checkedTable:[],userDialog:this.$store.getters.userDialog,formControl:{visible:!1,refresh:!1}}},computed:{local:function(){return""+this.info.tableNameEn},offsetHeight:function(){return this.useDialog?0:this.offset+this.formHeight},routeQuery:function(){return this.$route.query}},created:function(){void 0!==this.userDialog[this.local]&&(this.useDialog=this.userDialog[this.local]),this.initData()},watch:{form:{handler:function(e){console.log("form+++++"),console.log(e),this.updateForm=this.$diffObject(this.readOnlyForm,e)},deep:!0},options:{handler:function(e){this.tableData=this.$deepClone(e)},deep:!0},translateFields:{handler:function(e){ke.updateTranslate(e)},deep:!0}},methods:{formChange:function(e,t){this[e]&&this[e](t)},saveRzjg:function(e){var t=this;if(e&&e.checkedVal){var a={data:{deptId:e.checkedVal},method:"get",url:this.$baseUrl+"organization/getDutyInfo?"};this.$ajaxPost(a,!0,function(e){200===e.code?(console.log("res.data"),console.log(e.data),t.form.a02007=e.data.B01027,t.form.a02003=e.data.B01017,t.form.a02009=e.data.B01031):t.$showMsg("error",e.message)})}else this.form.a02007=null,this.form.a02003=null,this.form.a02009=null},initData:function(){this.tableData=this.$deepClone(this.options),this.tableData.length>10&&(this.tableData.length=10),this.loadVue()},loadVue:function(){var e=this,t={tableName:this.info.tableNameEn,prjCode:this.routeQuery.appCode,tableTypeName:this.routeQuery.tableTypeName};this.loaded=!1,this.$loadCadreVue(t,function(t){e.vueData=t,e.initVue()})},initVue:function(){var e=this,t={data:this.vueData.tables[0],isMasterTable:this.info.isMasterTable,translate:this.translateFields};ke.makeVue(t,function(t){e.form=e.$mergeObj(t.form,e.form,!0),e.rules=e.$mergeObj(t.rules,e.rules),e.gridColumns=t.columns,e.viewList=t.result,e.loaded=!0})},changeShowType:function(){this.useDialog=!this.useDialog,this.useDialog&&(this.formControl.visible=!0),this.$store.commit("updateUserDialog",[this.local,this.useDialog])},addRow:function(){for(var e in this.rowIndex=-1,this.isAdd=!0,this.form)this.form[e]=null;this.useDialog&&(this.formControl.visible=!0)},rowClick:function(e,t){e&&(this.isAdd=!1,this.rowIndex=e.$index,this.form=this.$mergeObj(this.form,e),this.initOnlyRead())},rowDbClick:function(e,t){this.changeRow(e)},initOnlyRead:function(){this.readOnlyForm=this.$deepClone(this.form),this.updateForm=null},changeRow:function(e){this.isAdd=!1,this.form=this.$mergeObj(this.form,e),this.rowIndex=e.$index,this.formControl.visible=!0},prevRow:function(){this.rowIndex>0&&(this.rowIndex--,this.form=this.$deepCopy(this.tableData[this.rowIndex]))},nextRow:function(){this.rowIndex<this.tableData.length-1&&(this.rowIndex++,this.form=this.$deepCopy(this.tableData[this.rowIndex]))},save:function(){var e=this.$deepClone(this.form),t={appCode:this.routeQuery.appCode,tableTypeName:this.routeQuery.tableTypeName,tableNamePK:this.info.tableNamePK,tableNamePKValue:e[this.info.tableNamePK]};this.isAdd?(t.form=this.form,t.tableNamePKValue="",t.tableNameFK=this.info.tableNameFK,t.tableNameFKValue=this.mainId):this.formControl.visible=!1,this.$emit("save",t,this.isAdd)},delRow:function(e){var t=this.rowIndex;if(e&&(t=e.$index),null===t||t<0)this.$showMsg("error","请选择需要删除的数据！");else{var a={};a[this.info.tableNamePK]=e?[e[this.info.tableNamePK]]:this.checkedTable,this.$emit("delete",a)}},tableChecked:function(e){var t=this;this.checkedTable=e.map(function(e){return e[t.info.tableNamePK]})},collectInfo:function(){this.$emit("collet")}}},yt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"multipleInfo-wrapper"},[a("commonTitle",{attrs:{border:"",icon:e.info.icon,title:e.info.name,height:"40px"}},[a("el-button",{staticClass:"collectBtn",attrs:{size:"mini",type:e.info.isCollect?"success":"primary",icon:"el-icon-star-off"},on:{click:e.collectInfo}},[e._v(e._s(e.info.isCollect?"已收藏":"收藏"))])],1),e._v(" "),e.loaded?a("commonBodyY",{staticClass:"multipleInfo padding",attrs:{local:e.local,offset:e.offset,drag:!e.useDialog},model:{value:e.formHeight,callback:function(t){e.formHeight=t},expression:"formHeight"}},[a("commonTable",{attrs:{slot:"top",local:e.local,autoHeight:"",autoOperate:"",defaultChecked:"",showSelect:"",rowIndex:e.rowIndex,offset:e.offsetHeight,gridColumns:e.gridColumns,options:e.tableData},on:{changeRow:e.changeRow,delRow:e.delRow,checkedChange:e.tableChecked,rowClick:e.rowClick,rowDbClick:e.rowDbClick},slot:"top"},[a("commonSearch",[a("el-button",{attrs:{slot:"left",size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addRow()}},slot:"left"},[e._v("添加")]),e._v(" "),a("el-button",{attrs:{slot:"left",size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(t){return e.delRow()}},slot:"left"},[e._v("删除")])],1),e._v(" "),e.useDialog?a("commonDialog",{attrs:{title:"信息编辑",visible:e.formControl.visible,rules:e.rules,form:e.form,save:e.save,width:"1100px"},on:{"update:visible":function(t){return e.$set(e.formControl,"visible",t)}}},[e._l(e.viewList,function(t,o){return a("div",{key:o,staticClass:"pageBox"},[a("commonTitle",{attrs:{title:t.groupName}},[a("el-button",{attrs:{slot:"left",circle:"",type:"primary"},slot:"left"},[e._v(e._s(++o))])],1),e._v(" "),t.components?a(t.components,{tag:"component",attrs:{form:e.form,rules:e.rules,translate:e.translateFields}}):e._e()],1)}),e._v(" "),a("el-button",{attrs:{slot:"foot",size:"mini",icon:"iconfont icon-qiehuan",type:"text primary"},on:{click:e.changeShowType},slot:"foot"},[e._v("切换到页面编辑")])],2):e._e()],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!e.useDialog,expression:"!useDialog"}],staticClass:"form",attrs:{slot:"bottom"},slot:"bottom"},[a("commonContainer",{staticClass:"bggray",attrs:{height:e.formHeight,offsetBottom:50}},e._l(e.viewList,function(t,o){return a("div",{key:o,staticClass:"pageBox"},[a("commonTitle",{staticClass:"bggray",attrs:{title:t.groupName}},[a("el-button",{attrs:{slot:"left",circle:"",type:"primary"},slot:"left"},[e._v(e._s(++o))])],1),e._v(" "),a(t.components,{tag:"component",attrs:{form:e.form,rules:e.rules,translate:e.translateFields},on:{formChange:e.formChange}})],1)}),0),e._v(" "),a("commonFooter",{staticClass:"bggray",attrs:{icon:"icon-qiehuan blue",hint:"切换到弹窗编辑"},on:{hintClick:e.changeShowType}},[a("el-button",{attrs:{slot:"button",disabled:e.rowIndex<1,size:"mini",type:"primary"},on:{click:function(t){return e.prevRow()}},slot:"button"},[e._v("上一条")]),e._v(" "),a("el-button",{attrs:{slot:"button",disabled:e.rowIndex>=e.tableData.length-1,size:"mini",type:"primary"},on:{click:function(t){return e.nextRow()}},slot:"button"},[e._v("下一条")]),e._v(" "),a("el-button",{attrs:{slot:"button",size:"mini",type:"primary"},on:{click:function(t){return e.save()}},slot:"button"},[e._v("保存")]),e._v(" "),a("el-button",{attrs:{slot:"button",size:"mini",type:"info"},slot:"button"},[e._v("关闭")])],1)],1)],1):e._e()],1)},staticRenderFns:[]};var wt=a("C7Lr")(Ct,yt,!1,function(e){a("L0Id")},null,null).exports,xt={components:{},props:{value:String},data:function(){return{checkedVal:"",checkedData:null,treeProps:{value:"tableNameEn",label:"tableNameCn",children:"children",icon:"icon-fenlei lightgray",childrenIcon:"icon-shizhong lightGray"},treeData:[]}},created:function(){},activated:function(){this.routeQuery.nameEn&&(this.checkedVal=this.routeQuery.nameEn),this.loadData()},computed:{routeQuery:function(){return this.$route.query}},methods:{loadData:function(){var e=this,t={data:{appCode:this.routeQuery.appCode,tableTypeName:this.routeQuery.tableTypeName},method:"get",url:this.$baseUrl+"sys/getSysTableNames?"};this.$ajaxPost(t,!0,function(t){if(200===t.code){var a=new Object,o=new Array;for(var r in t.data.forEach(function(t){var o=ee.filter(function(e){return e.tableNameEn===t.tableNameEn})[0];(t=e.$mergeObj(t,o)).name=t.tableNameCn,t.comName=t.isMasterTable?"single":"multiple",t.icon=t.icon?t.icon:"icon-jiben",a[t.appGroupName]||(a[t.appGroupName]=new Array),a[t.appGroupName].push(t)}),a){var s=e.$moment().format("x")+parseInt(Math.random()*(1e8+1))+"_group";o.push({isFalse:!0,tableNameCn:r,tableNameEn:s,children:a[r]})}e.treeData=o}else e.$showMsg("error",t.message)})},nodeClick:function(e){this.checkedVal=e.tableNameEn,this.checkedData=e,this.$emit("change",this.checkedData)}}},Dt={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("commonTree",{attrs:{useChildren:"",filter:"",autoHeight:"",defaultChecked:"",props:e.treeProps,options:e.treeData},on:{nodeClick:e.nodeClick},model:{value:e.checkedVal,callback:function(t){e.checkedVal=t},expression:"checkedVal"}})},staticRenderFns:[]};var It=a("C7Lr")(xt,Dt,!1,function(e){a("Glaw")},null,null).exports,$t={components:{},props:{options:{type:Object,default:function(){return{}}}},data:function(){return{}},methods:{initImg:function(){var e=this.$moment().format("x");return this.$baseUrl+"cadre/photo?empId="+this.options.empId+"&code="+e}}},kt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cadreInfo-wrapper paddingY"},[a("div",{staticClass:"imgInfo"},[a("img",{attrs:{src:e.initImg(),alt:"",onerror:"this.src = '/static/img/defaultAvatar.jpg'"}})]),e._v(" "),a("div",{staticClass:"personInfo"},[a("div",{staticClass:"nameInfo"},[a("span",{staticClass:"name"},[e._v(e._s(e.options.name))]),e._v(" "),a("span",{staticClass:"iconfont icon-shuxian"}),e._v(" "),a("span",[e._v(e._s(e.options.namePinYin))])]),e._v(" "),a("div",{staticClass:"otherInfo"},[a("span",{staticClass:"sex label"},[a("span",{staticClass:"gray iconfont icon-xingbie"}),e._v(" "),a("span",{staticClass:"iconfont icon-shuxian"}),e._v(" "),a("span",[e._v(e._s(e.options.gender))])]),e._v(" "),a("span",{staticClass:"birthday label"},[a("span",{staticClass:"gray iconfont icon-shengri"}),e._v(" "),a("span",{staticClass:"iconfont icon-shuxian"}),e._v(" "),a("span",[e._v(e._s(e._f("fmtBirth")(e.options.birthday)))])]),e._v(" "),a("span",{staticClass:"country label"},[a("span",{staticClass:"gray iconfont icon-country"}),e._v(" "),a("span",{staticClass:"iconfont icon-shuxian"}),e._v(" "),a("span",[e._v(e._s(e.options.birthPlace))])])])])])},staticRenderFns:[]};var Tt=a("C7Lr")($t,kt,!1,function(e){a("vbMY")},null,null).exports,_t={components:{},props:{},data:function(){return{selected:0,tabsData:[]}},computed:{routeQuery:function(){return this.$route.query}},activated:function(){this.loadData()},methods:{changeTab:function(e){this.$emit("change",e)},loadData:function(){var e=this,t={data:{appCode:this.routeQuery.appCode,tableTypeName:this.routeQuery.tableTypeName},method:"get",url:this.$baseUrl+"sys/getCollectionTableNames?"};this.$ajaxPost(t,!0,function(t){200===t.code?(t.data.forEach(function(t){var a=ee.filter(function(e){return e.tableNameEn===t.tableNameEn})[0];t.isCollect=!0,(t=e.$mergeObj(t,a)).comName=t.isMasterTable?"single":"multiple",t.name=t.tableNameCn,t.icon=t.icon?t.icon:"icon-jiben"}),e.tabsData=t.data,e.$emit("change",e.tabsData[e.selected])):e.$showMsg("error",t.message)})},delTab:function(e){var t=this;this.$showConfirm("确定移除该收藏？",function(){var a={data:{ids:[e.sysTableId]},url:t.$baseUrl+"user/userCollectionTableController/deleteUCTable"};t.$ajaxPost(a,!0,function(e){200===e.code?(t.loadData(),t.$showMsg("success","移除收藏成功")):t.$showMsg("error",e.message)})})}}},Nt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonTablistY",{attrs:{options:e.tabsData},on:{change:e.changeTab},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"red",attrs:{size:"mini",type:"text",icon:"iconfont icon-disabled"},on:{click:function(a){return a.stopPropagation(),e.delTab(t.tab)}}})]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})},staticRenderFns:[]};var St=a("C7Lr")(_t,Nt,!1,function(e){a("Np9k")},null,null).exports,Rt={name:"selectDialog",props:{filter:{type:Boolean,default:!1},pagination:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},type:{type:String,default:""},value:[Array,String],props:{type:Object,default:function(){return{value:"id",label:"name"}}},options:{type:Array,default:function(){return[]}}},data:function(){return{id:"selectList"+(this.$moment().format("x")+parseInt(Math.random()*(1e8+1))),data:[],searchText:""}},created:function(){this.initData()},watch:{options:{handler:function(){this.initData()},deep:!0},value:{handler:function(){this.initData()},deep:!0}},methods:{initData:function(){var e=this,t=this.$deepClone(this.options);this.data=t.map(function(t){return e.$set(t,"checked",!1),e.value&&(e.multiple?~e.value.indexOf(t[e.props.value])&&e.$set(t,"checked",!0):e.value===t[e.props.value]&&e.$set(t,"checked",!0)),t})},change:function(e,t){var a=this,o=new Array,r=new Array;this.multiple?o=(r=this.data.filter(function(e){return e.checked})).map(function(e){return e[a.props.value]}):(this.data.forEach(function(e,o){o!==t&&a.$set(e,"checked",!1)}),o=(r=this.data.filter(function(e){return e.checked})).length>0?this.multiple?r.map(function(e){return e[a.props.value]}):r[0][this.props.value]:null),this.$emit("input",o),this.$emit("change",r,o)},onSearch:function(){this.$emit("onSearch",this.searchText)}}},Mt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["common-selectList-wrapper",e.type,{filter:e.filter},{pagination:e.pagination}],attrs:{id:e.id}},[e.filter?a("div",{staticClass:"filterInput"},[a("formInput",{staticClass:"radius",attrs:{placeholder:"请输入搜索关键字",suffixIcon:"el-icon-search"},on:{iconClick:e.onSearch},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})],1):e._e(),e._v(" "),a("div",{staticClass:"container"},[e._t("default"),e._v(" "),a("div",{staticClass:"content"},e._l(e.data,function(t,o){return a("div",{key:o,class:["item",{active:t.checked}]},[a("div",{staticClass:"label"},[e._t("label",[a("span",{staticClass:"blue iconfont icon-homeclose"}),e._v(" "),a("span",{staticClass:"name"},[e._v(e._s(t.name))])],{item:t})],2),e._v(" "),a("formCheckedBox",{on:{change:function(t){return e.change(e.data,o)}},model:{value:t.checked,callback:function(a){e.$set(t,"checked",a)},expression:"item.checked"}})],1)}),0)],2)])},staticRenderFns:[]};var Ft=a("C7Lr")(Rt,Mt,!1,function(e){a("1sjK")},null,null).exports,Pt={components:{selectListDialog:Ft},props:{value:[String,Array],options:Object,visible:{type:Boolean,default:!1}},data:function(){return{layout:"total, sizes, prev, pager, next, jumper",searchData:{name:"",deptId:null,pageIndex:1,pageSize:20,includeSubNode:"1",exprStr:"",combinedQueryId:"",cadreTagIds:"",tableConditions:"",sorts:[],isInit:"1"},data:[],checkedId:"",checkedData:[],totalCount:0,loaded:!1}},computed:{showVisible:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}},inputVal:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},watch:{searchData:{handler:function(){this.loadData()},deep:!0}},methods:{initImg:function(e){var t=this.$moment().format("x");return this.$baseUrl+"cadre/photo?empId="+e.EMP_ID+"&code="+t},open:function(){var e=this;this.options&&(this.searchData=this.$mergeObj(this.searchData,this.options)),setTimeout(function(){e.$refs.selectList.searchText=null})},onSearch:function(e){this.searchData.name=e},loadData:function(){var e=this,t={url:this.$baseUrl+"cadre/list",data:this.searchData};this.$ajaxPost(t,!0,function(t){console.log("表格数据res++++++"),console.log(t),200===t.code?(e.loaded=!0,e.totalCount=t.data.dataCount,e.data=t.data.cadres.map(function(e){var t={};return e.fields.forEach(function(e){t[e.fieldNameEn]=e.fieldValue}),t})):e.$showMsg("error",t.message)})},change:function(e,t){this.checkedData=e,this.checkedId=t},saveForm:function(){this.$emit("save",this.checkedId,this.checkedData)}}},At={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonDialog",{staticClass:"cadreTable-dialog",attrs:{title:"切换干部",width:"700px",visible:e.showVisible,save:e.saveForm},on:{"update:visible":function(t){e.showVisible=t},open:e.open}},[a("selectListDialog",{ref:"selectList",attrs:{filter:"",pagination:"",type:"card",props:{value:"EMP_ID",label:"name"},options:e.data},on:{change:e.change,onSearch:e.onSearch},scopedSlots:e._u([{key:"label",fn:function(t){return[a("div",{staticClass:"cadreInfo"},[a("img",{staticClass:"img",attrs:{src:e.initImg(t.item),alt:"",onerror:"this.src = '/static/img/defaultAvatar.jpg'"}}),e._v(" "),a("div",{staticClass:"info"},[a("div",{staticClass:"basic"},[a("span",[e._v(e._s(t.item.a01001))]),e._v(" "),a("span",{staticClass:"line"},[e._v("| ")]),e._v(" "),a("span",[e._v(e._s(t.item.a01004value)+" ")]),e._v(" "),a("span",{staticClass:"line"},[e._v(" | ")]),e._v(" "),a("span",[e._v(e._s(e._f("fmtAge")(t.item.a01007))+" ")])]),e._v(" "),a("div",{staticClass:"job"},[a("span",[e._v(e._s(t.item.a01111))])])])])]}}]),model:{value:e.inputVal,callback:function(t){e.inputVal=t},expression:"inputVal"}},[e._v(" "),e.loaded&&0===e.data.length?a("commonEmpty"):e._e()],1),e._v(" "),a("commonPagination",{attrs:{layout:e.layout,size:e.searchData.pageSize,page:e.searchData.pageIndex,total:e.totalCount},on:{"update:size":function(t){return e.$set(e.searchData,"pageSize",t)},"update:page":function(t){return e.$set(e.searchData,"pageIndex",t)}}})],1)},staticRenderFns:[]};var Et=a("C7Lr")(Pt,At,!1,function(e){a("2zeT")},null,null).exports,Ut={name:"cadreChange",components:{routine:ht,category:It,collection:St,single:pt,multiple:wt,customCadreInfo:Tt,CadreDialog:Et},data:function(){return{checkedCadre:null,cadreOptions:{includeSubNode:!1,deptId:""},tableVisible:!1,loaded:!1,oldComName:!1,checkedX:0,checkedtab:{},options:{},translateFields:{},cadreInfo:null,pageInfo:{},saveUrl:this.$baseUrl+"sys/saveSysTableData?",updateUrl:this.$baseUrl+"sys/updateSysTableData?",delUrl:this.$baseUrl+"sys/deleteSysTableData?"}},computed:{routeQuery:function(){return this.pageInfo=this.$deepClone(this.$route.query),this.$route.query},isCadre:function(){return"200"===this.routeQuery.appCode},mainId:function(){return"200"===this.routeQuery.appCode?this.pageInfo.EMP_ID:this.pageInfo.DEP_ID},userInfo:function(){return this.$store.getters.userInfo},pageTitle:function(){return"CadreInfo"===this.routeQuery.tableTypeName?"":"单位信息管理"},tabsData:function(){var e=[{name:"分类维护",comName:"category",icon:"icon-fenlei"},{name:"收藏维护",comName:"collection",icon:"icon-shoucang"}];return"200"===this.routeQuery.appCode&&e.unshift({name:"常规维护",comName:"routine",icon:"icon-changgui",show:"CadreInfo"===this.routeQuery.tableTypeName}),e}},created:function(){this.initCadreInfo(),this.routeQuery.nameEn&&(this.checkedX=1)},methods:{changeComName:function(e){if(!e)return this.loaded=!1,this.oldComName=null,void(this.checkedtab=e);this.checkedtab=e,this.oldComName!==e.name&&(this.loaded=!1,this.oldComName=e.name),this.loadData()},initCadreInfo:function(){var e=this;if("200"===this.routeQuery.appCode){var t={data:{EMP_ID:this.mainId},method:"get",url:this.$baseUrl+"cadre/basicInfo?"};this.$ajaxPost(t,!0,function(t){200===t.code?e.cadreInfo=t.data:e.$showMsg("error",t.message)})}},loadData:function(){var e=this,t={tableName:this.checkedtab.tableNameEn,tableNamePK:this.checkedtab.tableNamePK,appCode:this.routeQuery.appCode,tableTypeName:this.routeQuery.tableTypeName};this.checkedtab.isMasterTable?t.tableNamePKValue=this.mainId:(t.tableNameFK=this.checkedtab.tableNameFK,t.tableNameFKValue=this.mainId),this.$loadCadreInfo(t,function(t){var a=new Object;t.translateFields.forEach(function(e){void 0!==e.fieldValue&&null!==e.fieldValue&&e.fieldTranslateValue&&(a[e.fieldValue]=e.fieldTranslateValue)}),e.translateFields=a,"1"===t.resultDataType?e.options=t.resultData:e.options=t.resultMultiData,e.loaded=!0})},saveForm:function(e,t){var a=this,o=!0,r=this.$refs.useComonent.form,s=this.$refs.useComonent.updateForm,n=this.$refs.useComonent.rules;if(n&&(o=this.$validate.validRules(n,r)),o){if(s.A001003){if(this.$validate.validRule(n.A001003,s.A001003)){var i={data:{cardId:s.A001003},url:this.$baseUrl+"cadre/cardId?"};this.$ajaxPost(i,!0,function(o){200===o.code&&(!0===o.data?(a.$set(n.A001003,"valid",!1),a.$set(n.A001003,"msg","该身份号码已存在"),a.$showMsg("error","验证不通过")):(a.$set(n.A001003,"valid",!0),a.$set(n.A001003,"msg",""),a.saveData(e,t)))})}}else this.saveData(e,t)}else{new Object;for(var l in n){if(!1===n[l].valid){({name:l,msg:"验证未通过"});break}}this.$showMsg("error","验证不通过")}},saveData:function(e,t){var a=this,o={data:{appCode:this.routeQuery.appCode,tableTypeName:this.routeQuery.tableTypeName,tableName:this.checkedtab.tableNameEn,tableNamePK:this.checkedtab.tableNamePK,tableNamePKValue:this.mainId,form:this.$refs.useComonent.updateForm},url:t?this.saveUrl:this.updateUrl};o.data=this.$mergeObj(o.data,e),o.data.form&&0!==q()(o.data.form).length?(o.data.form=d()(o.data.form),this.$ajaxPost(o,!0,function(e){200===e.code?(a.loadData(),a.initCadreInfo(),a.$showMsg("success","保存成功")):a.$showMsg("error",e.message)})):this.$showMsg("success","保存成功")},deleteForm:function(e){var t=this;0!==e.length?this.$showConfirm("确定删除该数据？",function(){var a={data:{appCode:t.routeQuery.appCode,tableTypeName:t.routeQuery.tableTypeName,tableName:t.checkedtab.tableNameEn,form:e},url:t.delUrl};a.data.form=d()(a.data.form),t.$ajaxPost(a,!0,function(e){200===e.code?(t.loadData(),t.$showMsg("success","删除成功")):t.$showMsg("error",e.message)})}):this.$showMsg("error","请选择需要删除的数据")},colletForm:function(){var e=this;if(this.checkedtab.isCollect)this.noCollectForm();else{var t={data:{name:this.checkedtab.name,nameCN:this.checkedtab.tableNameCn,nameEN:this.checkedtab.tableNameEn,tableId:this.checkedtab.sysTableId,userId:this.userInfo.id},url:this.$baseUrl+"user/userCollectionTableController/saveUCTable"};this.$ajaxPost(t,!0,function(t){200===t.code?(e.$refs.tabXInfo.loadData(),e.$showMsg("success","收藏成功")):e.$showMsg("error",t.message)})}},noCollectForm:function(){var e=this;this.$showConfirm("确定移除该收藏？",function(){var t={data:{ids:[e.checkedtab.sysTableId]},url:e.$baseUrl+"user/userCollectionTableController/deleteUCTable"};e.$ajaxPost(t,!0,function(t){200===t.code?(e.$refs.tabXInfo.loadData(),e.$showMsg("success","移除收藏成功")):e.$showMsg("error",t.message)})})},uploadPhoto:function(){this.initCadreInfo()},changeCadre:function(){this.routeQuery.appCode;this.cadreOptions=JSON.parse(sessionStorage.cadreSearch),this.checkedCadre=this.pageInfo.EMP_ID,this.tableVisible=!0},saveCadre:function(e,t){var a="200"===this.routeQuery.appCode?"EMP_ID":"DEP_ID";this.pageInfo[a]=e,this.tableVisible=!1,this.initCadreInfo(),this.loadData()},showRMB:function(){var e=this.$baseUrl+"preview/rmb?empid="+this.pageInfo.EMP_ID;window.open(e)}}},Vt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"cadreChange-wrapper",attrs:{local:"cadreInfo_form"}},[a("commonTitle",{attrs:{slot:"title",title:e.pageTitle,showBack:"",showShadow:""},slot:"title"},[e.cadreInfo?a("customCadreInfo",{attrs:{slot:"content",options:e.cadreInfo},slot:"content"}):e._e(),e._v(" "),e.isCadre?a("el-button",{staticClass:"iconfont icon-ganbu",attrs:{slot:"more-button",size:"mini",type:"warning"},on:{click:function(t){return e.changeCadre()}},slot:"more-button"},[e._v("切换干部")]):e._e(),e._v(" "),e.isCadre?a("el-button",{staticClass:"iconfont icon-yulan",attrs:{slot:"more-button",size:"mini",type:"warning"},on:{click:function(t){return e.showRMB()}},slot:"more-button"},[e._v("预览任免表")]):e._e()],1),e._v(" "),e.cadreInfo?a("div",{attrs:{slot:"left"},slot:"left"},[a("commonTablistX",{attrs:{position:"top",options:e.tabsData},model:{value:e.checkedX,callback:function(t){e.checkedX=t},expression:"checkedX"}}),e._v(" "),a("keep-alive",[a(e.tabsData[e.checkedX].comName,{ref:"tabXInfo",tag:"component",on:{change:e.changeComName}})],1)],1):e._e(),e._v(" "),e.loaded?a("div",{attrs:{slot:"right"},slot:"right"},[a("keep-alive",[a(e.checkedtab.comName,{ref:"useComonent",tag:"component",attrs:{mainId:e.mainId,info:e.checkedtab,options:e.options,translateFields:e.translateFields},on:{save:e.saveForm,delete:e.deleteForm,collet:e.colletForm,uploadPhoto:e.uploadPhoto}})],1),e._v(" "),["multiple"].includes(e.checkedtab.comName)?e._e():a("commonFooter",{attrs:{hint:"请确认填写的数据",button:"提交"},on:{click:e.saveForm}})],1):e._e(),e._v(" "),e.isCadre?a("CadreDialog",{attrs:{options:e.cadreOptions,visible:e.tableVisible},on:{"update:visible":function(t){e.tableVisible=t},save:e.saveCadre},model:{value:e.checkedCadre,callback:function(t){e.checkedCadre=t},expression:"checkedCadre"}}):e._e(),e._v(" "),e.checkedtab?e._e():a("commonEmpty",{attrs:{slot:"right"},slot:"right"})],1)},staticRenderFns:[]};var Lt=a("C7Lr")(Ut,Vt,!1,function(e){a("E40r")},null,null).exports,qt={name:"appointManager",components:{moreDialog:ne},data:function(){return{layout:"total,sizes, prev, pager, next",local:"appoint",searchText:"",isLoadig:!1,showPdf:!1,reload:!1,defaultChecked:!0,currentEMP_ID:"",rowIndex:0,rowData:{},easyCount:0,conditions:null,tableData:[],pageTitle:"任免表快捷编辑",searchData:{name:"",deptId:null,pageIndex:1,pageSize:20,includeSubNode:"1",exprStr:"",combinedQueryId:"",cadreTagIds:"",tableConditions:"",sorts:[],isInit:"1"},collectData:[],formControl:{visible:!1,refresh:!1,easyVisible:!1,containerRefresh:!1},gridColumns:[{text:"姓名",align:"center",width:70,dataIndex:"a01001",formatter:function(e){return{showBtn:!0,text:e.row.a01001,type:"text",eName:"onCheckCadre"}}},{text:"工作单位及职务",align:"left",dataIndex:"a01111"}],listUrl:this.$baseUrl+"cadre/list",htmlUrl:this.$baseUrl+"export/gbrmb/bj/html/generate?",wordUrl:this.$baseUrl+"export/gbrmb/bj/word/generateAndExport?",lrmxUrl:this.$baseUrl+"export/gbrmb/bj/lrmx/generateAndExport?"}},computed:{},watch:{searchData:{handler:function(){this.loadData()},deep:!0}},methods:{changeLeftWidth:function(){this.formControl.containerRefresh=!0},loadTotalData:function(){var e=this,t={data:{},method:"get",url:this.$baseUrl+"sys/getSysTableCount?"};this.$ajaxPost(t,!0,function(t){if(200===t.code){var a=new Array;for(var o in t.data){var r={name:"单位数量",class:"blue",count:t.data[o],unit:"个"};"cadreCount"===o&&(r.name="干部数量"),a.push(r)}e.collectData=a}else e.$showMsg("error",t.message)})},returnForTable:function(e){var t=new Array,a=e.cadres.map(function(e){var t={};return e.fields.forEach(function(e){t[e.fieldNameEn]=e.fieldValue}),t});for(var o in e.tableFields)if("EMP_ID"!==o){var r={text:e.tableFields[o],align:"left",dataIndex:o};t.push(r)}return{totalCount:e.dataCount,columns:t,data:a}},loadData:function(){var e=this,t=!0;for(var a in this.searchData)null===this.searchData[a]&&(t=!1);if(t){var o={url:this.listUrl,data:this.searchData};this.$ajaxPost(o,!0,function(t){if(console.log("表格数据res++++++"),console.log(t),200===t.code){var a=e.returnForTable(t.data);e.tableData=a.data,e.$refs.commonTable.totalCount=a.totalCount}else e.$showMsg("error",t.message)})}},easySearchSave:function(e,t){this.conditions=t||null,this.easyCount=e&&e.count?e.count:0,e?(this.searchData.cadreTagIds=e.cadreTagIds?e.cadreTagIds.join(","):"",this.searchData.tableConditions=q()(e.tableConditions).length>0?d()(e.tableConditions):""):(this.searchData.cadreTagIds="",this.searchData.tableConditions="")},onSearch:function(){this.searchData.name=this.searchText},easySearch:function(e){this.formControl.easyVisible=!0},goChange:function(e){var t={EMP_ID:this.rowData.EMP_ID,appCode:"200",tableTypeName:"CadreInfo",nameEn:e};e&&113!==e||delete t.nameEn,sessionStorage.setItem("cadreSearch",d()(this.searchData)),this.$router.push({name:"CadreDepartChange",query:t})},refreshClick:function(){this.$route.query.combinedQueryId&&this.$router.push({name:"AppointManager"}),this.moreCount=0,this.searchText="",this.conditions=null,this.searchData.cadreTagIds="",this.searchData.combinedQueryId="",this.searchData.tableConditions="",this.searchData.sorts=new Array,this.searchData.isInit="1",this.$refs.moreDialog.refresh(),this.loadData()},changeContain:function(e){this.searchData.includeSubNode=e?"1":"0"},sendHtmlRequest:function(e){var t=this;if(!this.isLoadig){this.isLoadig=!0;var a={url:this.htmlUrl,data:{empId:e,forceGenerate:this.reload}};this.$ajaxPost(a,!0,function(e){t.isLoadig=!1,200===e.code?(t.reload=!1,t.$refs.container.innerHTML=e.data,t.showPdf=!0):t.$showMsg("error",e.message)})}},rowClick:function(e){this.rowIndex=e.$index,this.rowData=e,this.onCheckCadre(e)},nodeClick:function(){this.searchData.pageIndex=1},onCheckCadre:function(e){var t=e.EMP_ID;this.currentEMP_ID=t,this.sendHtmlRequest(t)},onDownloadWord:function(){window.location.href=this.wordUrl+"empIds="+this.currentEMP_ID},onDownloadLrm:function(){window.location.href=this.lrmxUrl+"empIds="+this.currentEMP_ID},print:function(){var e=window.open("_blank"),t=this.$refs.container.innerHTML;e.document.write(t),e.document.close(),e.print()},onClose:function(){this.$refs.container.innerHTML="",this.showPdf=!1},refreshRmb:function(){this.reload=!0,this.onCheckCadre(this.rowData)}},beforeRouteEnter:function(e,t,a){e.meta.isBack=!1,e.meta.useKeep.includes(t.name)&&(e.meta.isBack=!0),a()},activated:function(){this.$route.meta.isBack?this.$refs.departTree.initScroll():(this.searchData.deptId=null,this.searchData.pageIndex=1,this.searchData.pageSize=20,this.$refs.departTree.renderTree()),this.$set(this.searchData,"refresh",this.$moment().format("x")+"_refresh"),this.loadTotalData(),window.titleClickFn=this.goChange}},Ot={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"appointManager-wrapper",attrs:{local:e.local},on:{changeWidth:e.changeLeftWidth}},[a("commonTitle",{attrs:{slot:"title",showShadow:"",title:e.pageTitle,options:e.collectData},slot:"title"}),e._v(" "),a("departTree",{ref:"departTree",attrs:{slot:"left",showContain:""},on:{nodeClick:e.nodeClick,changeContain:e.changeContain},slot:"left",model:{value:e.searchData.deptId,callback:function(t){e.$set(e.searchData,"deptId",t)},expression:"searchData.deptId"}}),e._v(" "),a("commonBody",{attrs:{slot:"right",max:"",width:"35%",local:e.local+"_info",refresh:e.formControl.containerRefresh},on:{"update:refresh":function(t){return e.$set(e.formControl,"containerRefresh",t)}},slot:"right"},[a("commonTable",{ref:"commonTable",staticClass:"padding",attrs:{slot:"left",local:e.local,autoHeight:"",showPagination:"",gridColumns:e.gridColumns,rowIndex:e.rowIndex,options:e.tableData,search:e.searchData,layout:e.layout},on:{rowClick:e.rowClick,onCheckCadre:e.onCheckCadre},slot:"left"},[a("commonSearch",[a("formInput",{staticClass:"radius",attrs:{slot:"right",placeholder:"请输入关键字查询",suffixIcon:"el-icon-search"},on:{iconClick:e.onSearch},slot:"right",model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}}),e._v(" "),a("el-button",{staticClass:"easyBtn",attrs:{slot:"right",size:"mini",type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.easySearch()}},slot:"right"},[e._v("\n                    高级查询\n                    "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.easyCount>0,expression:"easyCount>0"}],staticClass:"easyCount bgred",attrs:{title:"已选择"+e.easyCount+"个条件"}},[e._v(e._s(e.easyCount))])]),e._v(" "),a("el-button",{attrs:{slot:"right",size:"mini",type:"warning",icon:"el-icon-refresh"},on:{click:function(t){return e.refreshClick()}},slot:"right"},[e._v("重置查询")])],1)],1),e._v(" "),a("commonContainer",{staticClass:"container",attrs:{slot:"right"},slot:"right"},[a("div",{ref:"container"}),e._v(" "),e.showPdf?a("div",{staticClass:"operate"},[a("el-button",{attrs:{type:"primary"},on:{click:e.refreshRmb}},[e._v("重新加载任免表")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onDownloadWord}},[e._v("下载")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.onDownloadLrm}},[e._v("下载lrmx")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.print()}}},[e._v("打印任免表")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.goChange()}}},[e._v("切换到高级编辑界面")]),e._v(" "),a("el-button",{on:{click:e.onClose}},[e._v("关闭")])],1):e._e()])],1),e._v(" "),a("moreDialog",{ref:"moreDialog",attrs:{visible:e.formControl.easyVisible},on:{"update:visible":function(t){return e.$set(e.formControl,"easyVisible",t)},save:e.easySearchSave}})],1)},staticRenderFns:[]};var jt=a("C7Lr")(qt,Ot,!1,function(e){a("66g4"),a("ZN+w")},"data-v-1f8b0742",null).exports,Bt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"conditionalError-wrapper",attrs:{local:"conditionalError"}},[a("commonTitle",{attrs:{slot:"title",showShadow:"",title:e.pageTitle,options:e.collectData},slot:"title"}),e._v(" "),a("div",{staticClass:"contentBody paddingX"},[a("commonSearch",{staticClass:"paddingY"},[a("formRadio",{attrs:{button:"",defaultChecked:"",options:e.radioData},on:{change:e.changeRadio},model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}})],1),e._v(" "),e.showMenu&&this.menuChild.length>0?a("commonContainer",[a("div",{staticClass:"errList"},[a("div",{staticClass:"homeMenu"},e._l(e.menuChild,function(t,o,r){return a("div",{key:r,staticClass:"menu-container",on:{click:function(a){return e.clickHandler(t)}}},[a("div",{staticClass:"menu-container-sub",staticStyle:{display:"flex","flex-wrap":"wrap","justify-content":"flex-start"}},[a("div",{staticClass:"contentLeft",staticStyle:{display:"flex"}},[a("div",{staticClass:"icon-div"},[a("i",{class:t.wrongNum<=0?"el-icon-success":"el-icon-error",style:{color:t.wrongNum<=0?"#29D56A":"#FC4D57"}})]),e._v(" "),a("div",{staticClass:"title"},[a("span",[e._v(e._s(t.conditionName)+"，")]),e._v("还有个"),a("span",{staticClass:"err"},[e._v(e._s(t.wrongNum))]),e._v("待处理")])]),e._v(" "),a("div",{staticClass:"contentRight"},[a("div",{staticClass:"progress"},[a("span",{staticClass:"proText"},[e._v("完成进度:")]),a("el-progress",{staticClass:"progre",attrs:{"text-inside":!0,"stroke-width":16,color:t.completeSchedule>=100?"#29D56A":"#59A7FF",percentage:t.completeSchedule}})],1)])])])}),0)])]):e._e()],1)],1)},staticRenderFns:[]};var zt=a("C7Lr")({name:"conditionalError",components:{},data:function(){return{pageTitle:"系统数据治理",collectData:[],selectedType:"0",radioData:[{value:"0",label:"错误"},{value:"1",label:"全部"}],addOrUpdate:!0,checkedVal:null,menuChild:[],tableData:[],options:[],showMenu:!0,url:this.$baseUrl+"sys/check/query",addUrl:this.$baseUrl+"",updateUrl:this.$baseUrl+"",deleteUrl:this.$baseUrl+"",totleNumbers:1366,errNumbers:168}},mounted:function(){this.loadTotalData(this.selectedType)},watch:{"formControl.refresh":function(e){e&&this.loadTable()}},computed:{},methods:{loadTotalData:function(e){var t=this,a="0"==e,o={url:this.$baseUrl+"sys/check/result/list",data:{wrongOnly:a}};this.$ajaxPost(o,!0,function(e){if(200===e.code){var a=[{name:"治理项总数",class:"blue",count:e.data.conditionNum,unit:"个"},{name:"存在问题",class:"red2",count:e.data.wrongNum,unit:"个"}];t.collectData=a,t.menuChild=e.data.items}else t.$showMsg("error",e.message)})},changeRadio:function(e){this.loadTotalData(e)},clickHandler:function(e){this.$router.push({path:"ConditionErrorDetail",query:{conditionId:e.conditionId,title:e.conditionName,wrongNum:e.wrongNum}})},back:function(){this.$router.go(-1)}}},Bt,!1,function(e){a("EJEW")},null,null).exports,Ht={name:"conditionErrorDetail",props:{roleId:{type:String,default:""}},data:function(){var e=this;return{searchText:"",total:0,searchListText:"",listData:[],sysAppTableGroupId:"",sysAppId:"",searchTreeData:{conditionId:this.$route.query.conditionId,orgId:""},searchData:{conditionId:this.$route.query.conditionId,keywords:"",orgId:null,orderBy:"",pageSize:20,pageIndex:1},treeProps:{value:"orgId",label:"name",isLeaf:"leaf",hasChildren:"hasChildren"},tableData:[],formControl:{visible:!1,refresh:!1,transferVisible:!1},tabUrl:this.$baseUrl+"sys/check/emp/list",gridColumns:[{text:"姓名",align:"center",dataIndex:"name",formatter:function(e){return{showBtn:!0,type:"text primary",text:e.row.name,eName:"hrefRow"}}},{text:"性别",align:"center",dataIndex:"gender"},{text:"出生日期",align:"center",dataIndex:"birthday"},{text:"单位",align:"center",dataIndex:"organization"},{text:"职务",align:"center",dataIndex:"position"},{text:"职级",align:"center",dataIndex:"positionLevel"},{text:"备注",align:"center",dataIndex:"date",formatter:function(t){return{showBtn:!0,type:"text primary",text:e.pageTitle,eName:"hrefRow"}}}],url:this.$baseUrl+"sys/check/org/tree",nodeUrl:this.$baseUrl+"sys/check/org/tree"}},created:function(){},mounted:function(){},computed:{conditionId:function(){return this.$route.query.conditionId},pageTitle:function(){return this.$route.query.title},collectData:function(){return[{name:"待处理：",class:"red2",count:this.$route.query.wrongNum,unit:"个"}]}},watch:{},methods:{returnForNodeData:function(e,t){return e},searchClick:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";this.searchData.keywords=e},loadForNode:function(e,t){this.searchTreeData.orgId=e.data.orgId,t()},nodeClick:function(e){this.searchData.pageIndex=1,this.searchData.orgId=e.orgId},hrefRow:function(e){var t={EMP_ID:e.empId,appCode:"200",tableTypeName:"CadreInfo",nameEn:e.sysTableNameEn};this.$router.push({name:"CadreDepartChange",query:t})},render2:function(e,t){var a=t.node,o=(t.data,t.store,{iconfont:!0,blue:!0,"icon-homeclose":!1}),r=a.data.wrongNum>0?"("+a.data.wrongNum+")":"";switch(a.level){case 1:o=["iconfont",this.treeProps.icon?this.treeProps.icon:"icon-homeclose blue"];break;default:o=["iconfont",this.treeProps.childrenIcon?this.treeProps.childrenIcon:"icon-homeopen blue"]}return e("div",{class:"commonTreeNode",attrs:{title:a.label}},[e("i",{class:o},[" "]),e("span",{class:"nodeName"},[" ",a.label]),e("span",{class:"nodeWrongNum"},[" ",r])])},back:function(){this.$router.go(-1)}}},Gt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"conditionErrorDetail-wrapper",attrs:{local:"conditionErrorDetail"}},[a("commonTitle",{attrs:{slot:"title",showShadow:"",title:e.pageTitle,options:e.collectData},slot:"title"},[a("el-button",{attrs:{slot:"right",size:"mini",type:"primary",icon:"el-icon-back"},on:{click:function(t){return e.goBack()}},slot:"right"},[e._v("返回")])],1),e._v(" "),a("commonTree",{attrs:{slot:"left",local:"conditionErrorDetail",autoHeight:"",defaultChecked:"",filter:"",lazy:"",props:e.treeProps,search:e.searchTreeData,loadForNode:e.loadForNode,nodeUrl:e.nodeUrl,returnForNodeData:e.returnForNodeData,render:e.render2},on:{nodeClick:e.nodeClick},slot:"left",model:{value:e.searchData.orgId,callback:function(t){e.$set(e.searchData,"orgId",t)},expression:"searchData.orgId"}}),e._v(" "),a("commonTable",{staticClass:"padding",attrs:{slot:"right",autoHeight:"",defaultChecked:"",showPagination:"",url:e.tabUrl,gridColumns:e.gridColumns,search:e.searchData,refresh:e.formControl.refresh},on:{"update:search":function(t){e.searchData=t},"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)},hrefRow:e.hrefRow},slot:"right"},[a("commonSearch",[a("div",{attrs:{slot:"right"},slot:"right"},[a("formInput",{staticClass:"radius large",attrs:{size:"large",placeholder:"请输入属性中文名查询",suffixIcon:"el-icon-search"},on:{iconClick:e.searchClick},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})],1)])],1)],1)},staticRenderFns:[]};var Wt=a("C7Lr")(Ht,Gt,!1,function(e){a("+rTV")},null,null).exports,Kt={name:"cadreStatistics",components:{},data:function(){return{pageTitle:"干部统计",numData:[],myChart1:"",myChart2:"",myChart3:"",myChart4:"",myChart5:"",myChart6:""}},created:function(){this.loadData()},mounted:function(){},computed:{},watch:{},methods:{loadData:function(){var e=this,t={url:this.$baseUrl+"charts/cadreStatistics"};this.$ajaxPost(t,!0,function(t){200===t.code?(e.numData=t.data,setTimeout(function(){e.myChart1=e.$echarts.init(document.getElementById("chart1")),e.myChart2=e.$echarts.init(document.getElementById("chart2")),e.myChart3=e.$echarts.init(document.getElementById("chart3")),e.myChart4=e.$echarts.init(document.getElementById("chart4")),e.myChart5=e.$echarts.init(document.getElementById("chart5")),e.myChart6=e.$echarts.init(document.getElementById("chart6")),e.drawpie(),e.drawpie2(),e.drawpie3(),e.drawpie4(),e.drawpie5(),e.drawpie6(),h()(window).resize(function(){e.myChart1.resize(),e.myChart2.resize(),e.myChart3.resize(),e.myChart4.resize(),e.myChart5.resize(),e.myChart6.resize()})},20)):e.$showMsg("error",t.message)})},drawpie:function(){this.$echarts.init(document.getElementById("chart1")).on("click",function(e){console.log(e)}),this.myChart1.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},legend:{x:"center",bottom:14,data:["男","女"]},calculable:!0,series:[{name:this.numData[4].name,type:"pie",radius:[60,80],center:["50%","50%"],label:{normal:{show:!0,formatter:"{c} ({d}%)"},emphasis:{show:!0}},lableLine:{normal:{show:!1},emphasis:{show:!0}},data:[{value:this.numData[4].data[0].num,name:this.numData[4].data[0].name},{value:this.numData[4].data[1].num,name:this.numData[4].data[1].name}]}]})},drawpie2:function(){var e=this,t=this.$echarts.init(document.getElementById("chart2")),a=this.accAdd(this.numData[5].data[0].num,this.numData[5].data[1].num);t.on("click",function(e){console.log(e)}),this.myChart2.setOption({color:["#A157DF","#16A0FF","#000000"],legend:{x:"center",bottom:14,data:["汉族","少数民族"]},tooltip:{trigger:"item",formatter:function(t){return t.name+":<br>"+e.mul(parseFloat((t.value/a).toFixed(4)),100)+"%"}},series:[{name:this.numData[5].name,type:"pie",radius:"60%",selectedMode:"single",label:{verticalAlign:"middle",normal:{position:"inner",verticalAlign:"middle",formatter:function(t){return e.mul(parseFloat((t.value/a).toFixed(4)),100)+"%"},fontSize:20,rich:{d:{fontSize:14,color:"#fff",align:"center",padding:4}}}},data:[{value:this.numData[5].data[0].num,name:this.numData[5].data[0].name}]},{name:this.numData[5].name,type:"pie",radius:"30%",center:["65%","30%"],label:{normal:{position:"inner",fontSize:18,formatter:function(t){return e.mul(parseFloat((t.value/a).toFixed(4)),100)+"%"}}},data:[{value:this.numData[5].data[1].num,name:this.numData[5].data[1].name}]}]})},drawpie3:function(){var e=this.$echarts.init(document.getElementById("chart3")),t=this.$deepClone(this.numData[6].data).map(function(e){return e.value=e.num,e}),a=this.$deepClone(this.numData[6].data).map(function(e){return e.value=e.num,e.name="",e}),o=this.$deepClone(this.numData[6].data).map(function(e){return e.name});e.on("click",function(e){console.log(e)}),this.myChart3.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{show:!1,icon:"circle",bottom:14,x:"center",data:o,textStyle:{color:"#000"}},series:[{name:this.numData[6].name,type:"pie",hoverAnimation:!1,legendHoverLink:!1,radius:["28%","35%"],center:["50%","55%"],color:["#006495","#1D5F84","#255C6D","#3C5C67","#40486C","#3F3C73","#403D84","#1F3A8D","#0B3B77"],label:{normal:{position:"inner"}},labelLine:{normal:{show:!1}},tooltip:{show:!1},data:a},{name:this.numData[6].name,type:"pie",radius:["33%","55%"],center:["50%","55%"],color:["#00FFFF","#44EAB1","#7BDD43","#FEBE12","#EBEC2F","#FF7C44","#FA3E5F","#6635EF","#FFAFDA"],labelLine:{lineHeight:25,normal:{show:!0,length:10,length2:20,lineStyle:{width:2}}},label:{normal:{color:"#000",formatter:"{b}: {d|{d}%}\n{hr|}",rich:{b:{fontSize:20,color:"#12EABE",align:"left",padding:4},hr:{borderColor:"#ccc",width:"100%",borderWidth:1,height:0},d:{fontSize:14,color:"#000",align:"left",padding:4},c:{fontSize:14,color:"#000",align:"left",padding:4}}}},data:t}]})},drawpie4:function(){var e=this.$echarts.init(document.getElementById("chart4")),t=this.$deepClone(this.numData[7].data).map(function(e){return e.name}),a=this.$deepClone(this.numData[7].data).map(function(e){return e.value=e.num,e});e.on("click",function(e){console.log(e)}),this.myChart4.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},color:["#16A0FF","#62B1FF","#494EB9","#E39A94"],legend:{bottom:14,x:"center",data:t},series:[{name:this.numData[7].name,type:"pie",radius:["30%","50%"],label:{normal:{formatter:"{d|{d}%}\n{hr|}",rich:{b:{fontSize:12,color:"#12EABE",align:"left",padding:4},hr:{borderColor:"#000",width:"100%",borderWidth:1,height:0},d:{fontSize:12,color:"#000",align:"left",padding:4},c:{fontSize:12,color:"#000",align:"left",padding:4}}},emphasis:{show:!0,textStyle:{fontSize:"12"}}},labelLine:{normal:{show:!0,length:20,length2:20,lineStyle:{width:1}}},data:a}]})},drawpie5:function(){var e=this.$echarts.init(document.getElementById("chart5")),t=this.$deepClone(this.numData[8].data).map(function(e){return e.name}),a=this.$deepClone(this.numData[8].data).map(function(e){return e.num});e.on("click",function(e){console.log(e)}),this.myChart5.setOption({color:["#3398DB"],tooltip:{trigger:"axis",formatter:"{a} <br/>{b}: {c}",axisPointer:{type:"shadow"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",data:t,axisLine:{lineStyle:{color:"#E8E8E8"}},axisTick:{alignWithLabel:!0,lineStyle:{color:"#000"}},axisLabel:{color:"#000"}}],yAxis:[{show:!1,type:"value"}],series:[{name:this.numData[8].name,type:"bar",barWidth:"20",label:{normal:{show:!0,formatter:"{c}人",position:"top"}},data:a}]})},drawpie6:function(){var e=this.$echarts.init(document.getElementById("chart6")),t=this.$deepClone(this.numData[9].data).map(function(e){return e.name}),a=this.$deepClone(this.numData[9].data).map(function(e){return e.num});e.on("click",function(e){console.log(e)}),this.myChart6.setOption({tooltip:{trigger:"axis",formatter:"{a} <br/>{b}: {c}人"},xAxis:{type:"category",boundaryGap:!1,data:t,axisLabel:{margin:30,color:"#000"},axisLine:{lineStyle:{color:"#E8E8E8"}},axisTick:{show:!1}},yAxis:[{show:!1,type:"value",position:"right",axisLabel:{margin:20,color:"#ffffff63"},axisTick:{show:!0,length:15,lineStyle:{color:"#ffffff1f"}},splitLine:{show:!0,lineStyle:{color:"#ffffff1f"}},axisLine:{lineStyle:{color:"#fff",width:2}}}],series:[{name:this.numData[9].name,type:"line",smooth:!0,showAllSymbol:!0,symbol:"circle",symbolSize:6,lineStyle:{normal:{color:"#63B632"}},label:{show:!0,position:"top",formatter:"{c}人",textStyle:{color:"#63B632"}},itemStyle:{color:"#fff",borderColor:"#63B632",borderWidth:1},tooltip:{},data:a}]})},hrefCadre:function(){this.$router.push({path:"CadreManager"})},hrefDepart:function(){this.$router.push({path:"DepartManager"})},hrefError:function(){this.$router.push({path:"ConditionalError"})},accAdd:function(e,t){var a,o,r,s;try{a=e.toString().split(".")[1].length}catch(e){a=0}try{o=t.toString().split(".")[1].length}catch(e){o=0}if(s=Math.abs(a-o),r=Math.pow(10,Math.max(a,o)),s>0){var n=Math.pow(10,s);a>o?(e=Number(e.toString().replace(".","")),t=Number(t.toString().replace(".",""))*n):(e=Number(e.toString().replace(".",""))*n,t=Number(t.toString().replace(".","")))}else e=Number(e.toString().replace(".","")),t=Number(t.toString().replace(".",""));return(e+t)/r},mul:function(e,t){var a=0,o=e.toString(),r=t.toString();try{a+=o.split(".")[1].length}catch(e){}try{a+=r.split(".")[1].length}catch(e){}return Number(o.replace(".",""))*Number(r.replace(".",""))/Math.pow(10,a)},accDiv:function(e,t){var a,o,r=0,s=0;try{r=e.toString().split(".")[1].length}catch(e){}try{s=t.toString().split(".")[1].length}catch(e){}return a=Number(e.toString().replace(".","")),o=Number(t.toString().replace(".","")),this.mul(a/o,Math.pow(10,s-r))},back:function(){this.$router.go(-1)},beforeDestroy:function(){h()(window).resize=null}}},Xt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"cadreStatistics-wrapper",attrs:{local:"cadreStatistics"}},[a("commonTitle",{attrs:{slot:"title",showShadow:"",title:e.pageTitle},slot:"title"}),e._v(" "),a("div",{staticClass:"contentBody  col_4"},[e.numData.length>0?a("commonContainer",{staticClass:"padding container"},[a("div",{staticClass:"statisNum"},[a("div",{staticClass:"numCar"},[a("div",{staticClass:"carContent"},[a("div",{staticClass:"title"},[e._v(e._s(e.numData[0].name))]),e._v(" "),a("div",{staticClass:"numPeople"},[a("span",{staticClass:"num",on:{click:e.hrefCadre}},[e._v(e._s(e.numData[0].data[0].num))]),e._v("/"),a("span",{staticClass:"unit"},[e._v("人")])])])]),e._v(" "),a("div",{staticClass:"numCar"},[a("div",{staticClass:"carContent"},[a("div",{staticClass:"title"},[e._v(e._s(e.numData[1].name))]),e._v(" "),a("div",{staticClass:"numPeople"},[a("span",{staticClass:"num",staticStyle:{color:"#9D96F6"},on:{click:e.hrefDepart}},[e._v(e._s(e.numData[1].data[0].num))]),e._v("/"),a("span",{staticClass:"unit"},[e._v("个")])])])]),e._v(" "),a("div",{staticClass:"numCar"},[a("div",{staticClass:"carContent"},[a("div",{staticClass:"title"},[e._v(e._s(e.numData[2].name))]),e._v(" "),a("div",{staticClass:"numPeople"},[a("span",{staticClass:"num",staticStyle:{color:"#FE5B5B"},on:{click:e.hrefError}},[e._v(e._s(e.numData[2].data[0].num))]),e._v("/"),a("span",{staticClass:"unit"},[e._v("个")])])])]),e._v(" "),a("div",{staticClass:"numCar"},[a("div",{staticClass:"carContent"},[a("div",{staticClass:"title"},[e._v(e._s(e.numData[3].name))]),e._v(" "),a("div",{staticClass:"numPeople"},[a("span",{staticClass:"num",staticStyle:{color:"#333333"}},[e._v(e._s(e.numData[3].data[0].num))]),e._v("/"),a("span",{staticClass:"unit"},[e._v("人")])])])])]),e._v(" "),a("div",{staticClass:"structure"},[a("div",{staticClass:"strucCar"},[a("div",{staticClass:"chartContent"},[a("div",{staticClass:"title"},[e._v(e._s(e.numData[4].name))]),e._v(" "),a("div",{staticClass:"chart ",attrs:{id:"chart1"}})])]),e._v(" "),a("div",{staticClass:"strucCar"},[a("div",{staticClass:"chartContent"},[a("div",{staticClass:"title"},[e._v(e._s(e.numData[5].name))]),e._v(" "),a("div",{staticClass:"chart ",attrs:{id:"chart2"}})])]),e._v(" "),a("div",{staticClass:"strucCar"},[a("div",{staticClass:"chartContent"},[a("div",{staticClass:"title"},[e._v(e._s(e.numData[6].name))]),e._v(" "),a("div",{staticClass:"chart ",attrs:{id:"chart3"}})])]),e._v(" "),a("div",{staticClass:"strucCar"},[a("div",{staticClass:"chartContent"},[a("div",{staticClass:"title"},[e._v(e._s(e.numData[7].name))]),e._v(" "),a("div",{staticClass:"chart ",attrs:{id:"chart4"}})])])]),e._v(" "),a("div",{staticClass:"agePosition"},[a("div",{staticClass:"agePosCar"},[a("div",{staticClass:"columnContent"},[a("div",{staticClass:"title"},[e._v(e._s(e.numData[8].name))]),e._v(" "),a("div",{staticClass:"chart ",attrs:{id:"chart5"}})])]),e._v(" "),a("div",{staticClass:"agePosCar"},[a("div",{staticClass:"columnContent"},[a("div",{staticClass:"title"},[e._v(e._s(e.numData[9].name))]),e._v(" "),a("div",{staticClass:"chart ",attrs:{id:"chart6"}})])])])]):e._e()],1)],1)},staticRenderFns:[]};var Yt=a("C7Lr")(Kt,Xt,!1,function(e){a("Mx7b")},null,null).exports,Qt={render:function(){var e=this.$createElement;return(this._self._c||e)("formDropDown",{staticClass:"merge-search-select",attrs:{type:"primary",options:this.data,title:"组合查询",icon:"el-icon-search"},on:{click:this.dropClick}})},staticRenderFns:[]};var Jt={name:"cadreManager",components:{moreDialog:ne,mergeSearch:a("C7Lr")({name:"mergeSearch-select",components:{},props:{},data:function(){return{data:[]}},created:function(){this.loadData()},watch:{},methods:{loadData:function(){var e=this,t={data:{},url:this.$baseUrl+"cadre/combinedQuery/all"};this.$ajaxPost(t,!0,function(t){if(200===t.code){var a=t.data.map(function(e){return e.children=[{name:"修改",icon:"el-icon-edit",eName:"changeOrAddCombined",combinedQueryId:e.combinedQueryId},{name:"查询",icon:"el-icon-search",eName:"searchCombined",combinedQueryId:e.combinedQueryId}],e});a.push({name:"新增组合查询",icon:"el-icon-plus",eName:"changeOrAddCombined"}),e.data=a}else e.$showMsg("error",t.message)})},dropClick:function(e){this[e.eName]&&this[e.eName](e)},changeOrAddCombined:function(e){var t={};e.combinedQueryId&&(t={combinedQueryId:e.combinedQueryId}),this.$router.push({name:"MergeSearch",query:t})},searchCombined:function(e){this.$emit("change",e.combinedQueryId)}}},Qt,!1,function(e){a("OQ8B")},"data-v-4f95ef8e",null).exports,multipleAddDialog:Ne,multipleChangeDialog:Me},props:{searchData:Object},data:function(){return{searchText:"",multiple:!1,easyCount:0,conditions:null,local:"cadreInfo",checkedVal:[],gridColumns:[],tableData:[],multipleInfo:{name:"新增干部",tableNameEn:"EmpA001",prjCode:"200",tableTypeName:"CadreInfo"},dropData:{operate:[{name:"添加",icon:"el-icon-plus",eName:"addRow"},{name:"批量删除",icon:"el-icon-delete",eName:"delRow"},{name:"批量修改",icon:"el-icon-plus",children:[{name:"职级情况",tableNameEn:"EmpA05"},{name:"公务员登记",tableNameEn:"EmpA61"},{name:"学习(培训 进修)",tableNameEn:"EmpA11"},{name:"考核情况",tableNameEn:"EmpA15"}]},{name:"批量修改",icon:"el-icon-edit",children:[{name:"基本情况",tableNameEn:"EmpA001",change:!0}]}],downLoad:[{name:"干部花名册",eName:"downLoadGbhmc"},{name:"干部花名册(不含单位)",eName:"downLoadGbhmc",data:{containDepartment:!1}},{name:"干部花名册(包含身份证号)",eName:"downLoadGbhmc",data:{containIdCardNo:!0}},{name:"干部花名册(职务关联单位)",eName:"downLoadGbhmc",data:{containDutyDepart:!0}},{name:"干部任免表lrmx",eName:"downLoadGbLrmx"},{name:"干部任免表word",eName:"downLoadGbWord"}],combined:[]},formControl:{visible:!1,refresh:!1,easyVisible:!1,mergeVisible:!1,multipleAddVisible:!1,multipleChangeVisible:!1},multipleSaveUrl:this.$baseUrl+"sys/batchSaveSysTableData?",multipleUpdateUrl:this.$baseUrl+"sys/batchUpdateSysTableData?",saveUrl:this.$baseUrl+"sys/saveSysTableData?",updateUrl:this.$baseUrl+"sys/updateSysTableData?",delUrl:this.$baseUrl+"sys/deleteSysTableData?"}},created:function(){},watch:{searchData:{handler:function(){this.loadData()},deep:!0}},methods:{rowDbClick:function(e){this.$router.push({path:"fileManager",query:{empId:e.EMP_ID}})},onSearch:function(){this.searchData.name=this.searchText},easySearch:function(){this.formControl.easyVisible=!0},changeMergeSearch:function(e){this.searchData.combinedQueryId=e},refreshClick:function(){this.$route.query.combinedQueryId&&this.$router.push({name:"CadreManager"}),this.moreCount=0,this.searchText="",this.conditions=null,this.searchData.cadreTagIds="",this.searchData.combinedQueryId="",this.searchData.tableConditions="",this.searchData.sorts=new Array,this.searchData.isInit="1",this.$refs.moreDialog.refresh(),this.loadData()},dropClick:function(e){e.eName&&this[e.eName]?this[e.eName](e.data):e.change?this.multipleChange(e):e.tableNameEn&&this.multipleAdd(e)},dragEnd:function(e,t){var a=this,o=this.tableData,r={data:{fromEmpId:o[t].EMP_ID,toEmpId:o[e].EMP_ID,orgId:this.searchData.deptId,moveType:e>t?"1":"0"},url:this.$baseUrl+"cadre/sortInDep/modify"};this.$ajaxPost(r,!0,function(r){if(200===r.code)a.$showMsg("success","移动成功");else{var s=o.splice(t,1)[0];o.splice(e,0,s),a.$showMsg("error",r.message)}a.loadData()})},addRow:function(){this.multiple=!1,this.multipleInfo=this.$mergeObj(this.multipleInfo,{name:"新增干部",tableNameEn:"EmpA001",isMasterTable:!0}),this.formControl.multipleAddVisible=!0},changeRow:function(e,t){var a={empId:e.EMP_ID};this.$mergeObj(this.searchData,{rowIndex:e.$index,ids:t.map(function(e){return e.EMP_ID})});this.$router.push({path:"fileManager",query:a})},multipleAdd:function(e){this.multiple=!0,0!==this.checkedVal.length?(this.multipleInfo=this.$mergeObj(this.multipleInfo,e),this.formControl.multipleAddVisible=!0):this.$showMsg("error","请选择需要批量修改的数据")},multipleChange:function(e){this.multiple=!0,0!==this.checkedVal.length?(this.multipleInfo=this.$mergeObj(this.multipleInfo,e),this.formControl.multipleChangeVisible=!0):this.$showMsg("error","请选择需要批量修改的数据")},delRow:function(e){var t=this,a=[];if(e)a=[e.EMP_ID];else{if(!(this.checkedVal.length>0))return void this.$showMsg("error","请选择需要批量删除的数据");a=this.checkedVal}this.$showConfirm("确定删除该数据？",function(){var e={data:{appCode:"200",tableTypeName:"CadreInfo",tableName:"",form:{EMP_ID:a}},url:t.delUrl};e.data.form=d()(e.data.form),t.$ajaxPost(e,!0,function(e){200===e.code?(t.loadData(),t.$showMsg("success","删除成功")):t.$showMsg("error",e.message)})})},checkedChange:function(e){this.checkedVal=e.map(function(e){return e.EMP_ID})},returnForTable:function(e){var t=new Array,a=e.cadres.map(function(e){var t={};return e.fields.forEach(function(e){t[e.fieldNameEn]=e.fieldValue}),t});for(var o in e.tableFields)if("EMP_ID"!==o){var r={text:e.tableFields[o],align:"left",dataIndex:o};t.push(r)}return{totalCount:e.dataCount,columns:t,data:a}},loadData:function(){var e=this,t=!0;for(var a in this.searchData)null===this.searchData[a]&&(t=!1);if(t){var o={url:this.$baseUrl+"cadre/list",data:this.searchData};this.$ajaxPost(o,!0,function(t){if(console.log("表格数据res++++++"),console.log(t),200===t.code){var a=e.returnForTable(t.data);e.gridColumns=a.columns,e.tableData=a.data,e.$refs.commonTable.totalCount=a.totalCount}else e.$showMsg("error",t.message)})}},easySearchSave:function(e,t){this.conditions=t||null,this.easyCount=e&&e.count?e.count:0,e?(this.searchData.cadreTagIds=e.cadreTagIds?e.cadreTagIds.join(","):"",this.searchData.tableConditions=q()(e.tableConditions).length>0?d()(e.tableConditions):""):(this.searchData.cadreTagIds="",this.searchData.tableConditions="")},multipleSave:function(e,t){var a=this;if(this.multiple){var o={data:{appCode:"200",tableTypeName:"CadreInfo",tableName:this.multipleInfo.tableNameEn,tableNameFK:"EMP_ID",tableNameFKValue:this.checkedVal.join(","),tableNamePK:"subId",tableNamePKValue:"",form:d()(e)},url:t?this.multipleUpdateUrl:this.multipleSaveUrl};t&&(delete o.data.tableNameFK,delete o.data.tableNameFKValue,o.data.tableNamePK="EMP_ID",o.data.tableNamePKValues=this.checkedVal.join(",")),this.$ajaxPost(o,!0,function(e){200===e.code?(a.loadData(),a.$showMsg("success","批量修改成功"),a.formControl.multipleAddVisible=!1,a.formControl.multipleChangeVisible=!1):a.$showMsg("error",e.message)})}else this.saveForm(e,t)},saveForm:function(e,t){var a=this,o={data:{appCode:this.multipleInfo.prjCode,tableTypeName:this.multipleInfo.tableTypeName,tableName:this.multipleInfo.tableNameEn,tableNameFK:"",tableNameFKValue:"",tableNamePK:"EMP_ID",tableNamePKValue:"",form:d()(e)},url:t?this.updateUrl:this.saveUrl};t&&(o.data.tableNamePKValue=this.checkedVal.join(",")),this.$ajaxPost(o,!0,function(e){200===e.code?(a.loadData(),a.$showMsg("success","新增成功"),a.formControl.multipleAddVisible=!1,a.formControl.multipleChangeVisible=!1):a.$showMsg("error",e.message)})},downLoadGbhmc:function(e){var t={data:{orgId:this.searchData.deptId,containChild:"1"===this.searchData.includeSubNode,empIds:this.checkedVal.join(","),containDepartment:!0,containIdCardNo:!1,containDutyDepart:!1},url:this.$baseUrl+"export/gbhmc/generateAndExport?"};e&&(t.data=this.$mergeObj(t.data,e)),this.$downLoad(t)},downLoadGbLrmx:function(){if(0!==this.checkedVal.length){var e={data:{empIds:this.checkedVal.join(",")},url:this.$baseUrl+"export/gbrmb/bj/lrmx/generateAndExport?"};this.$downLoad(e)}else this.$showMsg("error","请选择需要导出的数据")},downLoadGbWord:function(){if(0!==this.checkedVal.length){var e={data:{empIds:this.checkedVal.join(",")},url:this.$baseUrl+"export/gbrmb/bj/word/generateAndExport?"};this.$downLoad(e)}else this.$showMsg("error","请选择需要导出的数据")}}},Zt={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"cadreTable padding"},[a("commonTable",{ref:"commonTable",attrs:{slot:"right",local:e.local,dragable:"",autoHeight:"",autoOperate:"",showPagination:"",showSelect:"",gridColumns:e.gridColumns,options:e.tableData,search:e.searchData},on:{delRow:e.delRow,changeRow:e.changeRow,checkedChange:e.checkedChange,dragEnd:e.dragEnd,rowDbClick:e.rowDbClick},slot:"right"},[a("commonSearch",[a("mergeSearch",{ref:"mergeSearch",attrs:{slot:"left"},on:{change:e.changeMergeSearch},slot:"left"}),e._v(" "),a("formInput",{staticClass:"radius",attrs:{slot:"right",placeholder:"根据姓名搜索",suffixIcon:"el-icon-search"},on:{iconClick:e.onSearch},slot:"right",model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}}),e._v(" "),a("el-button",{staticClass:"easyBtn",attrs:{slot:"right",size:"mini",type:"primary",icon:"el-icon-search"},on:{click:function(t){return e.easySearch()}},slot:"right"},[e._v("\n                高级查询\n                "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.easyCount>0,expression:"easyCount>0"}],staticClass:"easyCount bgred",attrs:{title:"已选择"+e.easyCount+"个条件"}},[e._v(e._s(e.easyCount))])]),e._v(" "),a("el-button",{attrs:{slot:"right",size:"mini",type:"warning",icon:"el-icon-refresh"},on:{click:function(t){return e.refreshClick()}},slot:"right"},[e._v("重置查询")])],1)],1),e._v(" "),a("moreDialog",{ref:"moreDialog",attrs:{visible:e.formControl.easyVisible,options:e.conditions},on:{"update:visible":function(t){return e.$set(e.formControl,"easyVisible",t)},save:e.easySearchSave}}),e._v(" "),a("multipleAddDialog",{ref:"multipleAddDialog",attrs:{visible:e.formControl.multipleAddVisible,options:e.multipleInfo},on:{"update:visible":function(t){return e.$set(e.formControl,"multipleAddVisible",t)},save:e.multipleSave}}),e._v(" "),a("multipleChangeDialog",{ref:"multipleChangeDialog",attrs:{visible:e.formControl.multipleChangeVisible,options:e.multipleInfo},on:{"update:visible":function(t){return e.$set(e.formControl,"multipleChangeVisible",t)},save:e.multipleSave}})],1)},staticRenderFns:[]};var ea={name:"cadreManager",components:{Table:a("C7Lr")(Jt,Zt,!1,function(e){a("mNRB")},"data-v-ac2e518a",null).exports},data:function(){return{collectData:[],pageTitle:"干部综合信息管理",searchData:{name:"",deptId:null,pageIndex:1,pageSize:20,includeSubNode:"1",exprStr:"",combinedQueryId:"",cadreTagIds:"",tableConditions:"",sorts:[],isInit:"1"}}},created:function(){this.loadTotalData()},methods:{nodeClick:function(e){this.searchData.pageIndex=1},changeContain:function(e){this.searchData.includeSubNode=e?"1":"0",this.searchData.pageIndex=1},loadTotalData:function(){var e=this,t={data:{},method:"get",url:this.$baseUrl+"sys/getSysTableCount?"};this.$ajaxPost(t,!0,function(t){if(200===t.code){var a=new Array;for(var o in t.data){var r={name:"单位数量",class:"blue",count:t.data[o],unit:"个"};"cadreCount"===o&&(r.name="干部数量"),a.push(r)}e.collectData=a}else e.$showMsg("error",t.message)})},refreshAll:function(){this.loadTotalData()}},beforeRouteEnter:function(e,t,a){e.meta.isBack=!1,e.meta.useKeep.includes(t.name)&&(e.meta.isBack=!0),a()},activated:function(){this.$route.meta.isBack?(this.$set(this.searchData,"refresh",this.$moment().format("x")+"_refresh"),this.$refs.departTree.initScroll()):(this.searchData.deptId=null,this.searchData.pageIndex=1,this.searchData.pageSize=20,this.searchData.combinedQueryId="",this.$set(this.searchData,"refresh",this.$moment().format("x")+"_refresh"),this.$refs.departTree.renderTree()),this.$route.query.combinedQueryId&&(this.searchData.combinedQueryId=this.$route.query.combinedQueryId,this.$refs.table.refreshClick(),this.$refs.table.$refs.mergeSearch.loadData())}},ta={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"cadreManager-wrapper",attrs:{local:"cadreInfo"}},[a("commonTitle",{attrs:{slot:"title",showShadow:"",title:e.pageTitle,options:e.collectData},slot:"title"}),e._v(" "),a("departTree",{ref:"departTree",attrs:{slot:"left",local:"cadreInfo",showContain:""},on:{nodeClick:e.nodeClick,changeContain:e.changeContain},slot:"left",model:{value:e.searchData.deptId,callback:function(t){e.$set(e.searchData,"deptId",t)},expression:"searchData.deptId"}}),e._v(" "),a("Table",{ref:"table",attrs:{slot:"right",searchData:e.searchData},on:{refreshAll:e.refreshAll},slot:"right"})],1)},staticRenderFns:[]};var aa=a("C7Lr")(ea,ta,!1,function(e){a("EvJP")},null,null).exports,oa=document.createElement("div").style,ra=function(){var e={webkit:"webkitTransform",Moz:"MozTransform",O:"OTransform",ms:"msTransform",standard:"transform"};for(var t in e)if(void 0!==oa[e[t]])return t;return!1}();function sa(e){return!1!==ra&&("standard"===ra?e:ra+e.charAt(0).toUpperCase()+e.substr(1))}sa("transform"),sa("transform-origin"),sa("backdrop-filter");var na={name:"fileManager",components:{},data:function(){return{total:0,num:0,pageTitle:"档案管理",searchImg:{archiveMaterialId:null,pageNo:1,type:11,empid:this.$route.query.empId},treeProps:{value:"archiveMaterialId",label:"archiveMaterialText",children:"children",isLeaf:"leaf",icon:"el-icon-folder-opened",childrenIcon:"el-icon-document"},treeData:[],selectedType:"0",radioData:[{value:"0",label:"原始图像数据"},{value:"1",label:"高清图像数据"}],scale:1,imgSrc:"",url:this.$baseUrl+"business/getPersonMaterial?",imgWidth:"500"}},created:function(){},mounted:function(){this.loadData()},computed:{empid:function(){return this.$route.query.empId}},watch:{"formControl.refresh":function(e){e&&this.loadTable()},searchImg:{handler:function(e){this.loadTable()},deep:!0}},methods:{loadData:function(){var e=this,t={url:this.url,data:{empid:this.empid}};this.$ajaxPost(t,!0,function(t){200===t.code?e.treeData=t.data:e.$showMsg("error",t.message)})},loadTable:function(){var e=this,t={url:this.$baseUrl+"archiveMaterialFile/findbyArchiveMaterialIDAndPageNo?",data:this.searchImg};this.$ajaxPost(t,!0,function(t){200===t.code?(t.data&&(console.log(t),e.imgSrc=e.$baseUrl+"archiveMaterialFile/imgbyid?id="+t.data.img,console.log(e.imgSrc)),e.total=t.data.PageCount,e.num=t.data.PageNumber):e.$showMsg("error",t.message)})},loadUrl:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",a={url:this.$baseUrl+"archiveMaterialFile/imgbyid?",data:{id:t},method:"get"};this.$ajaxPost(a,!0,function(t){t?e.imgSrc=t:e.$showMsg("error",t.message)})},nodeClick:function(e){console.log(e);var t=e.leaf,a=1==e.expanded;console.log(t),console.log(a),t&&!a&&(this.searchImg.pageNo=1,this.searchImg.archiveMaterialId=e.archiveMaterialId,this.searchImg.type=11,this.selectedType=0,this.$refs.cdWrapper.style.width="500px",this.imgWidth=Math.floor(this.imgWidth))},changeRadio:function(e){this.searchImg.type="0"==e?11:12},addLarge:function(){var e=this,t=this.scale>=3?3:++this.scale;setTimeout(function(){var a=e.imgWidth*t;console.log(a),e.$refs.cdWrapper.style.width=a+"px"},20)},prev:function(){this.searchImg.pageNo=this.searchImg.pageNo<=1?1:--this.searchImg.pageNo},next:function(){this.total>=1&&(this.searchImg.pageNo=this.searchImg.pageNo>=this.total?this.total:++this.searchImg.pageNo)},reduce:function(){var e=this,t=this.scale<=1?1:--this.scale;setTimeout(function(){var a=e.imgWidth*t;console.log(a),e.$refs.cdWrapper.style.width=a+"px"},20)},firstSize:function(){var e=this;this.scale=1;setTimeout(function(){e.$refs.cdWrapper.style.width=e.imgWidth+"px"},20)},back:function(){this.$router.go(-1)}}},ia={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"fileManager-wrapper",attrs:{local:"fileManager"}},[a("commonTitle",{attrs:{slot:"title",showShadow:"",title:e.pageTitle},slot:"title"},[a("el-button",{attrs:{slot:"right",size:"mini",type:"primary",icon:"el-icon-back"},on:{click:function(t){return e.back()}},slot:"right"},[e._v("返回")])],1),e._v(" "),a("commonTree",{attrs:{slot:"left",local:"fileManager",autoHeight:"",expandNode:"",props:e.treeProps,options:e.treeData},on:{nodeClick:e.nodeClick},slot:"left",model:{value:e.searchImg.archiveMaterialId,callback:function(t){e.$set(e.searchImg,"archiveMaterialId",t)},expression:"searchImg.archiveMaterialId"}}),e._v(" "),a("div",{attrs:{slot:"right"},slot:"right"},[a("commonContainer",{attrs:{offsetBottom:50}},[a("img",{ref:"cdWrapper",staticClass:"useImg",attrs:{src:e.imgSrc}})]),e._v(" "),a("commonFooter",[a("div",{staticClass:"footer paddingX"},[a("div",{staticClass:"leftRadio"},[a("formRadio",{attrs:{button:"",defaultChecked:"",options:e.radioData},on:{change:e.changeRadio},model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}})],1),e._v(" "),a("div",{staticClass:"listButton"},[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addLarge()}}},[e._v("放大")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-minus"},on:{click:function(t){return e.reduce()}}},[e._v("缩小")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary",icon:""},on:{click:function(t){return e.firstSize()}}},[e._v("原始大小")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary",icon:""},on:{click:function(t){return e.prev()}}},[a("i",{staticClass:"el-icon-d-arrow-left"}),e._v("上一页")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.next()}}},[e._v("下一页"),a("i",{staticClass:"el-icon-d-arrow-right"})]),e._v(" "),a("p",[e._v("共"),a("span",{staticClass:"total"},[e._v(e._s(e.total))]),e._v("页 第"),a("span",{staticClass:"num"},[e._v(e._s(e.num))]),e._v("页")])],1)])])],1)],1)},staticRenderFns:[]};var la=a("C7Lr")(na,ia,!1,function(e){a("/uuf")},null,null).exports,ca=a("a3Yh"),da=a.n(ca),ua={name:"viewApplication",data:function(){return{pageTitle:"档案查看申请",query:"",total:0,searchData:{resouceId:11,pageSize:20,pageIndex:1},formControl:{visible:!1,refresh:!1},addOrUpdate:!0,gridColumns:[{text:"申请人",align:"center",dataIndex:"createdBy"},{text:"申请时间",align:"center",dataIndex:"createdTime"},{text:"查看截止时间",align:"center",dataIndex:"endTime"},{text:"申请对象",align:"center",dataIndex:"personName"},{text:"申请理由",align:"center",dataIndex:"reason"},{text:"退回理由",align:"center",dataIndex:"revokeReason"},{text:"审核人",align:"center",dataIndex:"verifyBy"},{text:"审核状态",align:"center",dataIndex:"verifyType",formatter:function(e){var t,a="",o="blue";return"1"==e.row.verifyType?(a="待审核",o="#5cb9f2"):"99"==e.row.verifyType?(a="退回",o="red"):"100"==e.row.verifyType?(a="审核通过",o="green"):"0"==e.row.verifyType&&(a="撤回未提交",o="red"),t={showText:!0},da()(t,"showText",a),da()(t,"text",a),da()(t,"style","color:"+o),t}},{text:"操作",align:"center",width:"70",formatter:function(e){return{showDropDown:!0,showText:"操作",data:[{text:"修改",class:"blue",eName:"changeRow"},{text:"删除",class:"red",eName:"delRow"},{text:"浏览档案",class:"red",eName:"rowDbClick"},{text:"撤回",class:"red",eName:"recall"}]}}}],tableData:[],url:this.$baseUrl+"busArchApply/getApplyByUser?",addUrl:this.$baseUrl+"sys/tag/saveSysTagCategory",updateUrl:this.$baseUrl+"sys/tag/updateSysTagCategory"}},mounted:function(){this.loadData()},computed:{},watch:{searchData:{handler:function(e){this.loadData()},deep:!0}},methods:{rowDbClick:function(e){var t=this.$moment().format("YYYY-MM-DD HH:mm:ss"),a=this.$moment(e.endTime).diff(t,"seconds");console.log(t),console.log(a),a>0?"100"==e.verifyType?this.$router.push({path:"Look",query:{applyid:e.id,empid:e.userid,verifyType:e.verifyType}}):this.$showMsg("error","审核通过才能查看"):this.$showMsg("error","查看截止时间已到")},loadData:function(){var e=this,t={url:this.url,data:this.searchData};this.$ajaxPost(t,!0,function(t){200===t.code?(t.data.data.length>0&&(e.tableData=e._normalTreeData(t.data.data)),e.total=t.data.total):e.$showMsg("error",t.message)})},_normalTreeData:function(e){var t=this;return e.forEach(function(e,a){e.createdTime=t.$moment(e.createdTime).format("YYYY-MM-DD HH:mm:ss"),e.endTime=t.$moment(e.endTime).format("YYYY-MM-DD HH:mm:ss")}),e},searchClick:function(e){this.query},addRow:function(e){this.$router.push({path:"AddApply",query:{}})},changeRow:function(e){"100"!=e.verifyType?this.$router.push({path:"AddApply",query:{applyid:e.id,empid:e.userid}}):this.$showMsg("error","通过后不能修改")},delRow:function(e){var t=this;"1"!=e.verifyType?"100"!=e.verifyType?!e&&this.tableData.length<1?this.$showMsg("error","请选择需要删除的数据"):this.$showConfirm("确认删除该数据？",function(){var a={url:t.$baseUrl+"busArchApply/delete?",data:{applyid:e.id}};t.$ajaxPost(a,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.loadData()):t.$showMsg("error",e.message)})}):this.$showMsg("error","通过后不能删除"):this.$showMsg("error","待审核不能删除")},recall:function(e){var t=this;"100"!=e.verifyType?"99"!=e.verifyType?"0"!=e.verifyType?!e&&this.tableData.length<1?this.$showMsg("error","请选择需要撤回的数据"):this.$showConfirm("确认删除该数据？",function(){var a={url:t.$baseUrl+"busArchApply/revoke?",data:{applyid:e.id}};t.$ajaxPost(a,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.loadData()):t.$showMsg("error",e.message)})}):this.$showMsg("error","已经撤回"):this.$showMsg("error","退回后不能撤回"):this.$showMsg("error","审核通过不能撤回")},save:function(e){var t=this,a=this.addOrUpdate?this.addUrl:this.updateUrl,o=!0;if(this.rules&&(o=!!this.$validate.validRules(this.rules,this.form)),o){e();var r={url:a,data:this.form};this.$ajaxPost(r,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.formControl.visible=!1,t.loadData()):t.$showMsg("error",e.message)})}},back:function(){this.$router.go(-1)}}},ha={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"viewApplication-wrapper"},[a("commonTitle",{attrs:{slot:"title",showShadow:"",title:e.pageTitle},slot:"title"}),e._v(" "),a("commonTable",{staticClass:"padding",attrs:{autoHeight:"",showPagination:"",gridColumns:e.gridColumns,search:e.searchData,total:e.total,refresh:e.formControl.refresh,options:e.tableData},on:{"update:search":function(t){e.searchData=t},"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)},changeRow:e.changeRow,delRow:e.delRow,recall:e.recall,rowDbClick:e.rowDbClick}},[a("commonSearch",[a("el-button",{attrs:{slot:"left",size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addRow()}},slot:"left"},[e._v("申请查看档案")])],1)],1)],1)},staticRenderFns:[]};var ma=a("C7Lr")(ua,ha,!1,function(e){a("YsRD")},null,null).exports,fa={name:"addApply",components:{},data:function(){return{pageTitle:"干部档案管理",searchData:{deptId:null},addOrUpdate:!0,format:"YYYY-MM-DD hh:mm:ss",searchFile:{},gridColumns:[{text:"姓名",align:"center",dataIndex:"name"},{text:"职务",align:"center",dataIndex:"post"}],gridColumns2:[{text:"姓名",align:"center",dataIndex:"name"},{text:"职务",align:"center",dataIndex:"post"},{text:"查看档案数量",align:"center",dataIndex:"num"},{text:"操作",align:"center",width:"70",formatter:function(e){return{showDropDown:!0,showText:"操作",data:[{text:"删除",class:"blue",eName:"deletUser"}]}}}],tableData:[],checkTable:[],checkedSelect:[],checkSelectUser:[],selectUser:[],treeData:[],ids:[],treeProps:{value:"archiveMaterialId",label:"archiveMaterialText",children:"children",isLeaf:"leaf"},formControl:{visible:!1,refresh:!1,fileVisible:!1,fileRefresh:!1},form:{applyid:"",endTime:"",reason:"",data:[]},fileData:[],rules:{endTime:{required:!0},reason:{required:!0}},checkedVal:[],checkedNode:[],checkedData:[],rowData:function(){},firstNodeClick:!0,personid:"",detailid:"",addUrl:this.$baseUrl+"busArchApply/create?",updateUrl:this.$baseUrl+"busArchApply/update?",checkedId:[],size:0,archivesData:[]}},created:function(){},mounted:function(){this.loadApply()},computed:{applyid:function(){return this.$route.query.applyid},empid:function(){return this.$route.query.empid}},watch:{searchData:{handler:function(e){},deep:!0}},methods:{loadApply:function(){var e=this;if(this.applyid){var t={url:this.$baseUrl+"busArchApply/getPersonByApplyId?",data:{id:this.applyid}};this.$ajaxPost(t,!0,function(t){if(200===t.code){console.log(t),e.addOrUpdate=!1,e.form.applyid=e.applyid;var a=e.$moment(t.data[0].endtime).format("YYYY-MM-DD HH:mm:ss");e.form.endTime=a,e.form.reason=t.data[0].reason;var o=t.data.slice();console.log(o),o.splice(0,1),o.forEach(function(t){console.log(t),e.checkedSelect.push(t.empid),t.archivesData=t.archivesData?t.archivesData:[],e.form.data.push(t),e.selectUser.push({empid:t.empid,name:t.name,post:t.post,a001003:t.a001003,num:t.archivesData?t.archivesData.length:0})}),e.checkedId=e.form.data.map(function(e){return e.empid}),console.log(e.form.data),console.log(e.checkedSelect)}else e.$showMsg("error",t.message)})}},nodeClick:function(e){e.id&&this.loadData(e.id)},changeContain:function(e){this.searchData.includeSubNode=e?"1":"0",this.searchData.pageIndex=1},loadData:function(e){var t=this,a={url:this.$baseUrl+"business/getPersonAndPostByDepid?",data:{depid:e}};this.$ajaxPost(a,!0,function(e){if(console.log(e),200===e.code){var a=e.data;t.tableData=a}else t.$showMsg("error",e.message)})},loadFileTree:function(e){var t=this,a="";this.applyid&&(a=this.applyid);var o={url:this.$baseUrl+"busArchApply/getTreeByApplyId?",data:{empid:e,applyid:a}};this.$ajaxPost(o,!0,function(e){200===e.code?t.treeData=e.data:t.$showMsg("error",e.message)})},checkedChange:function(e){this.checkSelectUser=e},checkedTree:function(e,t,a){var o=this;this.checkedData=t,this.checkedNode=a,this.archivesData=[],this.checkedNode.forEach(function(e){var t={detailid:o.detailid,categoryId:e.categoryId,archiveMaterialId:e.archiveMaterialId,archiveMaterialText:e.archiveMaterialText};o.archivesData.push(t)}),console.log(this.checkedData);var r=this.form.data.findIndex(function(e){return e.empid==o.rowData.empid});if(this.archivesData.length>0)if(r>=0)this.form.data[r].archivesData=this.archivesData;else{var s={};s.personid=this.personid,s.empid=this.rowData.empid,s.name=this.rowData.name,s.a001003=item.a001003,s.post=this.rowData.post,s.archivesData=this.archivesData,this.form.data.push(s),this.formControl.fileVisible=!1,console.log(this.form.data)}else this.checkedData.length<=0&&r>=0&&(this.form.data.splice(r,1),this.form.data[r].archivesData=[]);this.rowData.num=this.checkedData.length,this.selectUser[this.rowData.$index].num=this.checkedData.length,console.log(this.form.data)},rowDbClick:function(e){e.empid&&(this.selectUser.findIndex(function(t){return t.empid==e.empid})<0&&(e.num=0,this.selectUser.push(e),this.saveUserObj(e)));console.log(this.selectUser),console.log(this.form.data)},saveUserObj:function(e){if(e.empid){var t={personid:"",name:e.name,post:e.post,empid:e.empid,a001003:e.a001003,archivesData:[]};this.form.data.push(t)}},deletUser:function(e){var t=this;!e&&this.selectUser.length<1?this.$showMsg("error","请选择需要删除的数据"):(this.$showConfirm("确认删除该数据？",function(){var a=e.$index,o=t.form.data.findIndex(function(t){return t.empid==e.empid});t.selectUser.splice(a,1),t.form.data.splice(o,1)}),console.log(this.form.data))},addRow:function(){this.formControl.visible=!0},rowClick:function(e){console.log(e),console.log(this.form.data),this.checkedData=[],this.archivesData=[];var t=this.form.data.findIndex(function(t){return t.empid==e.empid});console.log(t),t>=0?(this.form.data[t].archivesData=this.form.data[t].archivesData?this.form.data[t].archivesData:[],this.checkedVal=this.form.data[t].archivesData.map(function(e){return e.archiveMaterialId})):this.checkedVal=[],console.log(this.checkedVal),this.checkedData=this.$deepClone(this.checkedVal),this.loadFileTree(e.empid),this.rowData=e},changeSave:function(){var e=this,t=this.addOrUpdate?this.addUrl:this.updateUrl,a=!0;if(this.rules&&(a=!!this.$validate.validRules(this.rules,this.form)),this.form.data.length>0?a=!0:(a=!0,this.$showMsg("error","请选择要查看的档案")),a){var o=this.$deepClone(this.form.data);this.form.data=d()(this.form.data);var r={url:t,data:this.form};this.$ajaxPost(r,!0,function(t){200===t.code?(e.$showMsg("success","保存成功"),e.formControl.visible=!1,e.back()):(e.form.data=o,e.$showMsg("error",t.message))}),this.form.data=o}},back:function(){this.$router.go(-1)}}},pa={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"addApply-wrapper",attrs:{local:"addApply"}},[a("commonTitle",{attrs:{slot:"title",showShadow:"",title:e.pageTitle},slot:"title"},[a("el-button",{attrs:{slot:"right",size:"mini",type:"primary",icon:"el-icon-back"},on:{click:function(t){return e.back()}},slot:"right"},[e._v("返回")])],1),e._v(" "),a("departTree",{ref:"departTree",attrs:{slot:"left",local:"leftApply",showContain:""},on:{nodeClick:e.nodeClick,changeContain:e.changeContain},slot:"left",model:{value:e.searchData.deptId,callback:function(t){e.$set(e.searchData,"deptId",t)},expression:"searchData.deptId"}}),e._v(" "),a("div",{attrs:{slot:"right"},slot:"right"},[a("commonBody",{staticClass:"userMsg-wrapper",attrs:{local:"userMsg"}},[a("commonTable",{ref:"tabSelect",staticClass:"padding",attrs:{slot:"left",autoHeight:"",gridColumns:e.gridColumns,search:e.searchData,refresh:e.formControl.refresh,options:e.tableData},on:{"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)},rowDbClick:e.rowDbClick,checkedChange:e.checkedChange},slot:"left"},[a("commonSearch",[a("div",{staticClass:"table-title"},[a("span",[e._v("单位人员列表")])])])],1),e._v(" "),a("div",{attrs:{slot:"right"},slot:"right"},[a("commonBody",{staticClass:"selectUser-wrapper",attrs:{local:"selectUser",width:"25%"}},[a("commonTable",{staticClass:"padding",attrs:{slot:"left",autoHeight:"",gridColumns:e.gridColumns2,search:e.searchData,refresh:e.formControl.refresh,options:e.selectUser},on:{"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)},deletUser:e.deletUser,rowClick:e.rowClick},slot:"left"},[a("commonSearch",[a("div",{staticClass:"table-title"},[a("span",[e._v("申请查看档案人员")])])])],1),e._v(" "),a("commonTree",{staticClass:"paddingY",attrs:{slot:"right",multiple:"",selectable:"",autoHeight:"",showTreeBottom:"",checkStrictly:"",openAll:"",expandNode:"",props:e.treeProps,options:e.treeData},on:{checkedChange:e.checkedTree},slot:"right",model:{value:e.checkedVal,callback:function(t){e.checkedVal=t},expression:"checkedVal"}},[a("div",{staticClass:"table-title"},[a("span",[e._v("档案名称")])])])],1)],1)],1)],1),e._v(" "),a("commonFooter",{staticClass:"paddingY",attrs:{container:"",button:"保存"}},[a("commonForm",{attrs:{labelWidth:"150px"}},[a("formRow",{attrs:{label:"申请理由",required:"",rule:e.rules.reason,width:"50%"}},[a("formInput",{attrs:{placeholder:"请输入申请理由",rule:e.rules.reason},model:{value:e.form.reason,callback:function(t){e.$set(e.form,"reason",t)},expression:"form.reason"}})],1),e._v(" "),a("formRow",{attrs:{label:"档案截止时间",required:"",rule:e.rules.endTime,width:"50%"}},[a("formDate",{attrs:{pickerOptions:"",placeholder:"请选择档案截止时间",rule:e.rules.endTime,format:e.format},model:{value:e.form.endTime,callback:function(t){e.$set(e.form,"endTime",t)},expression:"form.endTime"}})],1)],1),e._v(" "),a("el-button",{attrs:{slot:"button",size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.changeSave()}},slot:"button"},[e._v("提交")])],1)],1)},staticRenderFns:[]};var ga=a("C7Lr")(fa,pa,!1,function(e){a("7JAn")},null,null).exports,va=(sa("transform"),{name:"Look",components:{},data:function(){return{pageTitle:"浏览档案",format:"YYYY-MM-DD hh:mm:ss",gridColumns:[{text:"姓名",align:"center",dataIndex:"name"},{text:"职务",align:"center",dataIndex:"post"},{text:"操作",align:"center",width:"70",formatter:function(e){return{showDropDown:!0,showText:"操作",data:[{text:"查看申请",class:"blue",eName:"rowClick"}]}}}],tableData:[],checkedSelect:[],treeData:[],treeProps:{value:"archiveMaterialId",label:"archiveMaterialText",children:"children",disabled:this.disabledFn},formControl:{visible:!1,refresh:!1,fileVisible:!1,fileRefresh:!1},form:{applyid:"",endTime:"",reason:"",data:[]},passForm:{applyid:"",endTime:"",reason:"",revokeReason:"",verifyType:"",operatortype:""},rules:{revokeReason:{required:!0}},checkedVal:[],checkedData:[],rowData:function(){},size:0,archivesData:[],selectedType:"0",total:0,num:0,radioData:[{value:"0",label:"原始图像数据"},{value:"1",label:"高清图像数据"}],scale:1,imgSrc:"",searchImg:{archiveMaterialId:null,pageNo:1,type:11,empid:this.$route.query.empId},imgWidth:"500"}},created:function(){},mounted:function(){this.loadApply()},computed:{applyid:function(){return this.$route.query.applyid},empid:function(){return this.$route.query.empid},verifyType:function(){return this.$route.query.verifyType}},watch:{searchImg:{handler:function(e){this.loadTable()},deep:!0}},methods:{disabledFn:function(e,t){return!!e},loadApply:function(){var e=this;if(this.applyid){var t={url:this.$baseUrl+"busArchApply/getPersonByApplyId?",data:{id:this.applyid}};this.$ajaxPost(t,!0,function(t){if(200===t.code){e.addOrUpdate=!1,e.passForm.applyid=e.applyid;var a=e.$moment(t.data[0].endtime).format("YYYY-MM-DD HH:mm:ss");e.passForm.endTime=a,e.passForm.reason=t.data[0].reason,e.passForm.verifyType=e.verifyType;var o=t.data.slice();o.splice(0,1),o.forEach(function(t){e.checkedSelect.push(t.empid),e.form.data.push(t),e.tableData.push({name:t.name,post:t.post,empid:t.empid,a001003:t.a001003})}),console.log(e.checkedSelect)}else e.$showMsg("error",t.message)})}},nodeClick:function(e){var t=this;console.log(e.leaf),console.log(e),console.log(this.form.data);var a=e.leaf,o=1==e.expanded,r=this.form.data.findIndex(function(e){return e.empid==t.rowData.empid});this.form.data[r].archivesData.findIndex(function(t){return e.archiveMaterialId==t.archiveMaterialId})>=0?a&&!o&&(this.searchImg.pageNo=1,this.searchImg.archiveMaterialId=e.archiveMaterialId,this.searchImg.type=11,this.selectedType=0,this.$refs.cdWrapper.style.width="500px",console.log(this.imgHeight)):this.$showMsg("error","未申请不能查看"),console.log(a),console.log(o)},loadTable:function(){var e=this,t={url:this.$baseUrl+"archiveMaterialFile/findbyArchiveMaterialIDAndPageNo?",data:this.searchImg};this.$ajaxPost(t,!0,function(t){200===t.code?(t.data&&(console.log(t),e.imgSrc=e.$baseUrl+"archiveMaterialFile/imgbyid?id="+t.data.img,console.log(e.imgSrc)),e.total=t.data.PageCount,e.num=t.data.PageNumber):e.$showMsg("error",t.message)})},loadFileTree:function(e){var t=this,a="";this.applyid&&(a=this.applyid);var o={url:this.$baseUrl+"busArchApply/getTreeByApplyId?",data:{empid:e,applyid:a}};this.$ajaxPost(o,!0,function(e){200===e.code?t.treeData=e.data:t.$showMsg("error",e.message)})},rowClick:function(e){this.checkedData=[],this.archivesData=[];var t=this.form.data.findIndex(function(t){return t.empid==e.empid});t>=0?(this.form.data[t].archivesData=this.form.data[t].archivesData?this.form.data[t].archivesData:[],this.checkedVal=this.form.data[t].archivesData.map(function(e){return e.archiveMaterialId})):this.checkedVal=[],console.log(this.checkedVal),this.checkedData=this.$deepClone(this.checkedVal),this.loadFileTree(e.empid),this.rowData=e,this.formControl.fileVisible=!0},sendBack:function(e){this.passForm.operatortype=e},save:function(e){var t=this,a=!0;if(this.rules&&(a=!!this.$validate.validRules(this.rules,this.passForm)),a){e();var o={url:this.$baseUrl+"busArchApply/updateVerifyMessage?",data:this.passForm};this.$ajaxPost(o,!0,function(e){200===e.code?(t.$showMsg("success","审核成功"),t.back()):t.$showMsg("error",e.message)})}},passOrSend:function(e){var t=this;if(this.applyid){this.passForm.operatortype=e,this.passForm.revokeReason="审核通过";var a={url:this.$baseUrl+"busArchApply/updateVerifyMessage?",data:this.passForm};this.$ajaxPost(a,!0,function(e){200===e.code?(t.$showMsg("success","审核成功"),t.back()):t.$showMsg("error",e.message)})}},saveFile:function(){this.formControl.fileVisible=!1},changeRadio:function(e){this.searchImg.type="0"==e?11:12},addLarge:function(){var e=this,t=this.scale>=3?3:++this.scale;console.log(this.imgHeight),setTimeout(function(){var a=e.imgWidth*t;console.log(a),e.$refs.cdWrapper.style.width=a+"px"},20)},prev:function(){this.searchImg.pageNo=this.searchImg.pageNo<=1?1:--this.searchImg.pageNo},next:function(){this.total>=1&&(this.searchImg.pageNo=this.searchImg.pageNo>=this.total?this.total:++this.searchImg.pageNo)},reduce:function(){var e=this,t=this.scale<=1?1:--this.scale;setTimeout(function(){var a=e.imgWidth*t;console.log(a),e.$refs.cdWrapper.style.width=a+"px"},20)},firstSize:function(){var e=this;this.scale=1;setTimeout(function(){e.$refs.cdWrapper.style.height=e.imgHeight+"px",e.$refs.cdWrapper.style.width=e.imgWidth+"px"},20)},back:function(){this.$router.go(-1)}}}),ba={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"Look-wrapper",attrs:{local:"Look",width:"25%"}},[a("commonTitle",{attrs:{slot:"title",showShadow:"",title:e.pageTitle},slot:"title"},[a("el-button",{attrs:{slot:"right",size:"mini",type:"primary",icon:"el-icon-back"},on:{click:function(t){return e.back()}},slot:"right"},[e._v("返回")])],1),e._v(" "),a("commonTable",{staticClass:"padding",attrs:{slot:"left",autoHeight:"",defaultChecked:"",gridColumns:e.gridColumns,refresh:e.formControl.refresh,options:e.tableData,checkedSelect:e.checkedSelect},on:{"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)},rowClick:e.rowClick},slot:"left"},[a("div",{staticClass:"table-title"},[a("span",[e._v("申请查看档案人员")])])]),e._v(" "),a("div",{attrs:{slot:"right"},slot:"right"},[a("commonBody",{staticClass:"lookRight-wrapper",attrs:{local:"lookRight",width:"25%"}},[a("commonTree",{staticClass:"paddingY",attrs:{slot:"left",multiple:"",selectable:"",autoHeight:"",showTreeBottom:"",checkStrictly:"",openAll:"",expandNode:"",props:e.treeProps,options:e.treeData},on:{nodeClick:e.nodeClick},slot:"left",model:{value:e.checkedVal,callback:function(t){e.checkedVal=t},expression:"checkedVal"}},[a("div",{staticClass:"table-title"},[a("span",[e._v("档案名称")])])]),e._v(" "),a("div",{attrs:{slot:"right"},slot:"right"},[a("commonContainer",{attrs:{offsetBottom:50}},[a("img",{ref:"cdWrapper",staticClass:"useImg",attrs:{src:e.imgSrc}})]),e._v(" "),a("commonFooter",{staticStyle:{bottom:"12px"}},[a("div",{staticClass:"footer paddingX"},[a("div",{staticClass:"leftRadio"},[a("formRadio",{attrs:{button:"",defaultChecked:"",options:e.radioData},on:{change:e.changeRadio},model:{value:e.selectedType,callback:function(t){e.selectedType=t},expression:"selectedType"}})],1),e._v(" "),a("div",{staticClass:"listButton"},[a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addLarge()}}},[e._v("放大")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary",icon:"el-icon-minus"},on:{click:function(t){return e.reduce()}}},[e._v("缩小")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary",icon:""},on:{click:function(t){return e.firstSize()}}},[e._v("原始大小")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary",icon:""},on:{click:function(t){return e.prev()}}},[a("i",{staticClass:"el-icon-d-arrow-left"}),e._v("上一页")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.next()}}},[e._v("下一页"),a("i",{staticClass:"el-icon-d-arrow-right"})]),e._v(" "),a("p",[e._v("共"),a("span",{staticClass:"total"},[e._v(e._s(e.total))]),e._v("页 第"),a("span",{staticClass:"num"},[e._v(e._s(e.num))]),e._v("页")])],1)])])],1)],1)],1),e._v(" "),a("commonFooter",{staticClass:"paddingY",attrs:{container:""}},[a("commonForm",{attrs:{labelWidth:"150px"}},[a("formRow",{attrs:{label:"申请理由",required:"",rule:e.rules.reason,width:"50%"}},[a("formInput",{attrs:{disabled:"",placeholder:"请输入申请理由",rule:e.rules.reason},model:{value:e.passForm.reason,callback:function(t){e.$set(e.passForm,"reason",t)},expression:"passForm.reason"}})],1),e._v(" "),a("formRow",{attrs:{label:"档案截止时间",required:"",rule:e.rules.endTime,width:"50%"}},[a("formDate",{attrs:{disabled:"",placeholder:"请选择档案截止时间",rule:e.rules.endTime,format:e.format},model:{value:e.passForm.endTime,callback:function(t){e.$set(e.passForm,"endTime",t)},expression:"passForm.endTime"}})],1)],1)],1)],1)},staticRenderFns:[]};var Ca=a("C7Lr")(va,ba,!1,function(e){a("0uDl")},null,null).exports,ya={name:"approveApply",data:function(){return{pageTitle:"档案查看申请",query:"",total:0,searchData:{resouceId:12,pageSize:20,pageIndex:1},formControl:{visible:!1,refresh:!1},addOrUpdate:!0,gridColumns:[{text:"申请人",align:"center",dataIndex:"createdBy"},{text:"申请时间",align:"center",dataIndex:"createdTime"},{text:"查看截止时间",align:"center",dataIndex:"endTime"},{text:"申请对象",align:"center",dataIndex:"personName"},{text:"申请理由",align:"center",dataIndex:"reason"},{text:"退回理由",align:"center",dataIndex:"revokeReason"},{text:"审核人",align:"center",dataIndex:"verifyBy"},{text:"审核状态",align:"center",dataIndex:"verifyType",formatter:function(e){var t,a="",o="blue";return"1"==e.row.verifyType?(a="待审核",o="#5cb9f2"):"99"==e.row.verifyType?(a="退回",o="red"):"100"==e.row.verifyType&&(a="审核通过",o="green"),t={showText:!0},da()(t,"showText",a),da()(t,"text",a),da()(t,"style","color:"+o),t}},{text:"操作",align:"center",width:"70",formatter:function(e){return{showDropDown:!0,showText:"操作",data:[{text:"审核",class:"blue",eName:"changeRow"}]}}}],tableData:[],url:this.$baseUrl+"busArchApply/getApplyByUser?",addUrl:this.$baseUrl+"sys/tag/saveSysTagCategory",updateUrl:this.$baseUrl+"sys/tag/updateSysTagCategory"}},mounted:function(){this.loadData()},computed:{},watch:{searchData:{handler:function(e){this.loadData()},deep:!0}},methods:{loadData:function(){var e=this,t={url:this.url,data:{resouceId:12}};this.$ajaxPost(t,!0,function(t){200===t.code?(t.data.data.length>0&&(e.tableData=e._normalTreeData(t.data.data)),e.total=t.data.total):e.$showMsg("error",t.message)})},_normalTreeData:function(e){var t=this;return e.forEach(function(e,a){e.createdTime=t.$moment(e.createdTime).format("YYYY-MM-DD HH:mm:ss"),e.endTime=t.$moment(e.endtime).format("YYYY-MM-DD HH:mm:ss")}),e},searchClick:function(e){this.query},addRow:function(e){this.$router.push({path:"addApply",query:{}})},changeRow:function(e){this.$router.push({path:"Approve",query:{applyid:e.id,empid:e.userid,verifyType:e.verifyType}})},delRow:function(e){var t=this;!e&&this.tableData.length<1?this.$showMsg("error","请选择需要删除的数据"):this.$showConfirm("确认删除该数据？",function(){var a={url:t.$baseUrl+"busArchApply/delete?",data:{applyid:e.id}};t.$ajaxPost(a,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.loadData()):t.$showMsg("error",e.message)})})},save:function(e){var t=this,a=this.addOrUpdate?this.addUrl:this.updateUrl,o=!0;if(this.rules&&(o=!!this.$validate.validRules(this.rules,this.form)),o){e();var r={url:a,data:this.form};this.$ajaxPost(r,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.formControl.visible=!1,t.loadData()):t.$showMsg("error",e.message)})}},back:function(){this.$router.go(-1)}}},wa={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"approveApply-wrapper"},[a("commonTitle",{attrs:{slot:"title",showShadow:"",title:e.pageTitle},slot:"title"}),e._v(" "),a("commonTable",{staticClass:"padding",attrs:{autoHeight:"",gridColumns:e.gridColumns,search:e.searchData,total:e.total,refresh:e.formControl.refresh,options:e.tableData},on:{"update:search":function(t){e.searchData=t},"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)},changeRow:e.changeRow,delRow:e.delRow}},[a("commonSearch")],1)],1)},staticRenderFns:[]};var xa=a("C7Lr")(ya,wa,!1,function(e){a("edGZ")},null,null).exports,Da={name:"approve",components:{},data:function(){return{pageTitle:"审批申请",searchData:{deptId:null},format:"YYYY-MM-DD hh:mm:ss",searchFile:{},reason:"",gridColumns:[{text:"姓名",align:"center",dataIndex:"name"},{text:"职务",align:"center",dataIndex:"post"},{text:"查看档案数量",align:"center",dataIndex:"num"},{text:"操作",align:"center",width:"70",formatter:function(e){return{showDropDown:!0,showText:"操作",data:[{text:"查看申请",class:"blue",eName:"rowClick"}]}}}],tableData:[],checkedSelect:[],treeData:[],treeProps:{value:"archiveMaterialId",label:"archiveMaterialText",children:"children",isLeaf:"leaf",disabled:this.disabledFn},formControl:{visible:!1,refresh:!1,fileVisible:!1,fileRefresh:!1},form:{applyid:"",endTime:"",reason:"",data:[]},passForm:{applyid:"",endTime:"",reason:"",revokeReason:"",verifyType:"",operatortype:""},rules:{revokeReason:{required:!0}},checkedVal:[],checkedData:[],rowData:function(){},size:0,archivesData:[]}},created:function(){},mounted:function(){this.loadApply()},computed:{applyid:function(){return this.$route.query.applyid},empid:function(){return this.$route.query.empid},verifyType:function(){return this.$route.query.verifyType}},watch:{searchData:{handler:function(e){},deep:!0}},methods:{disabledFn:function(e,t){return!!e},loadApply:function(){var e=this;if(this.applyid){var t={url:this.$baseUrl+"busArchApply/getPersonByApplyId?",data:{id:this.applyid}};this.$ajaxPost(t,!0,function(t){if(200===t.code){e.addOrUpdate=!1,e.passForm.applyid=e.applyid;var a=e.$moment(t.data[0].endtime).format("YYYY-MM-DD HH:mm:ss");e.passForm.endTime=a,e.passForm.reason=t.data[0].reason,e.passForm.verifyType=e.verifyType,e.searchData.deptId=t.data[1].depid;var o=t.data.slice();o.splice(0,1),o.forEach(function(t){console.log(t),e.checkedSelect.push(t.empid),e.form.data.push(t),e.tableData.push({name:t.name,post:t.post,empid:t.empid,a001003:t.a001003,num:t.archivesData?t.archivesData.length:0})}),console.log(e.checkedSelect)}else e.$showMsg("error",t.message)})}},nodeClick:function(e){this.searchData.pageIndex=1},changeContain:function(e){this.searchData.includeSubNode=e?"1":"0",this.searchData.pageIndex=1},loadData:function(e){var t=this,a={url:this.$baseUrl+"business/getPersonAndPostByDepid?",data:{depid:e}};this.$ajaxPost(a,!0,function(e){if(console.log(e),200===e.code){var a=e.data,o=[];t.tableData=a,t.checkedSelect.length>0&&(t.checkedSelect.forEach(function(e){var a=t.tableData.findIndex(function(t){return t.empid==e});a>=0&&o.push(a)}),o.length>0&&(t.$refs.tabSelect.checkedSelect(o),t.checkedSelect=[]))}else t.$showMsg("error",e.message)})},loadFileTree:function(e){var t=this,a="";this.applyid&&(a=this.applyid);var o={url:this.$baseUrl+"busArchApply/getTreeByApplyId?",data:{empid:e,applyid:a}};this.$ajaxPost(o,!0,function(e){200===e.code?t.treeData=e.data:t.$showMsg("error",e.message)})},rowClick:function(e){this.checkedData=[],this.archivesData=[];var t=this.form.data.findIndex(function(t){return t.empid==e.empid});t>=0?(this.form.data[t].archivesData=this.form.data[t].archivesData?this.form.data[t].archivesData:[],this.checkedVal=this.form.data[t].archivesData.map(function(e){return e.archiveMaterialId})):this.checkedVal=[],console.log(this.checkedVal),this.checkedData=this.$deepClone(this.checkedVal),this.loadFileTree(e.empid),this.rowData=e,this.formControl.fileVisible=!0},sendBack:function(e){this.formControl.visible=!0,this.passForm.operatortype=e},save:function(e){var t=this,a=!0;if(this.rules&&(a=!!this.$validate.validRules(this.rules,this.passForm)),a){e();var o={url:this.$baseUrl+"busArchApply/updateVerifyMessage?",data:this.passForm};this.$ajaxPost(o,!0,function(e){200===e.code?(t.$showMsg("success","审核成功"),t.formControl.visible=!1,t.back()):t.$showMsg("error",e.message)})}},passOrSend:function(e){var t=this;if(this.applyid){this.passForm.operatortype=e,this.passForm.revokeReason="";var a={url:this.$baseUrl+"busArchApply/updateVerifyMessage?",data:this.passForm};this.$ajaxPost(a,!0,function(e){200===e.code?(t.$showMsg("success","审核成功"),t.formControl.visible=!1,t.back()):t.$showMsg("error",e.message)})}},saveFile:function(){this.formControl.fileVisible=!1},back:function(){this.$router.go(-1)}}},Ia={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"approve-wrapper",attrs:{local:"approve",width:"25%"}},[a("commonTitle",{attrs:{slot:"title",showShadow:"",title:e.pageTitle},slot:"title"},[a("el-button",{attrs:{slot:"right",size:"mini",type:"primary",icon:"el-icon-back"},on:{click:function(t){return e.back()}},slot:"right"},[e._v("返回")])],1),e._v(" "),a("commonTable",{staticClass:"padding",attrs:{slot:"left",autoHeight:"",defaultChecked:"",gridColumns:e.gridColumns,search:e.searchData,refresh:e.formControl.refresh,options:e.tableData,checkedSelect:e.checkedSelect},on:{"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)},rowClick:e.rowClick},slot:"left"},[a("commonSearch",[a("div",{staticClass:"table-title"},[a("span",[e._v("申请查看档案人员")])])])],1),e._v(" "),a("div",{staticClass:"paddingY",attrs:{slot:"right"},slot:"right"},[a("commonTree",{attrs:{multiple:"",selectable:"",autoHeight:"",showTreeBottom:"",checkStrictly:"",openAll:"",selectedDisabled:"",expandNode:"",props:e.treeProps,options:e.treeData},on:{nodeClick:e.nodeClick},model:{value:e.checkedVal,callback:function(t){e.checkedVal=t},expression:"checkedVal"}},[a("div",{staticClass:"table-title"},[a("span",[e._v("档案名称")])])])],1),e._v(" "),a("commonFooter",{staticClass:"paddingY",attrs:{container:""}},[a("commonForm",{attrs:{labelWidth:"150px"}},[a("formRow",{attrs:{disabled:"",label:"申请理由",required:"",rule:e.rules.reason,width:"50%"}},[a("formInput",{attrs:{disabled:"",placeholder:"请输入申请理由",rule:e.rules.reason},model:{value:e.passForm.reason,callback:function(t){e.$set(e.passForm,"reason",t)},expression:"passForm.reason"}})],1),e._v(" "),a("formRow",{attrs:{disabled:"",label:"档案截止时间",required:"",rule:e.rules.endTime,width:"50%"}},[a("formDate",{attrs:{disabled:"",placeholder:"请选择档案截止时间",rule:e.rules.endTime,format:e.format},model:{value:e.passForm.endTime,callback:function(t){e.$set(e.passForm,"endTime",t)},expression:"passForm.endTime"}})],1)],1),e._v(" "),a("el-button",{attrs:{slot:"button",size:"mini",type:"primary",icon:"el-icon-s-check"},on:{click:function(t){return e.passOrSend("1")}},slot:"button"},[e._v("审批通过")]),e._v(" "),a("el-button",{attrs:{slot:"button",size:"mini",type:"primary",icon:"el-icon-close"},on:{click:function(t){return e.sendBack("0")}},slot:"button"},[e._v("退回")])],1),e._v(" "),a("commonDialog",{attrs:{title:"退回原因",visible:e.formControl.visible,refresh:e.formControl.refresh,form:e.passForm,rules:e.rules,save:e.save},on:{"update:visible":function(t){return e.$set(e.formControl,"visible",t)},"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)}}},[a("commonForm",{attrs:{labelWidth:"150px"}},[a("formRow",{attrs:{label:"退回原因",required:"",rule:e.rules.revokeReason}},[a("formInput",{attrs:{type:"textarea",placeholder:"请输入退回原因",rule:e.rules.revokeReason},model:{value:e.passForm.revokeReason,callback:function(t){e.$set(e.passForm,"revokeReason",t)},expression:"passForm.revokeReason"}})],1)],1)],1)],1)},staticRenderFns:[]};var $a=a("C7Lr")(Da,Ia,!1,function(e){a("gALX")},null,null).exports,ka={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"infoManager-wrapper",attrs:{local:"infoManager"}},[a("commonTitle",{attrs:{slot:"title",showShadow:"",title:e.pageTitle},slot:"title"},[a("el-button",{attrs:{slot:"right",size:"mini",type:"primary",icon:"el-icon-back"},on:{click:function(t){return e.back()}},slot:"right"},[e._v("返回")])],1),e._v(" "),a("commonTree",{ref:"commonTree",attrs:{slot:"left",local:"infoManager",autoHeight:"",defaultChecked:"",filter:"",props:e.treeProps,options:e.treeData},on:{nodeClick:e.nodeClick},slot:"left",model:{value:e.searchData.sysTableId,callback:function(t){e.$set(e.searchData,"sysTableId",t)},expression:"searchData.sysTableId"}}),e._v(" "),a("commonTable",{staticClass:"padding",attrs:{slot:"right",autoHeight:"",showPagination:"",gridColumns:e.gridColumns,search:e.searchData,total:e.total,refresh:e.formControl.refresh,options:e.tableData},on:{"update:search":function(t){e.searchData=t},"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)},changeRow:e.changeRow,delRow:e.delRow},slot:"right"},[a("commonSearch",[a("el-button",{attrs:{slot:"left",size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addRow()}},slot:"left"},[e._v("添加")]),e._v(" "),a("el-button",{attrs:{slot:"left",size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.createTable()}},slot:"left"},[e._v("生成数据库表")]),e._v(" "),a("div",{attrs:{slot:"right"},slot:"right"},[a("formInput",{staticClass:"radius large",attrs:{size:"large",placeholder:"请输入属性中文名查询",suffixIcon:"el-icon-search"},on:{iconClick:e.searchClick},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})],1)],1)],1)],1)},staticRenderFns:[]};var Ta=a("C7Lr")({name:"infoManager",components:{},data:function(){return{searchText:"",total:0,pageTitle:"信息集维护管理",addOrUpdate:!0,isFirstEnter:!1,searchData:{sysTableId:null,nameCn:"",orderBy:"",pageSize:20,pageIndex:1},treeProps:{value:"id",label:"nameCn",children:"sysTableModifyModels",icon:"icon-group red",childrenIcon:"icon-biaodan blue"},treeData:[],tableData:[],formControl:{visible:!1,refresh:!1,transferVisible:!1},gridColumns:[{text:"属性中文名",align:"center",dataIndex:"nameCn"},{text:"属性英文名",align:"center",dataIndex:"nameEn"},{text:"字段描述",align:"center",dataIndex:"description"},{text:"字段所属表名",align:"center",dataIndex:"dbTableName"},{text:"数据库中的字段类型",align:"center",dataIndex:"dbFieldDataType"},{text:"数据库中的字段名",align:"center",dataIndex:"dbFieldName"},{text:"默认引用代码集",align:"center",dataIndex:"sysCodeSetName"},{text:"默认引用代码集类别",align:"center",dataIndex:"sysCodeSetType",formatter:function(e){return{0:"一般类型",1:"树形类型",5:"无类型"}[e.row.sysCodeSetType]}},{text:"排序",align:"center",dataIndex:"sort"},{text:"属性值修改是否监听",align:"center",dataIndex:"attrValueMonitor",formatter:function(e){return{0:"否",1:"是"}[e.row.attrValueMonitor]}},{text:"是否可以作为条件字段",align:"center",dataIndex:"canConditionFlag",formatter:function(e){return{0:"否",1:"是"}[e.row.canConditionFlag]}},{text:"是否可以作为排序字段",align:"center",dataIndex:"canOrderFlag",formatter:function(e){return{0:"否",1:"是"}[e.row.canOrderFlag]}},{text:"是否可以搜索结果",align:"center",dataIndex:"canResultFlag",formatter:function(e){return{0:"否",1:"是"}[e.row.canResultFlag]}},{text:"是否级联删除",align:"center",dataIndex:"deleteCascadeFlag",formatter:function(e){return{0:"否",1:"是"}[e.row.deleteCascadeFlag]}},{text:"是否外键",align:"center",dataIndex:"isFK",formatter:function(e){return{0:"否",1:"是"}[e.row.isFK]}},{text:"是否主键",align:"center",dataIndex:"isPK",formatter:function(e){return{0:"否",1:"是"}[e.row.isPK]}},{text:"是否逻辑删除",align:"center",dataIndex:"logicalDeleteFlag",formatter:function(e){return{0:"否",1:"是"}[e.row.logicalDeleteFlag]}},{text:"是否必填",align:"center",dataIndex:"isNecessary",formatter:function(e){return{0:"否",1:"是"}[e.row.isNecessary]}},{text:"在列表中是否显示",align:"center",dataIndex:"isShowInList",formatter:function(e){return{0:"否",1:"是"}[e.row.isShowInList]}},{text:"在列表中的排序",align:"center",dataIndex:"sortInList"},{text:"操作",align:"center",fixed:"right",formatter:function(e){return{showDropDown:!0,showText:"操作",data:[{text:"修改",class:"blue",eName:"changeRow"},{text:"删除",class:"blue",eName:"delRow"}]}}}],url:this.$baseUrl+"sys/systable/type/findAllSysTableType"}},created:function(){this.isFirstEnter=!0},mounted:function(){},watch:{"formControl.refresh":function(e){e&&this.loadTable()},searchData:{handler:function(e){this.loadTable()},deep:!0}},methods:{searchClick:function(e){this.searchData.pageIndex=1,this.searchData.nameCn=this.searchText},createTable:function(){var e=this;if(this.searchData.sysTableId){var t={url:this.$baseUrl+"sys/systable/operatingDbTable?",data:{sysTableId:this.searchData.sysTableId}};this.$ajaxPost(t,!0,function(t){200===t.code?e.$showMsg("success","创建成功"):e.$showMsg("error",t.message)})}},loadData:function(){var e=this,t={url:this.url};this.$ajaxPost(t,!0,function(t){200===t.code?e.treeData=e._normalTreeData(t.data):e.$showMsg("error",t.message)})},_normalTreeData:function(e){return e.forEach(function(e,t){e.isFalse=!0,e.sysTableModifyModels.forEach(function(e){e.nameCn="["+e.nameEn+"] "+e.nameCn})}),e},loadTable:function(){var e=this,t={url:this.$baseUrl+"sys/systable/field/findSysTableFieldBySysTableIdOrNameCn",data:this.searchData};this.$ajaxPost(t,!0,function(t){200===t.code?(e.tableData=t.data.data,e.total=t.data.totalCount):e.$showMsg("error",t.message)})},nodeClick:function(e){this.searchText="",this.searchData.pageIndex=1,this.searchData.sysTableId=e.id,this.searchData.nameCn=this.searchText},addRow:function(){this.addOrUpdate=!0,this.$router.push({path:"UpdataInfoMsg",query:{sysTableId:this.searchData.sysTableId,pageIndex:this.searchData.pageIndex,id:""}})},changeRow:function(e){this.addOrUpdate=!1,this.$router.push({path:"UpdataInfoMsg",query:{sysTableId:this.searchData.sysTableId,pageIndex:this.searchData.pageIndex,id:e.id}})},delRow:function(e){var t=this;!e&&this.tableData.length<1?this.$showMsg("error","请选择需要删除的数据"):this.$showConfirm("确认删除该数据？",function(){var a={url:t.$baseUrl+"sys/systable/field/delSysTableFieldById?",data:{id:e.id}};t.$ajaxPost(a,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.loadTable()):t.$showMsg("error",e.message)})})},save:function(e){},back:function(){this.$router.go(-1)}},beforeRouteEnter:function(e,t,a){"UpdataInfoMsg"==t.name?e.meta.isBack=!0:e.meta.isBack=!1,a()},activated:function(){!this.$route.meta.isBack||this.isFirstEnter?(this.loadData(),this.searchData.pageIndex=1,this.searchData.pageSize=20,this.searchData.sysTableId=null):(this.loadTable(),this.$refs.commonTree.initScroll()),this.$route.meta.isBack=!1,this.isFirstEnter=!1}},ka,!1,function(e){a("0MOI")},null,null).exports,_a=a("aA9S"),Na=a.n(_a),Sa={name:"infoManager",components:{},data:function(){return{show:!1,pageTitle:"属性信息修改",addUrl:this.$baseUrl+"sys/systable/field/addSysTableField",updateUrl:this.$baseUrl+"sys/systable/field/updateSysTableField",selected:0,checkedVal:null,CodeSetTypeOptions:[{name:"无类型",id:"5"},{name:"树形类型",id:"1"},{name:"一般类型",id:"0"}],searchData:{},rows:30,treeProps:{},tabsData:[{name:"属性信息",use:"msg"},{name:"html片段",use:"html"},{name:"脚本片段",use:"script"}],formControl:{visible:!1,refresh:!1,transferVisible:!1},gridColumns:[],tableData:[],options:[{name:"是",id:"1"},{name:"否",id:"0"}],props:{label:"codeName",value:"codeId"},CodeSetOptions:[],form:{attrValueMonitor:"",canConditionFlag:"",canOrderFlag:"",canResultFlag:"",dbFieldDataType:"",dbFieldName:"",dbTableName:"",defaultHtml:"",js:{},editHtml:"",defaultScript:"",deleteCascadeFlag:"",description:"",id:"",isFK:"",isPK:"",logicalDeleteFlag:"",nameCn:"",nameEn:"",sysCodeSetName:"",sysCodeSetType:"",sysTableId:"",sort:"",sortInList:"",isShowInList:"",isNecessary:""},rules:{attrValueMonitor:{required:!0},canConditionFlag:{required:!0},canOrderFlag:{required:!0},canResultFlag:{required:!0},dbFieldDataType:{required:!0},dbFieldName:{required:!0},dbTableName:{required:!0},deleteCascadeFlag:{required:!0},description:{required:!0},isFK:{required:!0},isPK:{required:!0},sort:{required:!0,integer:!0},logicalDeleteFlag:{required:!0},nameCn:{required:!0},nameEn:{required:!0},sysCodeSetName:{},sysCodeSetType:{}},rules2:{defaultHtml:{}},rules3:{defaultScript:{}},htmlSelect:[{id:1,name:"input输入框"},{id:2,name:"select下拉框"},{id:3,name:"search搜索"},{id:4,name:"search搜索提示"},{id:5,name:"date日期"},{id:6,name:"photo照片"}]}},mounted:function(){this.loadList(),this.loadData()},watch:{},computed:{sysTableId:function(){return this.$route.query.sysTableId},pageIndex:function(){return this.$route.query.pageIndex},id:function(){return this.$route.query.id},addOrUpdate:function(){return!this.$route.query.id}},methods:{loadList:function(){var e=this;if(this.sysTableId){var t={url:this.$baseUrl+"sys/syscode/set/getSysCodeSet"};this.$ajaxPost(t,!0,function(t){if(200===t.code){var a=t.data.map(function(e){return e.codeName=e.nameCn+" ["+e.name+"]",e.codeId=e.name,e});e.CodeSetOptions=a}else e.$showMsg("error",t.message)})}},changeTab:function(e){},loadData:function(){var e=this;if(this.id){var t={url:this.$baseUrl+"sys/systable/field/findSysTableDefById?",data:{id:this.id}};this.$ajaxPost(t,!0,function(t){if(200===t.code){var a=e.$deepClone(t.data);console.log("result++++"),console.log(a),a.defaultHtml=a.defaultHtml?a.defaultHtml.replace(/<br>/g,"\n"):"",a.defaultScript=a.defaultScript?e.$dataStrBeautify(JSON.parse(a.defaultScript)):"",e.form=a}else e.$showMsg("error",t.message)})}else for(var a in this.form)this.form[a]=null},changeSave:function(){var e=this;this.form.sysTableId=this.sysTableId;var t=this.$deepClone(this.form);t.defaultHtml=t.defaultHtml.replace(/\n/g,"<br>"),t.defaultScript=t.defaultScript.replace(/[\n\s]/g,"").replace(/function/g,"function ");var a=!0;if(this.rules&&(a=this.$validate.validRules(this.rules,this.form)?this.$validate.validRules(this.rules2,this.form)?!!this.$validate.validRules(this.rules3,this.form)||"rule3Erro":"rule2Erro":"rule1Erro"),1==a){var o={url:this.addOrUpdate?this.addUrl:this.updateUrl,data:t};this.$ajaxPost(o,!0,function(t){200===t.code?(e.$showMsg("success","保存成功"),setTimeout(function(){e.goBack()},300)):e.$showMsg("error",t.message)})}else"rule1Erro"==a?this.$showMsg("error","属性验证未通过"):"rule2Erro"==a?this.$showMsg("error","html片段验证未通过"):"rule3Erro"==a&&this.$showMsg("error","html片段验证未通过")},goBack:function(){this.$router.go(-1)},getId:function(e){var t=function(e,t,a,o){switch(e){case 1:var r='<formRow label="'+t+'" required :rule="rules.'+a+'">\n\t\t\t\t\t\t\t<formInput v-model="form.'+a+'" placeholder="请输入'+t+'" :rule="rules.'+a+'"></formInput>\n\t\t\t\t\t\t\t</formRow>';break;case 2:var r='<formRow label="'+t+'" required :rule="rules.'+a+'">\n\t\t\t\t\t\t\t<formSelect v-model="form.'+a+'" type="whether" placeholder="请选择'+t+'" :rule="rules.'+a+'"></formSelect>\n\t\t\t\t\t\t\t</formRow>';break;case 3:var r='<formRow label="'+t+'" required :rule="rules.'+a+'">\n\t\t\t\t\t\t\t<formSelectInput :id.sync="form.'+a+'" placeholder="'+t+'" :options="codeData.native" :rule="rules.'+a+'"></formSelectInput>\n\t\t\t\t\t\t\t</formRow>';break;case 4:var r='<formRow label="'+t+'" :hint=\'"原："+form.'+o+"' required :rule=\"rules."+a+'">\n\t\t\t\t\t\t\t<formSelectInput :id.sync="form.'+a+'" placeholder="'+t+'" :options="codeData.native" :rule="rules.'+a+'"></formSelectInput>\n\t\t\t\t\t\t\t</formRow>';break;case 5:var r='<formRow label="'+t+'" required :rule="rules.'+a+'">\n\t\t\t\t\t\t\t<formDate v-model="form.'+a+'" placeholder="'+t+'" :rule="rules.'+a+'"></formDate>\n\t\t\t\t\t\t\t</formRow>';break;case 6:var r='<formRow :style=\'{gridArea:"2/1/3/5"}\' label="照片" top required  :rule="rules.'+a+'">\n\t\t\t\t\t\t\t\t<commonUpload size="mini" v-model="form.'+a+'" showAvatar>\n\t\t\t\t\t\t\t\t\t<el-button size="mini" type="primary">上传照片</el-button>\n\t\t\t\t\t\t\t\t</commonUpload>\n\t\t\t\t\t\t\t</formRow>'}var s={html:r,js:{data:{form:{},rules:{}},methods:{}}};s.js.data.form[a]="",s.js.data.rules[a]={required:!0},o&&(s.js.data.form[o]="");return s}(e,this.form.nameCn,this.form.nameEn,"a11111");this.form.defaultHtml=t.html,this.form.js=Na()(t.js),this.form.defaultScript=this.$dataStrBeautify(this.form.js)}}},Ra={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"updataInfoMsg-wrapper"},[a("commonBody",{attrs:{local:"updataInfoMsg"}},[a("commonTitle",{attrs:{slot:"title",showShadow:"",title:e.pageTitle},slot:"title"},[a("el-button",{attrs:{slot:"right",size:"mini",type:"primary",icon:"el-icon-back"},on:{click:function(t){return e.goBack()}},slot:"right"},[e._v("返回")])],1),e._v(" "),a("commonTablistY",{attrs:{slot:"left",options:e.tabsData},on:{change:e.changeTab},slot:"left",model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),e._v(" "),a("commonContainer",{staticClass:"paddingY",attrs:{slot:"right"},slot:"right"},[a("commonForm",{directives:[{name:"show",rawName:"v-show",value:"msg"===e.tabsData[e.selected].use,expression:"tabsData[selected].use === 'msg'"}],attrs:{labelWidth:"200",msgWidth:"40%"}},[a("formRow",{attrs:{label:"属性中文名",required:"",rule:e.rules.nameCn}},[a("formInput",{attrs:{placeholder:"请输入属性中文名",rule:e.rules.nameCn},model:{value:e.form.nameCn,callback:function(t){e.$set(e.form,"nameCn",t)},expression:"form.nameCn"}})],1),e._v(" "),a("formRow",{attrs:{label:"属性英文名",required:"",rule:e.rules.nameEn}},[a("formInput",{attrs:{placeholder:"请输入属性英文名",rule:e.rules.nameEn},model:{value:e.form.nameEn,callback:function(t){e.$set(e.form,"nameEn",t)},expression:"form.nameEn"}})],1),e._v(" "),a("formRow",{attrs:{label:"字段描述",required:"",rule:e.rules.description}},[a("formInput",{attrs:{placeholder:"请输入字段描述",rule:e.rules.description},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),e._v(" "),a("formRow",{attrs:{label:"字段所属表名",required:"",rule:e.rules.dbTableName}},[a("formInput",{attrs:{placeholder:"请输入字段所属表名",rule:e.rules.dbTableName},model:{value:e.form.dbTableName,callback:function(t){e.$set(e.form,"dbTableName",t)},expression:"form.dbTableName"}})],1),e._v(" "),a("formRow",{attrs:{label:"数据库中的字段类型",required:"",rule:e.rules.dbFieldDataType}},[a("formInput",{attrs:{placeholder:"请输入数据库中的字段类型",rule:e.rules.dbFieldDataType},model:{value:e.form.dbFieldDataType,callback:function(t){e.$set(e.form,"dbFieldDataType",t)},expression:"form.dbFieldDataType"}})],1),e._v(" "),a("formRow",{attrs:{label:"数据库中的字段名",required:"",rule:e.rules.dbFieldName}},[a("formInput",{attrs:{placeholder:"请输入数据库中的字段名",rule:e.rules.dbFieldName},model:{value:e.form.dbFieldName,callback:function(t){e.$set(e.form,"dbFieldName",t)},expression:"form.dbFieldName"}})],1),e._v(" "),a("formRow",{attrs:{label:"排序",required:"",rule:e.rules.sort}},[a("formInput",{attrs:{placeholder:"请输入排序",rule:e.rules.sort},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1),e._v(" "),a("formRow",{attrs:{label:"在列表中的排序"}},[a("formInput",{attrs:{placeholder:"请输入在列表中的排序"},model:{value:e.form.sortInList,callback:function(t){e.$set(e.form,"sortInList",t)},expression:"form.sortInList"}})],1),e._v(" "),a("formRow",{attrs:{label:"默认引用代码集",required:"",rule:e.rules.sysCodeSetName}},[a("formSelect",{attrs:{filterable:"",clearable:"",props:e.props,options:e.CodeSetOptions,placeholder:"请选择默认引用代码集",rule:e.rules.sysCodeSetName},model:{value:e.form.sysCodeSetName,callback:function(t){e.$set(e.form,"sysCodeSetName",t)},expression:"form.sysCodeSetName"}})],1),e._v(" "),a("formRow",{attrs:{label:"默认引用代码集类型",required:"",rule:e.rules.sysCodeSetType}},[a("formSelect",{attrs:{defaultChecked:"",options:e.CodeSetTypeOptions,placeholder:"请选择默认引用代码集类型",rule:e.rules.sysCodeSetType},model:{value:e.form.sysCodeSetType,callback:function(t){e.$set(e.form,"sysCodeSetType",t)},expression:"form.sysCodeSetType"}})],1),e._v(" "),a("formRow",{attrs:{label:"属性值修改是否监听",required:"",rule:e.rules.attrValueMonitor}},[a("formSelect",{attrs:{options:e.options,rule:e.rules.attrValueMonitor,placeholder:"请选择属性值修改是否监听"},model:{value:e.form.attrValueMonitor,callback:function(t){e.$set(e.form,"attrValueMonitor",t)},expression:"form.attrValueMonitor"}})],1),e._v(" "),a("formRow",{attrs:{label:"是否可以作为条件字段",required:"",rule:e.rules.canConditionFlag}},[a("formSelect",{attrs:{options:e.options,rule:e.rules.canConditionFlag,placeholder:"请选择是否可以作为条件字段"},model:{value:e.form.canConditionFlag,callback:function(t){e.$set(e.form,"canConditionFlag",t)},expression:"form.canConditionFlag"}})],1),e._v(" "),a("formRow",{attrs:{label:"是否可以作为排序字段",required:"",rule:e.rules.canOrderFlag}},[a("formSelect",{attrs:{options:e.options,rule:e.rules.canOrderFlag,placeholder:"请选择是否可以作为排序字段"},model:{value:e.form.canOrderFlag,callback:function(t){e.$set(e.form,"canOrderFlag",t)},expression:"form.canOrderFlag"}})],1),e._v(" "),a("formRow",{attrs:{label:"是否可以搜索结果",required:"",rule:e.rules.canResultFlag}},[a("formSelect",{attrs:{options:e.options,rule:e.rules.canResultFlag,placeholder:"请选择是否可以搜索结果"},model:{value:e.form.canResultFlag,callback:function(t){e.$set(e.form,"canResultFlag",t)},expression:"form.canResultFlag"}})],1),e._v(" "),a("formRow",{attrs:{label:"是否级联删除",required:"",rule:e.rules.deleteCascadeFlag}},[a("formSelect",{attrs:{options:e.options,rule:e.rules.deleteCascadeFlag,placeholder:"请选择是否级联删除"},model:{value:e.form.deleteCascadeFlag,callback:function(t){e.$set(e.form,"deleteCascadeFlag",t)},expression:"form.deleteCascadeFlag"}})],1),e._v(" "),a("formRow",{attrs:{label:"是否外键",required:"",rule:e.rules.isFK}},[a("formSelect",{attrs:{options:e.options,rule:e.rules.isFK,placeholder:"请选择是否外键"},model:{value:e.form.isFK,callback:function(t){e.$set(e.form,"isFK",t)},expression:"form.isFK"}})],1),e._v(" "),a("formRow",{attrs:{label:"是否主键",required:"",rule:e.rules.isPK}},[a("formSelect",{attrs:{options:e.options,rule:e.rules.isPK,placeholder:"请选择是否主键"},model:{value:e.form.isPK,callback:function(t){e.$set(e.form,"isPK",t)},expression:"form.isPK"}})],1),e._v(" "),a("formRow",{attrs:{label:"是否逻辑删除",required:"",rule:e.rules.logicalDeleteFlag}},[a("formSelect",{attrs:{options:e.options,rule:e.rules.logicalDeleteFlag,placeholder:"请选择是否逻辑删除"},model:{value:e.form.logicalDeleteFlag,callback:function(t){e.$set(e.form,"logicalDeleteFlag",t)},expression:"form.logicalDeleteFlag"}})],1),e._v(" "),a("formRow",{attrs:{label:"在列表中是否显示"}},[a("formSelect",{attrs:{options:e.options,placeholder:"请选择是否逻辑删除"},model:{value:e.form.isShowInList,callback:function(t){e.$set(e.form,"isShowInList",t)},expression:"form.isShowInList"}})],1),e._v(" "),a("formRow",{attrs:{label:"是否必填"}},[a("formSelect",{attrs:{options:e.options,placeholder:"请选择是否逻辑删除"},model:{value:e.form.isNecessary,callback:function(t){e.$set(e.form,"isNecessary",t)},expression:"form.isNecessary"}})],1)],1),e._v(" "),a("commonForm",{directives:[{name:"show",rawName:"v-show",value:"html"===e.tabsData[e.selected].use,expression:"tabsData[selected].use === 'html'"}],attrs:{labelWidth:"200",msgWidth:"20%"}},[a("formRow",{attrs:{label:"选择表单控件",msgWidth:"50%"}},[a("formSelect",{attrs:{options:e.htmlSelect},on:{change:e.getId},model:{value:e.form.editHtml,callback:function(t){e.$set(e.form,"editHtml",t)},expression:"form.editHtml"}})],1),e._v(" "),a("formRow",{attrs:{label:"html代码",top:""}},[a("formInput",{attrs:{type:"textarea",rows:e.rows,placeholder:"请输入html代码"},model:{value:e.form.defaultHtml,callback:function(t){e.$set(e.form,"defaultHtml",t)},expression:"form.defaultHtml"}})],1)],1),e._v(" "),a("commonForm",{directives:[{name:"show",rawName:"v-show",value:"script"===e.tabsData[e.selected].use,expression:"tabsData[selected].use === 'script'"}],attrs:{labelWidth:"200",msgWidth:"20%"}},[a("formRow",{attrs:{label:"脚本",top:""}},[a("formInput",{attrs:{type:"textarea",rows:e.rows,placeholder:"请输入脚本"},model:{value:e.form.defaultScript,callback:function(t){e.$set(e.form,"defaultScript",t)},expression:"form.defaultScript"}})],1)],1)],1)],1),e._v(" "),a("commonFooter",{attrs:{container:"",hint:"请确认填写的数据",button:"保存"},on:{click:e.changeSave}})],1)},staticRenderFns:[]};var Ma=a("C7Lr")(Sa,Ra,!1,function(e){a("TcLd")},null,null).exports,Fa={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"logManager-wrapper"},[a("commonTitle",{attrs:{slot:"title",showShadow:"",title:e.pageTitle},slot:"title"}),e._v(" "),a("commonTable",{staticClass:"padding",attrs:{autoHeight:"",showPagination:"",method:"get",search:e.searchData,control:e.formControl,gridColumns:e.gridColumns,url:e.url},on:{"update:control":function(t){e.formControl=t}}})],1)},staticRenderFns:[]};var Pa=a("C7Lr")({name:"logManager",data:function(){var e=this;return{pageTitle:"日志管理",searchData:{pageIndex:1,pageSize:20},type:"1",formControl:{visible:!1,refresh:!1,transferVisible:!1},gridColumns:[{text:"用户名",align:"center",dataIndex:"userName"},{text:"登录名",align:"center",dataIndex:"loginName"},{text:"操作方法",align:"center",dataIndex:"execMethod"},{text:"请求参数",align:"center",dataIndex:"execDetail"},{text:"操作概要",align:"center",dataIndex:"logDetail"},{text:"IP地址",align:"center",dataIndex:"opFromIp"},{text:"操作时间",align:"center",dataIndex:"opDateTime",formatter:function(t){return t.row.opDateTime?e.$moment(t.row.opDateTime).format("YYYY-MM-DD"):""}}],userColumns:[{text:"操作概要",align:"center",dataIndex:"a01001"},{text:"操作时间",align:"center",dataIndex:"a01001"},{text:"IP地址",align:"center",dataIndex:"a01001"}],systemColumns:[{text:"操作方法",align:"center",dataIndex:"a01001"},{text:"请求参数",align:"center",dataIndex:"a01001"},{text:"操作时间",align:"center",dataIndex:"a01001"}],tableData:[{a01001:"哈哈"}],url:this.$baseUrl+"sys/oplog/list?"}},mounted:function(){},watch:{},methods:{}},Fa,!1,function(e){a("xvgU")},null,null).exports,Aa={name:"userManager",data:function(){var e,t;return t={pageTitle:"用户管理",checkedVal:null,searchData:{},useComponent:"group",treeProps:(e={value:"deptId",label:"b01001",children:"Node",isLeaf:"leaf"},da()(e,"children","Node"),da()(e,"hasChildren","hasChild"),e),treeData:[{deptId:"0",upDeptId:"",b01001:"毕节市",b01004:"毕节市",showOrder:"0",Node:[{deptId:"1",upDeptId:"0",b01001:"中共毕节市委员会",b01004:"贵州省毕节市委",showOrder:"1"},{deptId:"2",upDeptId:"0",b01001:"毕节市人民代表大会常务委员会",b01004:"贵州省毕节市人大常委会",showOrder:"2"},{deptId:"3",upDeptId:"0",b01001:"毕节市中级人民法院",b01004:"贵州省毕节市中级人民法院",showOrder:"3"}]}]},da()(t,"searchData",{}),da()(t,"formControl",{visible:!1,refresh:!1,transferVisible:!1}),da()(t,"gridColumns",[{text:"姓名",align:"center",dataIndex:"a01001"},{text:"登录名",align:"center",dataIndex:"a01001"},{text:"邮箱",align:"center",dataIndex:"a01001"},{text:"电话",align:"center",dataIndex:"a01001"},{text:"手机号",align:"center",dataIndex:"a01001"},{text:"锁定",align:"center",dataIndex:"a01001"},{text:"操作",showDropDown:!0,align:"center",formatter:function(e){return{showText:"操作",data:[{text:"修改",class:"blue",eName:"changeRow"},{text:"删除",class:"red",eName:"delRow"}]}}}]),da()(t,"tableData",[{a01001:"哈哈"}]),t},mounted:function(){},watch:{},methods:{nodeClick:function(){},addRow:function(){this.formControl.visible=!0},changeRow:function(e){this.formControl.visible=!0},delRow:function(e){alert("删除？")}}},Ea={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"userManager-wrapper"},[a("commonTitle",{attrs:{slot:"title",showShadow:"",title:e.pageTitle},slot:"title"}),e._v(" "),a("commonTree",{attrs:{slot:"left",local:"userManager",autoHeight:"",props:e.treeProps,search:e.searchData,options:e.treeData},on:{nodeClick:e.nodeClick},slot:"left",model:{value:e.checkedVal,callback:function(t){e.checkedVal=t},expression:"checkedVal"}}),e._v(" "),a("commonTable",{staticClass:"padding",attrs:{slot:"right",autoHeight:"",showPagination:"",gridColumns:e.gridColumns,search:e.searchData,control:e.formControl,options:e.tableData},on:{"update:control":function(t){e.formControl=t},changeRow:e.changeRow,delRow:e.delRow},slot:"right"},[a("commonSearch",[a("el-button",{attrs:{slot:"left",size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addRow()}},slot:"left"},[e._v("添加")]),e._v(" "),a("el-button",{attrs:{slot:"left",size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addRow()}},slot:"left"},[e._v("赋单位权限")]),e._v(" "),a("el-button",{attrs:{slot:"left",size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addRow()}},slot:"left"},[e._v("修改密码")]),e._v(" "),a("el-button",{attrs:{slot:"left",size:"mini",type:"primary",icon:"el-icon-star-off"},on:{click:function(t){return e.addRow()}},slot:"left"},[e._v("指标项权限")]),e._v(" "),a("el-button",{attrs:{slot:"left",size:"mini",type:"primary",icon:"el-icon-star-off"},on:{click:function(t){return e.addRow()}},slot:"left"},[e._v("可选组设置")])],1),e._v(" "),a("commonDialog",{attrs:{visible:e.formControl.visible,title:"用户管理"},on:{"update:visible":function(t){return e.$set(e.formControl,"visible",t)}}},[a("commonForm",{attrs:{labelWidth:"150px"}},[a("formRow",{attrs:{label:"姓名"}},[a("formInput",{attrs:{placeholder:"请输入姓名"}})],1),e._v(" "),a("formRow",{attrs:{label:"登录名"}},[a("formInput",{attrs:{placeholder:"请输入登录名"}})],1),e._v(" "),a("formRow",{attrs:{label:"邮箱"}},[a("formInput",{attrs:{placeholder:"请输入邮箱"}})],1),e._v(" "),a("formRow",{attrs:{label:"电话"}},[a("formInput",{attrs:{placeholder:"请输入电话"}})],1),e._v(" "),a("formRow",{attrs:{label:"手机号"}},[a("formInput",{attrs:{placeholder:"请输入手机号"}})],1),e._v(" "),a("formRow",{attrs:{label:"是否锁定"}},[a("formRadio",{attrs:{type:"whether"}})],1)],1)],1)],1)],1)},staticRenderFns:[]};var Ua=a("C7Lr")(Aa,Ea,!1,function(e){a("I2rX")},null,null).exports,Va={name:"userManager",data:function(){var e,t;return t={pageTitle:"用户管理",checkedVal:null,searchData:{},useComponent:"group",treeProps:(e={value:"deptId",label:"b01001",children:"Node",isLeaf:"leaf"},da()(e,"children","Node"),da()(e,"hasChildren","hasChild"),e),treeData:[{deptId:"0",upDeptId:"",b01001:"毕节市",b01004:"毕节市",showOrder:"0",Node:[{deptId:"1",upDeptId:"0",b01001:"中共毕节市委员会",b01004:"贵州省毕节市委",showOrder:"1"},{deptId:"2",upDeptId:"0",b01001:"毕节市人民代表大会常务委员会",b01004:"贵州省毕节市人大常委会",showOrder:"2"},{deptId:"3",upDeptId:"0",b01001:"毕节市中级人民法院",b01004:"贵州省毕节市中级人民法院",showOrder:"3"}]}]},da()(t,"searchData",{}),da()(t,"formControl",{visible:!1,refresh:!1,transferVisible:!1}),da()(t,"gridColumns",[{text:"用户组名称",align:"center",dataIndex:"a01001"},{text:"用户组描述",align:"center",dataIndex:"a01001"}]),da()(t,"tableData",[{a01001:"哈哈"}]),t},mounted:function(){},watch:{},methods:{nodeClick:function(){},addRow:function(){this.formControl.visible=!0},changeRow:function(e){this.formControl.visible=!0},delRow:function(e){alert("删除？")}}},La={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"userManager-wrapper"},[a("commonTitle",{attrs:{slot:"title",showShadow:"",title:e.pageTitle},slot:"title"}),e._v(" "),a("commonTree",{attrs:{slot:"left",autoHeight:"",props:e.treeProps,search:e.searchData,options:e.treeData},on:{nodeClick:e.nodeClick},slot:"left",model:{value:e.checkedVal,callback:function(t){e.checkedVal=t},expression:"checkedVal"}}),e._v(" "),a("commonTable",{staticClass:"padding",attrs:{slot:"right",autoHeight:"",showPagination:"",gridColumns:e.gridColumns,search:e.searchData,control:e.formControl,options:e.tableData},on:{"update:control":function(t){e.formControl=t},changeRow:e.changeRow,delRow:e.delRow},slot:"right"},[a("commonSearch",[a("el-button",{attrs:{slot:"left",size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addRow()}},slot:"left"},[e._v("添加")]),e._v(" "),a("el-button",{attrs:{slot:"left",size:"mini",type:"primary",icon:"el-icon-edit"},on:{click:function(t){return e.addRow()}},slot:"left"},[e._v("赋功能权限")]),e._v(" "),a("el-button",{attrs:{slot:"left",size:"mini",type:"primary",icon:"el-icon-star-off"},on:{click:function(t){return e.addRow()}},slot:"left"},[e._v("职务层级禁用")])],1),e._v(" "),a("commonDialog",{attrs:{visible:e.formControl.visible,title:"用户组管理"},on:{"update:visible":function(t){return e.$set(e.formControl,"visible",t)}}},[a("commonForm",{attrs:{labelWidth:"150px"}},[a("formRow",{attrs:{label:"组名"}},[a("formInput",{attrs:{placeholder:"请输入组名"}})],1),e._v(" "),a("formRow",{attrs:{label:"描述"}},[a("formInput",{attrs:{placeholder:"请输入描述"}})],1),e._v(" "),a("formRow",{attrs:{label:"用户组"}},[a("formSelect",{attrs:{placeholder:"请选择邮箱"}})],1)],1)],1)],1)],1)},staticRenderFns:[]};var qa=a("C7Lr")(Va,La,!1,function(e){a("1KR8")},null,null).exports,Oa={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"appTable"},[e._m(0),e._v(" "),a("commonTable",{staticClass:"paddingY",attrs:{autoHeight:"",showSelect:"",defaultChecked:"",refresh:e.formControl.refresh,gridColumns:e.groupColumns,url:e.url,search:e.searchData,layout:"total, prev, pager, next"},on:{"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)},changeRow:e.changeRow,delRow:e.delRow,rowClick:e.rowClick,checkedChange:e.checkedChange}},[a("commonSearch",[a("el-button",{attrs:{slot:"left",size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addRow()}},slot:"left"},[e._v("添加")]),e._v(" "),a("el-button",{attrs:{slot:"left",size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(t){return e.delRow()}},slot:"left"},[e._v("删除")]),e._v(" "),a("formInput",{staticClass:"radius mini",attrs:{slot:"right",placeholder:"名称",suffixIcon:"el-icon-search"},on:{iconClick:e.onSearch},slot:"right",model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})],1),e._v(" "),a("commonDialog",{attrs:{title:"应用管理",height:"150px",visible:e.formControl.visible,refresh:e.formControl.refresh,form:e.form,rules:e.rules,url:e.saveUrl,updateUrl:e.updateUrl},on:{"update:visible":function(t){return e.$set(e.formControl,"visible",t)},"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)}}},[a("commonForm",[a("formRow",{attrs:{label:"应用名称",required:"",rule:e.rules.name}},[a("formInput",{attrs:{placeholder:"请输入应用名称",rule:e.rules.name},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("formRow",{attrs:{label:"应用code",required:"",rule:e.rules.code}},[a("formInput",{attrs:{placeholder:"请输入应用code",rule:e.rules.code},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1)],1)],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"table-title"},[t("span",[this._v("应用系统")])])}]};var ja={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"appTable"},[e._m(0),e._v(" "),a("commonTable",{ref:"commonTable",staticClass:"paddingY",attrs:{dragable:"",autoHeight:"",autoOperate:"",showSelect:"",defaultChecked:"",refresh:e.formControl.refresh,gridColumns:e.groupColumns,url:e.url,search:e.searchData,layout:"total, prev, pager, next"},on:{"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)},changeRow:e.changeRow,delRow:e.delRow,moveUp:e.moveUp,moveDown:e.moveDown,checkedChange:e.checkedChange,rowClick:e.rowClick,dragEnd:e.dragEnd}},[a("commonSearch",[a("el-button",{attrs:{slot:"left",size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addRow()}},slot:"left"},[e._v("添加")]),e._v(" "),a("el-button",{attrs:{slot:"left",size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(t){return e.delRow()}},slot:"left"},[e._v("删除")]),e._v(" "),a("formInput",{staticClass:"radius mini",attrs:{slot:"right",placeholder:"名称",suffixIcon:"el-icon-search"},on:{iconClick:e.onSearch},slot:"right",model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})],1),e._v(" "),a("commonDialog",{attrs:{title:"信息集组管理",height:"150px",visible:e.formControl.visible,refresh:e.formControl.refresh,form:e.form,rules:e.rules,url:e.saveUrl,updateUrl:e.updateUrl},on:{"update:visible":function(t){return e.$set(e.formControl,"visible",t)},"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)}}},[a("commonForm",[a("formRow",{attrs:{label:"信息集组名称",required:"",rule:e.rules.name}},[a("formInput",{attrs:{placeholder:"请输入信息集组名称",rule:e.rules.name},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"table-title"},[t("span",[this._v("信息集组")])])}]};var Ba={components:{SelectList:Ft},data:function(){return{isAdd:!1,searchText:"",checkedTable:[],listData:{checked:0,tabData:[],data:[]},treeProps:{label:"nameCn",value:"id"},searchData:{name:"",orderBy:"",sysAppTableGroupId:null},form:{sysTableIds:[],sysAppTableGroupId:""},rules:{sysTableIds:{required:!0}},changeForm:{name:"",sort:""},changeRules:{},formControl:{refresh:!1,visible:!1},groupColumns:[{text:"信息集名称",align:"center",dataIndex:"name",formatter:function(e){return"["+e.row.nameEn+"] "+e.row.name}}],url:this.$baseUrl+"sys/sysapp/tableSet/list",saveUrl:this.$baseUrl+"sys/sysapp/tableSet/add",updateUrl:this.$baseUrl+"sys/sysapp/tableSet/modify",delUrl:this.$baseUrl+"sys/sysapp/tableSet/delete",listTabUrl:this.$baseUrl+"sys/sysapp/tableSet/sysTableType/list",listUrl:this.$baseUrl+"sys/sysapp/tableSet/sysTable/list",sortUrl:this.$baseUrl+"sys/sysapp/tableSet/sort/swap",dragUrl:this.$baseUrl+"sys/sysapp/tableSet/sort/modify"}},watch:{},mounted:function(){},methods:{dragEnd:function(e,t){var a=this,o=this.$refs.commonTable.data,r={data:{sourceId:o[t].id,targetId:o[e].id,type:e>t?"1":"0"},url:this.dragUrl};this.$ajaxPost(r,!0,function(r){if(200===r.code)a.$showMsg("success","移动成功");else{var s=o.splice(t,1)[0];o.splice(e,0,s),a.$showMsg("error",r.message)}a.formControl.refresh=!0})},onSearch:function(){this.searchData.name=this.searchText},addRow:function(){for(var e in this.form)this.form[e]=null;this.form.sysAppTableGroupId=this.searchData.sysAppTableGroupId,this.isAdd=!0,this.loadListTab()},changeRow:function(e){this.changeForm=this.$deepClone(e),this.isAdd=!1,this.formControl.visible=!0},delRow:function(e){var t=this;!e&&this.checkedTable.length<1?this.$showMsg("error","请选择需要删除的数据"):this.$showConfirm("确认删除该数据？",function(){var a={data:{ids:e?[e.id]:t.checkedTable},url:t.delUrl};t.$ajaxPost(a,!0,function(e){200===e.code?(t.formControl.refresh=!0,t.$showMsg("success","删除成功")):t.$showMsg("error",e.message)})})},moveUp:function(e){var t=this,a=this.$refs.commonTable.data;if(0!==e.$index){var o={data:{ids:[e.id,a[e.$index-1].id]},url:this.sortUrl};this.$ajaxPost(o,!0,function(e){200===e.code?(t.formControl.refresh=!0,t.$showMsg("success","上移成功")):t.$showMsg("error",e.message)})}else this.$showMsg("error","第一条无法上移")},moveDown:function(e){var t=this,a=this.$refs.commonTable.data;if(e.$index!==a.length-1){var o={data:{ids:[e.id,a[e.$index+1].id]},url:this.sortUrl};this.$ajaxPost(o,!0,function(e){200===e.code?(t.formControl.refresh=!0,t.$showMsg("success","下移成功")):t.$showMsg("error",e.message)})}else this.$showMsg("error","最后一条无法下移")},checkedChange:function(e){this.checkedTable=e.map(function(e){return e.id})},rowClick:function(e){this.$emit("rowClick",e)},loadListTab:function(){var e=this,t={data:{},url:this.listTabUrl};this.$ajaxPost(t,!0,function(t){200===t.code?(e.listData.tabData=t.data.map(function(e){return e.name=e.nameCn,e}),e.listData.tabData.length>0?(e.loadListData(),e.formControl.visible=!0):(e.listData.data=new Array,e.formControl.visible=!0)):e.$showMsg("error",t.message)})},searchList:function(e){this.loadListData(e)},loadListData:function(e){var t=this,a={data:{nameCn:e,sysAppTableGroupId:this.searchData.sysAppTableGroupId,sysTableTypeId:this.listData.tabData[this.listData.checked].id},url:this.listUrl};this.$ajaxPost(a,!0,function(e){if(200===e.code){var a=t.$refs.commonTable.data.map(function(e){return e.sysTableId});t.listData.data=e.data.filter(function(e){return e.name="["+e.nameEn+"] "+e.nameCn,!a.includes(e.id)})}else t.$showMsg("error",e.message)})},checkedTree:function(e,t){this.form.sysTableIds=t},change:function(e){this.form.sysTableIds=e.map(function(e){return e.id})},changeTab:function(){this.loadListData()}}},za={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"appListTable"},[e._m(0),e._v(" "),a("commonTable",{ref:"commonTable",staticClass:"paddingY",attrs:{dragable:"",autoHeight:"",autoOperate:"",showSelect:"",defaultChecked:"",refresh:e.formControl.refresh,gridColumns:e.groupColumns,url:e.url,search:e.searchData,layout:"total, prev, pager, next"},on:{"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)},changeRow:e.changeRow,delRow:e.delRow,moveUp:e.moveUp,moveDown:e.moveDown,checkedChange:e.checkedChange,rowClick:e.rowClick,dragEnd:e.dragEnd}},[a("commonSearch",[a("el-button",{attrs:{slot:"left",size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addRow()}},slot:"left"},[e._v("添加")]),e._v(" "),a("el-button",{attrs:{slot:"left",size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(t){return e.delRow()}},slot:"left"},[e._v("删除")]),e._v(" "),a("formInput",{staticClass:"radius mini",attrs:{slot:"right",placeholder:"名称",suffixIcon:"el-icon-search"},on:{iconClick:e.onSearch},slot:"right",model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})],1),e._v(" "),a("commonDialog",{attrs:{title:"信息集管理",visible:e.formControl.visible,refresh:e.formControl.refresh,form:e.isAdd?e.form:e.changeForm,rules:e.isAdd?e.rules:e.changeRules,url:e.saveUrl,updateUrl:e.updateUrl},on:{"update:visible":function(t){return e.$set(e.formControl,"visible",t)},"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)}}},[e.isAdd?a("SelectList",{staticClass:"addForm",attrs:{multiple:"",filter:"",options:e.listData.data},on:{change:e.change,onSearch:e.searchList}},[a("commonTablistY",{attrs:{options:e.listData.tabData,width:"200px"},on:{change:e.changeTab},model:{value:e.listData.checked,callback:function(t){e.$set(e.listData,"checked",t)},expression:"listData.checked"}})],1):e._e(),e._v(" "),a("commonForm",{directives:[{name:"show",rawName:"v-show",value:!e.isAdd,expression:"!isAdd"}]},[a("formRow",{attrs:{top:"",label:"信息集名称"}},[a("formInput",{attrs:{placeholder:"请输入应用组名称"},model:{value:e.changeForm.name,callback:function(t){e.$set(e.changeForm,"name",t)},expression:"changeForm.name"}})],1),e._v(" "),a("formRow",{attrs:{top:"",label:"序号"}},[a("formInput",{attrs:{type:"number",min:0,placeholder:"请输入序号"},model:{value:e.changeForm.sort,callback:function(t){e.$set(e.changeForm,"sort",t)},expression:"changeForm.sort"}})],1)],1)],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"table-title"},[t("span",[this._v("信息集")])])}]};var Ha={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"appTable"},[e._m(0),e._v(" "),a("commonTable",{ref:"commonTable",staticClass:"paddingY",attrs:{dragable:"",autoOperate:"",autoHeight:"",showSelect:"",defaultChecked:"",refresh:e.formControl.refresh,gridColumns:e.groupColumns,url:e.url,search:e.searchData,layout:"total, prev, pager, next"},on:{"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)},changeRow:e.changeRow,delRow:e.delRow,moveUp:e.moveUp,moveDown:e.moveDown,checkedChange:e.checkedChange,rowClick:e.rowClick,dragEnd:e.dragEnd}},[a("commonSearch",[a("el-button",{attrs:{slot:"left",size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addRow()}},slot:"left"},[e._v("添加")]),e._v(" "),a("el-button",{attrs:{slot:"left",size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(t){return e.delRow()}},slot:"left"},[e._v("删除")]),e._v(" "),a("formInput",{staticClass:"radius mini",attrs:{slot:"right",placeholder:"名称",suffixIcon:"el-icon-search"},on:{iconClick:e.onSearch},slot:"right",model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})],1),e._v(" "),a("commonDialog",{attrs:{title:"信息集管理",visible:e.formControl.visible,refresh:e.formControl.refresh,height:"150px",form:e.form,rules:e.rules,url:e.saveUrl,updateUrl:e.updateUrl},on:{"update:visible":function(t){return e.$set(e.formControl,"visible",t)},"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)}}},[a("commonForm",[a("formRow",{attrs:{label:"信息集名称",required:"",rule:e.rules.name}},[a("formInput",{attrs:{placeholder:"请输入应用组名称",rule:e.rules.name},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"table-title"},[t("span",[this._v("字段组")])])}]};var Ga={components:{SelectList:Ft},data:function(){return{isAdd:!1,searchText:"",checkedTable:[],listData:[],treeProps:{label:"nameCn",value:"id"},searchData:{name:"",orderBy:"",sysAppTableFieldGroupId:null},form:{sysTableFieldIds:[],sysAppTableFieldGroupId:""},rules:{sysTableFieldIds:{required:!0}},changeForm:{name:"",html:"",script:""},changeRules:{name:{required:!0},html:{required:!0},script:{required:!0}},formControl:{refresh:!1,visible:!1},groupColumns:[{text:"字段名称",align:"left",dataIndex:"name",formatter:function(e){return"["+e.row.nameEn+"] "+e.row.name}}],url:this.$baseUrl+"sys/sysapp/fieldSet/list",saveUrl:this.$baseUrl+"sys/sysapp/fieldSet/add",updateUrl:this.$baseUrl+"sys/sysapp/fieldSet/modify",delUrl:this.$baseUrl+"sys/sysapp/fieldSet/delete",listUrl:this.$baseUrl+"sys/sysapp/fieldSet/sysTableField/list",sortUrl:this.$baseUrl+"sys/sysapp/fieldSet/sort/swap",dragUrl:this.$baseUrl+"sys/sysapp/fieldSet/sort/modify"}},watch:{},mounted:function(){},methods:{dragEnd:function(e,t){var a=this,o=this.$refs.commonTable.data,r={data:{sourceId:o[t].id,targetId:o[e].id,type:e>t?"1":"0"},url:this.dragUrl};this.$ajaxPost(r,!0,function(r){if(200===r.code)a.$showMsg("success","移动成功");else{var s=o.splice(t,1)[0];o.splice(e,0,s),a.$showMsg("error",r.message)}a.formControl.refresh=!0})},beforeSave:function(){this.isAdd||(this.changeForm.html=this.changeForm.html.replace(/\n/g,"<br>"),this.changeForm.script=this.changeForm.script.replace(/[\n\s]/g,"").replace(/function/g,"function "))},onSearch:function(){this.searchData.name=this.searchText},addRow:function(){for(var e in this.form)this.form[e]=null;this.form.sysAppTableFieldGroupId=this.searchData.sysAppTableFieldGroupId,this.isAdd=!0,this.loadListData(),this.formControl.visible=!0},changeRow:function(e){var t=this.$deepClone(e);t.html=t.html?t.html.replace(/<br>/g,"\n"):"",t.script=t.script?this.$dataStrBeautify(JSON.parse(t.script)):"",this.changeForm=t,this.isAdd=!1,this.formControl.visible=!0},delRow:function(e){var t=this;!e&&this.checkedTable.length<1?this.$showMsg("error","请选择需要删除的数据"):this.$showConfirm("确认删除该数据？",function(){var a={data:{ids:e?[e.id]:t.checkedTable},url:t.delUrl};t.$ajaxPost(a,!0,function(e){200===e.code?(t.formControl.refresh=!0,t.$showMsg("success","删除成功")):t.$showMsg("error",e.message)})})},moveUp:function(e){var t=this,a=this.$refs.commonTable.data;if(0!==e.$index){var o={data:{ids:[e.id,a[e.$index-1].id]},url:this.sortUrl};this.$ajaxPost(o,!0,function(e){200===e.code?(t.formControl.refresh=!0,t.$showMsg("success","上移成功")):t.$showMsg("error",e.message)})}else this.$showMsg("error","第一条无法上移")},moveDown:function(e){var t=this,a=this.$refs.commonTable.data;if(e.$index!==a.length-1){var o={data:{ids:[e.id,a[e.$index+1].id]},url:this.sortUrl};this.$ajaxPost(o,!0,function(e){200===e.code?(t.formControl.refresh=!0,t.$showMsg("success","下移成功")):t.$showMsg("error",e.message)})}else this.$showMsg("error","最后一条无法下移")},checkedChange:function(e){this.checkedTable=e.map(function(e){return e.id})},rowClick:function(e){this.$emit("rowClick",e)},searchList:function(e){this.loadListData(e)},loadListData:function(e){var t=this,a={data:{nameCn:e,sysAppTableFieldGroupId:this.searchData.sysAppTableFieldGroupId},url:this.listUrl};this.$ajaxPost(a,!0,function(e){if(200===e.code){var a=t.$refs.commonTable.data.map(function(e){return e.sysTableId});t.listData=e.data.filter(function(e){return e.name="["+e.nameEn+"] "+e.nameCn,!a.includes(e.id)}),console.log("this.listData"),console.log(t.listData)}else t.$showMsg("error",e.message)})},change:function(e){this.form.sysTableFieldIds=e.map(function(e){return e.id})}}},Wa={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"fieldTable"},[e._m(0),e._v(" "),a("commonTable",{ref:"commonTable",staticClass:"paddingY",attrs:{dragable:"",autoHeight:"",autoOperate:"",showSelect:"",refresh:e.formControl.refresh,gridColumns:e.groupColumns,url:e.url,search:e.searchData,layout:"total,sizes, prev, pager, next"},on:{"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)},changeRow:e.changeRow,delRow:e.delRow,moveUp:e.moveUp,moveDown:e.moveDown,checkedChange:e.checkedChange,rowClick:e.rowClick,dragEnd:e.dragEnd}},[a("commonSearch",[a("el-button",{attrs:{slot:"left",size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addRow()}},slot:"left"},[e._v("添加")]),e._v(" "),a("el-button",{attrs:{slot:"left",size:"mini",type:"danger",icon:"el-icon-delete"},on:{click:function(t){return e.delRow()}},slot:"left"},[e._v("删除")]),e._v(" "),a("formInput",{staticClass:"radius mini",attrs:{slot:"right",placeholder:"名称",suffixIcon:"el-icon-search"},on:{iconClick:e.onSearch},slot:"right",model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})],1),e._v(" "),a("commonDialog",{attrs:{title:"信息集管理",visible:e.formControl.visible,refresh:e.formControl.refresh,width:e.isAdd?"550px":"1100px",form:e.isAdd?e.form:e.changeForm,rules:e.isAdd?e.rules:e.changeRules,url:e.saveUrl,updateUrl:e.updateUrl,beforeSave:e.beforeSave},on:{"update:visible":function(t){return e.$set(e.formControl,"visible",t)},"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)}}},[e.isAdd?a("SelectList",{ref:"selectList",attrs:{multiple:"",filter:"",options:e.listData},on:{change:e.change,onSearch:e.searchList}}):e._e(),e._v(" "),a("commonForm",{directives:[{name:"show",rawName:"v-show",value:!e.isAdd,expression:"!isAdd"}]},[a("formRow",{attrs:{label:"信息集名称",required:"",rule:e.changeRules.name}},[a("formInput",{attrs:{placeholder:"请输入应用组名称",rule:e.changeRules.name},model:{value:e.changeForm.name,callback:function(t){e.$set(e.changeForm,"name",t)},expression:"changeForm.name"}})],1),e._v(" "),a("formRow",{attrs:{top:"",label:"html",required:"",rule:e.changeRules.html}},[a("formInput",{attrs:{type:"textarea",rows:15,placeZholder:"请输入html",rule:e.changeRules.html},model:{value:e.changeForm.html,callback:function(t){e.$set(e.changeForm,"html",t)},expression:"changeForm.html"}})],1),e._v(" "),a("formRow",{attrs:{top:"",label:"script",required:"",rule:e.changeRules.script}},[a("formInput",{attrs:{type:"textarea",rows:15,placeholder:"请输入script",rule:e.changeRules.script},model:{value:e.changeForm.script,callback:function(t){e.$set(e.changeForm,"script",t)},expression:"changeForm.script"}})],1)],1)],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"table-title"},[t("span",[this._v("字段")])])}]};var Ka={components:{AppTable:a("C7Lr")({name:"",data:function(){return{searchText:"",checkedTable:[],searchData:{code:"",name:"",orderBy:""},form:{name:"",code:""},rules:{name:{required:!0},code:{required:!0}},formControl:{refresh:!1,visible:!1},groupColumns:[{text:"应用名称",align:"center",dataIndex:"name"},{text:"应用code",align:"center",dataIndex:"code"},{text:"操作",align:"center",width:"70",formatter:function(e){return{showDropDown:!0,showText:"操作",data:[{text:"修改",class:"blue",eName:"changeRow"},{text:"删除",class:"red",eName:"delRow"}]}}}],url:this.$baseUrl+"sys/sysapp/list",saveUrl:this.$baseUrl+"sys/sysapp/add",updateUrl:this.$baseUrl+"sys/sysapp/modify",delUrl:this.$baseUrl+"sys/sysapp/delete"}},watch:{},mounted:function(){},methods:{onSearch:function(){this.searchData.name=this.searchText},addRow:function(){for(var e in this.form)this.form[e]=null;this.formControl.visible=!0},changeRow:function(e){this.form=this.$deepClone(e),this.formControl.visible=!0},delRow:function(e){var t=this;!e&&this.checkedTable.length<1?this.$showMsg("error","请选择需要删除的数据"):this.$showConfirm("确认删除该数据？",function(){var a={data:{ids:e?[e.id]:t.checkedTable},url:t.delUrl};t.$ajaxPost(a,!0,function(e){200===e.code?(t.formControl.refresh=!0,t.$showMsg("success","删除成功")):t.$showMsg("error",e.message)})})},checkedChange:function(e){this.checkedTable=e.map(function(e){return e.id})},rowClick:function(e){this.$emit("rowClick",e)}}},Oa,!1,function(e){a("SMEv")},null,null).exports,AppGroupTable:a("C7Lr")({name:"",data:function(){return{searchText:"",checkedTable:[],searchData:{name:"",orderBy:"",sysAppId:null},form:{name:"",sysAppId:""},rules:{name:{required:!0}},formControl:{refresh:!1,visible:!1},groupColumns:[{text:"信息集组名称",align:"center",dataIndex:"name"}],url:this.$baseUrl+"sys/sysapp/tableGroup/list",saveUrl:this.$baseUrl+"sys/sysapp/tableGroup/add",updateUrl:this.$baseUrl+"sys/sysapp/tableGroup/modify",delUrl:this.$baseUrl+"sys/sysapp/tableGroup/delete",sortUrl:this.$baseUrl+"sys/sysapp/tableGroup/sort/swap",dragUrl:this.$baseUrl+"sys/sysapp/tableGroup/sort/modify"}},watch:{},mounted:function(){},methods:{dragEnd:function(e,t){var a=this,o=this.$refs.commonTable.data,r={data:{sourceId:o[t].id,targetId:o[e].id,type:e>t?"1":"0"},url:this.dragUrl};this.$ajaxPost(r,!0,function(r){if(200===r.code)a.$showMsg("success","移动成功");else{var s=o.splice(t,1)[0];o.splice(e,0,s),a.$showMsg("error",r.message)}a.formControl.refresh=!0})},onSearch:function(){this.searchData.name=this.searchText},addRow:function(){for(var e in this.form)this.form[e]=null;this.form.sysAppId=this.searchData.sysAppId,this.formControl.visible=!0},changeRow:function(e){this.form=this.$deepClone(e),this.formControl.visible=!0},delRow:function(e){var t=this;!e&&this.checkedTable.length<1?this.$showMsg("error","请选择需要删除的数据"):this.$showConfirm("确认删除该数据？",function(){var a={data:{ids:e?[e.id]:t.checkedTable},url:t.delUrl};t.$ajaxPost(a,!0,function(e){200===e.code?(t.formControl.refresh=!0,t.$showMsg("success","删除成功")):t.$showMsg("error",e.message)})})},moveUp:function(e){var t=this,a=this.$refs.commonTable.data;if(0!==e.$index){var o={data:{ids:[e.id,a[e.$index-1].id]},url:this.sortUrl};this.$ajaxPost(o,!0,function(e){200===e.code?(t.formControl.refresh=!0,t.$showMsg("success","上移成功")):t.$showMsg("error",e.message)})}else this.$showMsg("error","第一条无法上移")},moveDown:function(e){var t=this,a=this.$refs.commonTable.data;if(e.$index!==a.length-1){var o={data:{ids:[e.id,a[e.$index+1].id]},url:this.sortUrl};this.$ajaxPost(o,!0,function(e){200===e.code?(t.formControl.refresh=!0,t.$showMsg("success","下移成功")):t.$showMsg("error",e.message)})}else this.$showMsg("error","最后一条无法下移")},checkedChange:function(e){this.checkedTable=e.map(function(e){return e.id})},rowClick:function(e){this.$emit("rowClick",e)}}},ja,!1,function(e){a("KqwR")},null,null).exports,AppListTable:a("C7Lr")(Ba,za,!1,function(e){a("zIyC")},null,null).exports,FieldGroupTable:a("C7Lr")({name:"",data:function(){return{searchText:"",checkedTable:[],treeProps:{label:"nameCn",value:"id"},searchData:{name:"",orderBy:"",sysAppTableSetId:null},form:{name:"",sysAppTableSetId:""},rules:{name:{required:!0}},formControl:{refresh:!1,visible:!1},groupColumns:[{text:"字段组名称",align:"center",dataIndex:"name"}],url:this.$baseUrl+"sys/sysapp/fieldGroup/list",saveUrl:this.$baseUrl+"sys/sysapp/fieldGroup/add",updateUrl:this.$baseUrl+"sys/sysapp/fieldGroup/modify",delUrl:this.$baseUrl+"sys/sysapp/fieldGroup/delete",sortUrl:this.$baseUrl+"sys/sysapp/fieldGroup/sort/swap",dragUrl:this.$baseUrl+"sys/sysapp/fieldGroup/sort/modify"}},watch:{},mounted:function(){},methods:{dragEnd:function(e,t){var a=this,o=this.$refs.commonTable.data,r={data:{sourceId:o[t].id,targetId:o[e].id,type:e>t?"1":"0"},url:this.dragUrl};this.$ajaxPost(r,!0,function(r){if(200===r.code)a.$showMsg("success","移动成功");else{var s=o.splice(t,1)[0];o.splice(e,0,s),a.$showMsg("error",r.message)}a.formControl.refresh=!0})},onSearch:function(){this.searchData.name=this.searchText},addRow:function(){for(var e in this.form)this.form[e]=null;this.form.sysAppTableSetId=this.searchData.sysAppTableSetId,this.formControl.visible=!0},changeRow:function(e){this.form=this.$deepClone(e),this.formControl.visible=!0},delRow:function(e){var t=this;!e&&this.checkedTable.length<1?this.$showMsg("error","请选择需要删除的数据"):this.$showConfirm("确认删除该数据？",function(){var a={data:{ids:e?[e.id]:t.checkedTable},url:t.delUrl};t.$ajaxPost(a,!0,function(e){200===e.code?(t.formControl.refresh=!0,t.$showMsg("success","删除成功")):t.$showMsg("error",e.message)})})},moveUp:function(e){var t=this,a=this.$refs.commonTable.data;if(0!==e.$index){var o={data:{ids:[e.id,a[e.$index-1].id]},url:this.sortUrl};this.$ajaxPost(o,!0,function(e){200===e.code?(t.formControl.refresh=!0,t.$showMsg("success","上移成功")):t.$showMsg("error",e.message)})}else this.$showMsg("error","第一条无法上移")},moveDown:function(e){var t=this,a=this.$refs.commonTable.data;if(e.$index!==a.length-1){var o={data:{ids:[e.id,a[e.$index+1].id]},url:this.sortUrl};this.$ajaxPost(o,!0,function(e){200===e.code?(t.formControl.refresh=!0,t.$showMsg("success","下移成功")):t.$showMsg("error",e.message)})}else this.$showMsg("error","最后一条无法下移")},checkedChange:function(e){this.checkedTable=e.map(function(e){return e.id})},rowClick:function(e){this.$emit("rowClick",e)},checkeChange:function(e,t){this.form.sysTableIds=t}}},Ha,!1,function(e){a("bagb")},null,null).exports,FieldTable:a("C7Lr")(Ga,Wa,!1,function(e){a("Wjtx")},null,null).exports},data:function(){return{pageTitle:"应用管理",formControl:{groupRefresh:!1,listRefresh:!1,fieldRefresh:!1}}},watch:{},mounted:function(){},methods:{clickApp:function(e){this.$refs.AppGroupTable.searchData.sysAppId=e?e.id:""},clickAppGroup:function(e){this.$refs.AppListTable.searchData.sysAppTableGroupId=e?e.id:""},clickAppList:function(e){this.$refs.FieldGroupTable.searchData.sysAppTableSetId=e?e.id:""},clickFieldGroup:function(e){this.$refs.FieldTable.searchData.sysAppTableFieldGroupId=e?e.id:""},changeWidth:function(e){this.formControl.groupRefresh=!0,this.formControl.listRefresh=!0,this.formControl.fieldRefresh=!0}}},Xa={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"propertyManager-wrapper",attrs:{max:"",width:"20%",local:"property_app"},on:{changeWidth:e.changeWidth}},[a("commonTitle",{attrs:{slot:"title",showShadow:"",title:e.pageTitle},slot:"title"}),e._v(" "),a("AppTable",{staticClass:"border",attrs:{slot:"left"},on:{rowClick:e.clickApp},slot:"left"}),e._v(" "),a("commonBody",{attrs:{slot:"right",max:"",local:"property_appGroup",width:"25%",refresh:e.formControl.groupRefresh},on:{changeWidth:e.changeWidth,"update:refresh":function(t){return e.$set(e.formControl,"groupRefresh",t)}},slot:"right"},[a("AppGroupTable",{ref:"AppGroupTable",staticClass:"border",attrs:{slot:"left"},on:{rowClick:e.clickAppGroup},slot:"left"}),e._v(" "),a("commonBody",{attrs:{slot:"right",max:"",local:"property_appList",width:"33%",changeWidth:"",refresh:e.formControl.listRefresh},on:{"update:refresh":function(t){return e.$set(e.formControl,"listRefresh",t)}},slot:"right"},[a("AppListTable",{ref:"AppListTable",staticClass:"border",attrs:{slot:"left"},on:{rowClick:e.clickAppList},slot:"left"}),e._v(" "),a("commonBody",{attrs:{slot:"right",max:"",local:"property_fieldGroup",width:"50%",changeWidth:"",refresh:e.formControl.fieldRefresh},on:{"update:refresh":function(t){return e.$set(e.formControl,"fieldRefresh",t)}},slot:"right"},[a("FieldGroupTable",{ref:"FieldGroupTable",staticClass:"border",attrs:{slot:"left"},on:{rowClick:e.clickFieldGroup},slot:"left"}),e._v(" "),a("FieldTable",{ref:"FieldTable",staticClass:"border",attrs:{slot:"right"},slot:"right"})],1)],1)],1)],1)},staticRenderFns:[]};var Ya=a("C7Lr")(Ka,Xa,!1,function(e){a("+vvk")},null,null).exports,Qa={name:"groupManager",components:{},data:function(){return{pageTitle:"信息项类别维护管理",addOrUpdate:!0,addUrl:this.$baseUrl+"sys/systable/type/addSysTableType",updateUrl:this.$baseUrl+"sys/systable/type/updateSysTableType",deleteUrl:this.$baseUrl+"sys/systable/type/delSysTableType",checkedVal:null,searchData:{},total:0,treeData:[],formControl:{visible:!1,refresh:!1,transferVisible:!1},gridColumns:[{text:"类别中文名称",align:"center",dataIndex:"nameCn"},{text:"类别英文名称",align:"center",dataIndex:"nameEn"},{text:"排序",align:"center",dataIndex:"sort"},{text:"操作",align:"center",fixed:"right",formatter:function(e){return{showDropDown:!0,showText:"操作",data:[{text:"修改",class:"blue",eName:"changeRow"},{text:"删除",class:"blue",eName:"delRow"}]}}}],tableData:[],url:this.$baseUrl+"sys/systable/type/findAllSysTableType",form:{nameCn:"",nameEn:"",sort:"",id:""},rules:{nameCn:{required:!0},nameEn:{required:!0},sort:{required:!0,integer:!0}}}},mounted:function(){this.loadTable()},watch:{"formControl.refresh":function(e){e&&this.loadTable()}},methods:{searchClick:function(e){this.loadTable()},loadTable:function(){var e=this,t={url:this.url};this.$ajaxPost(t,!0,function(t){200===t.code?e.tableData=t.data:e.$showMsg("error",t.message)})},nodeClick:function(e){this.loadTable()},addRow:function(){for(var e in this.addOrUpdate=!0,this.form)this.form[e]=null;this.formControl.visible=!0},changeRow:function(e){for(var t in this.addOrUpdate=!1,console.log(this.addOrUpdate),this.form)this.form[t]=e[t];this.formControl.visible=!0},delRow:function(e){var t=this;!e&&this.tableData.length<1?this.$showMsg("error","请选择需要删除的数据"):this.$showConfirm("确认删除该数据？",function(){var a={url:t.$baseUrl+"sys/systable/type/delSysTableType?",data:{id:e.id}};t.$ajaxPost(a,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.loadTable()):t.$showMsg("error",e.message)})})},save:function(e){var t=this,a=this.addOrUpdate?this.addUrl:this.updateUrl,o=!0;if(this.rules&&(o=!!this.$validate.validRules(this.rules,this.form)),1==o){e();var r={url:a,data:this.form};this.$ajaxPost(r,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.formControl.visible=!1,t.loadTable()):t.$showMsg("error",e.message)})}},back:function(){this.$router.go(-1)}}},Ja={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"groupManager-wrapper",attrs:{local:"groupManager"}},[a("commonTitle",{attrs:{slot:"title",showShadow:"",title:e.pageTitle},slot:"title"},[a("el-button",{attrs:{slot:"right",size:"mini",type:"primary",icon:"el-icon-back"},on:{click:function(t){return e.back()}},slot:"right"},[e._v("返回")])],1),e._v(" "),a("commonTable",{staticClass:"padding",attrs:{autoHeight:"",gridColumns:e.gridColumns,search:e.searchData,total:e.total,refresh:e.formControl.refresh,options:e.tableData},on:{"update:search":function(t){e.searchData=t},"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)},changeRow:e.changeRow,delRow:e.delRow}},[a("commonSearch",[a("el-button",{attrs:{slot:"left",size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addRow()}},slot:"left"},[e._v("添加")])],1),e._v(" "),a("commonDialog",{attrs:{control:e.formControl,visible:e.formControl.visible,title:"信息项维护",form:e.form,rules:e.rules,save:e.save},on:{"update:control":function(t){e.formControl=t},"update:visible":function(t){return e.$set(e.formControl,"visible",t)}}},[a("commonForm",{attrs:{labelWidth:"180px"}},[a("formRow",{attrs:{label:"类别中文名称",required:"",rule:e.rules.nameCn}},[a("formInput",{attrs:{placeholder:"请输入",rule:e.rules.nameCn},model:{value:e.form.nameCn,callback:function(t){e.$set(e.form,"nameCn",t)},expression:"form.nameCn"}})],1),e._v(" "),a("formRow",{attrs:{label:"类别英文名称",required:"",rule:e.rules.nameEn}},[a("formInput",{attrs:{placeholder:"请输入",rule:e.rules.nameEn},model:{value:e.form.nameEn,callback:function(t){e.$set(e.form,"nameEn",t)},expression:"form.nameEn"}})],1),e._v(" "),a("formRow",{attrs:{label:"排序",required:"",rule:e.rules.sort}},[a("formInput",{attrs:{placeholder:"请输入",rule:e.rules.sort},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1)],1)],1)],1)],1)},staticRenderFns:[]};var Za=a("C7Lr")(Qa,Ja,!1,function(e){a("Cair")},null,null).exports,eo={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"categoryManager-wrapper",attrs:{local:"categoryManager"}},[a("commonTitle",{attrs:{slot:"title",showShadow:"",title:e.pageTitle},slot:"title"},[a("el-button",{attrs:{slot:"right",size:"mini",type:"primary",icon:"el-icon-back"},on:{click:function(t){return e.back()}},slot:"right"},[e._v("返回")])],1),e._v(" "),a("commonTablistY",{attrs:{slot:"left",options:e.tabsData},on:{change:e.changeTab},slot:"left",model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}}),e._v(" "),a("commonTable",{staticClass:"padding",attrs:{slot:"right",autoHeight:"",showPagination:"",gridColumns:e.gridColumns,search:e.searchData,total:e.total,refresh:e.formControl.refresh,options:e.tableData},on:{"update:search":function(t){e.searchData=t},"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)},changeRow:e.changeRow,delRow:e.delRow},slot:"right"},[a("commonSearch",[a("el-button",{attrs:{slot:"left",size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addRow()}},slot:"left"},[e._v("添加")]),e._v(" "),a("div",{attrs:{slot:"right"},slot:"right"},[a("formInput",{staticClass:"radius large",attrs:{size:"large",placeholder:"请输入属性中文名查询",suffixIcon:"el-icon-search"},on:{iconClick:e.searchClick},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}})],1)],1),e._v(" "),a("commonDialog",{attrs:{control:e.formControl,visible:e.formControl.visible,title:"信息项维护",form:e.form,rules:e.rules,save:e.save},on:{"update:control":function(t){e.formControl=t},"update:visible":function(t){return e.$set(e.formControl,"visible",t)}}},[a("commonForm",[a("formRow",{attrs:{label:"中文名",required:"",rule:e.rules.nameCn}},[a("formInput",{attrs:{placeholder:"请输入",rule:e.rules.nameCn},model:{value:e.form.nameCn,callback:function(t){e.$set(e.form,"nameCn",t)},expression:"form.nameCn"}})],1),e._v(" "),a("formRow",{attrs:{label:"英文名",required:"",rule:e.rules.nameEn}},[a("formInput",{attrs:{placeholder:"请输入",rule:e.rules.nameEn},model:{value:e.form.nameEn,callback:function(t){e.$set(e.form,"nameEn",t)},expression:"form.nameEn"}})],1),e._v(" "),a("formRow",{attrs:{label:"数据库中的表名",required:"",rule:e.rules.dbTableName}},[a("formInput",{attrs:{placeholder:"请输入",rule:e.rules.dbTableName},model:{value:e.form.dbTableName,callback:function(t){e.$set(e.form,"dbTableName",t)},expression:"form.dbTableName"}})],1),e._v(" "),a("formRow",{attrs:{label:"表描述",required:"",rule:e.rules.description}},[a("formInput",{attrs:{placeholder:"请输入",rule:e.rules.description},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),e._v(" "),a("formRow",{attrs:{label:"是否主集表",required:"",rule:e.rules.isMasterTable}},[a("formSelect",{attrs:{options:e.options,rule:e.rules.isMasterTable,placeholder:"请选择"},model:{value:e.form.isMasterTable,callback:function(t){e.$set(e.form,"isMasterTable",t)},expression:"form.isMasterTable"}})],1),e._v(" "),a("formRow",{attrs:{label:"排序",required:"",rule:e.rules.sort}},[a("formInput",{attrs:{placeholder:"请输入",rule:e.rules.sort},model:{value:e.form.sort,callback:function(t){e.$set(e.form,"sort",t)},expression:"form.sort"}})],1),e._v(" "),a("formRow",{attrs:{label:"状态",required:"",rule:e.rules.status}},[a("formSelect",{attrs:{options:e.options1,rule:e.rules.status,placeholder:"请选择"},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}})],1)],1)],1)],1)],1)},staticRenderFns:[]};var to=a("C7Lr")({name:"infoManager",components:{},data:function(){return{pageTitle:"信息集实体管理",addOrUpdate:!0,addUrl:this.$baseUrl+"sys/systable/addSysTable",updateUrl:this.$baseUrl+"sys/systable/updateSysTable",selected:0,checkedVal:null,searchData:{nameCn:"",sysTableTypeId:"",orderBy:"",pageIndex:1,pageSize:20},query:"",options:[{name:"是",id:"1"},{name:"否",id:"0"}],options1:[{name:"可用",id:"1"},{name:"不可用",id:"0"}],total:0,size:"large",tabsData:[],formControl:{visible:!1,refresh:!1,transferVisible:!1},gridColumns:[{text:"中文名",align:"center",dataIndex:"nameCn"},{text:"英文名",align:"center",dataIndex:"nameEn"},{text:"数据库中的表名",align:"center",dataIndex:"dbTableName"},{text:"表描述",align:"center",dataIndex:"description"},{text:"是否主集表",align:"center",dataIndex:"isMasterTable",formatter:function(e){return{0:"否",1:"是"}[e.row.isMasterTable]}},{text:"排序",align:"center",dataIndex:"sort"},{text:"状态",align:"center",dataIndex:"status",formatter:function(e){return{0:"不可用",1:"可用"}[e.row.status]}},{text:"操作",align:"center",fixed:"right",formatter:function(e){return{showDropDown:!0,showText:"操作",data:[{text:"修改",class:"blue",eName:"changeRow"},{text:"删除",class:"blue",eName:"delRow"}]}}}],tableData:[],url:this.$baseUrl+"sys/systable/findSysTableByPages",form:{sysTableTypeId:"",nameCn:"",nameEn:"",dbTableName:"",description:"",isMasterTable:"",sort:"",status:"",id:""},rules:{nameCn:{required:!0},nameEn:{required:!0},dbTableName:{required:!0},description:{required:!0},isMasterTable:{required:!0},sort:{required:!0,integer:!0},status:{required:!0}}}},mounted:function(){this.loadData()},watch:{"formControl.refresh":function(e){},searchData:{handler:function(e){this.loadTable()},deep:!0}},methods:{searchClick:function(e){this.searchData.nameCn=this.query,this.loadTable()},changeTab:function(e){this.searchData.pageIndex=1,this.searchData.sysTableTypeId=e.id},loadData:function(){var e=this,t={url:this.$baseUrl+"sys/systable/type/findAllSysTableType"};this.$ajaxPost(t,!0,function(t){200===t.code?(e.tabsData=t.data.map(function(e){return e.name=e.nameCn,e}),e.searchData.sysTableTypeId=e.tabsData[e.selected].id):e.$showMsg("error",t.message)})},loadTable:function(){var e=this,t={url:this.$baseUrl+"sys/systable/findSysTableByPages",data:this.searchData};this.$ajaxPost(t,!0,function(t){200===t.code?(e.tableData=t.data.data,e.total=t.data.totalCount):e.$showMsg("error",t.message)})},addRow:function(){for(var e in this.addOrUpdate=!0,this.form)this.form[e]=null;this.form.sysTableTypeId=this.tabsData[this.selected].id,this.formControl.visible=!0},changeRow:function(e){for(var t in this.addOrUpdate=!1,this.form)this.form[t]=e[t];this.formControl.visible=!0},delRow:function(e){var t=this;!e&&this.tableData.length<1?this.$showMsg("error","请选择需要删除的数据"):this.$showConfirm("确认删除该数据？",function(){var a={url:t.$baseUrl+"sys/systable/delSysTableById?",data:{id:e.id}};t.$ajaxPost(a,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.loadTable()):t.$showMsg("error",e.message)})})},save:function(e){var t=this,a=this.addOrUpdate?this.addUrl:this.updateUrl,o=!0;if(this.rules&&(o=!!this.$validate.validRules(this.rules,this.form)),1==o){e();var r={url:a,data:this.form};this.$ajaxPost(r,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.formControl.visible=!1,t.loadTable()):t.$showMsg("error",e.message)})}},back:function(){this.$router.go(-1)}}},eo,!1,function(e){a("AICY")},null,null).exports,ao={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"conditionalErrorConfig-wrapper",attrs:{local:"conditionalErrorConfig"}},[a("commonTitle",{attrs:{slot:"title",showShadow:"",title:e.pageTitle},slot:"title"}),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"tableErrorConfig",staticClass:"content tableBody padding"},[a("commonTablistX",{staticClass:"padding",attrs:{position:"top",options:e.tabsXData},on:{change:e.changeTab},model:{value:e.checkedX,callback:function(t){e.checkedX=t},expression:"checkedX"}})],1),e._v(" "),a("commonTable",{staticClass:"padding",attrs:{autoHeight:"",showPagination:"",total:e.total,gridColumns:e.gridColumns,search:e.searchData,refresh:e.formControl.refresh,options:e.tableData},on:{"update:search":function(t){e.searchData=t},"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)},changeRow:e.changeRow,delRow:e.delRow}},[a("commonSearch",[a("el-button",{attrs:{slot:"left",size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addRow()}},slot:"left"},[e._v("添加")]),e._v(" "),a("div",{attrs:{slot:"right"},slot:"right"},[a("formInput",{staticClass:"radius large",attrs:{size:"large",placeholder:"查询条件名称查询",suffixIcon:"el-icon-search"},on:{iconClick:e.searchClick},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}})],1)],1),e._v(" "),a("commonDialog",{attrs:{control:e.formControl,visible:e.formControl.visible,title:"信息项维护",form:e.form,rules:e.rules,save:e.save},on:{"update:control":function(t){e.formControl=t},"update:visible":function(t){return e.$set(e.formControl,"visible",t)}}},[a("commonForm",{attrs:{labelWidth:"180px"}},[a("formRow",{attrs:{label:"查错条件名称",required:"",rule:e.rules.name}},[a("formInput",{attrs:{placeholder:"请输入功能权限名称",rule:e.rules.name},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("formRow",{attrs:{label:"信息集",required:"",rule:e.rules.sysTableNameEn}},[a("formInput",{attrs:{placeholder:"请输入功能权限名称",rule:e.rules.sysTableNameEn},model:{value:e.form.sysTableNameEn,callback:function(t){e.$set(e.form,"sysTableNameEn",t)},expression:"form.sysTableNameEn"}})],1),e._v(" "),a("formRow",{attrs:{label:"查询条件部分",required:"",rule:e.rules.wherePart}},[a("formInput",{attrs:{type:"textarea",rows:5,placeholder:"请输入功能权限说明",rule:e.rules.wherePart},model:{value:e.form.wherePart,callback:function(t){e.$set(e.form,"wherePart",t)},expression:"form.wherePart"}})],1)],1)],1)],1)],1)},staticRenderFns:[]};var oo=a("C7Lr")({name:"conditionalErrorConfig",components:{},data:function(){return{pageTitle:"按条件差错",addOrUpdate:!0,searchData:{name:"",orderBy:"",pageIndex:1,pageSize:20,typeId:""},formControl:{refresh:!1,visible:!1},total:0,tableData:[],url:this.$baseUrl+"sys/check/condition/list",addUrl:this.$baseUrl+"sys/check/condition/add",updateUrl:this.$baseUrl+"sys/check/condition/modify",deleteUrl:this.$baseUrl+"sys/check/condition/delete",typeId:0,checkedX:0,tabsXData:[],query:"",gridColumns:[{text:"查询条件名称",align:"center",dataIndex:"name",width:"300"},{text:"信息集",align:"center",width:"300",dataIndex:"sysTableNameEn"},{text:"查询条件部分",align:"center",dataIndex:"wherePart"},{text:"操作",align:"center",fixed:"right",width:"70",formatter:function(e){return{showDropDown:!0,showText:"操作",data:[{text:"修改",class:"blue",eName:"changeRow"},{text:"删除",class:"blue",eName:"delRow"}]}}}],form:{id:"",createId:"",createTime:"",name:"",typeId:"",wherePart:"",sysTableNameEn:""},rules:{name:{required:!0},wherePart:{required:!0},sysTableNameEn:{required:!0}}}},mounted:function(){this.loadTabList()},watch:{searchData:{handler:function(e){this.loadTableData()},deep:!0}},computed:{},methods:{loadTabList:function(){var e=this,t={url:this.$baseUrl+"sys/check/type/list"};this.$ajaxPost(t,!0,function(t){200===t.code?(e.tabsXData=t.data,e.searchData.typeId=e.tabsXData[e.checkedX].id,e.typeId=e.tabsXData[e.checkedX].id):e.$showMsg("error",t.message)})},loadTableData:function(){var e=this;if(this.tabsXData.length>0){var t={url:this.$baseUrl+"sys/check/condition/list",data:this.searchData};this.$ajaxPost(t,!0,function(t){200===t.code?(e.tableData=t.data.data,e.total=t.data.totalCount):e.$showMsg("error",t.message)})}},changeTab:function(e){this.searchData.typeId=this.tabsXData[e.index].id,this.typeId=this.tabsXData[e.index].id},addRow:function(){for(var e in this.addOrUpdate=!0,this.form)this.form[e]=null;this.form.typeId=this.typeId,this.formControl.visible=!0},changeRow:function(e){for(var t in this.addOrUpdate=!1,this.form)this.form[t]=e[t];this.formControl.visible=!0},delRow:function(e){var t=this;!e&&this.tableData.length<1?this.$showMsg("error","请选择需要删除的数据"):this.$showConfirm("确认删除该数据？",function(){var a={url:t.deleteUrl,data:{ids:[e.id]}};t.$ajaxPost(a,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.loadTableData()):t.$showMsg("error",e.message)})})},save:function(e){var t=this,a=this.addOrUpdate?this.addUrl:this.updateUrl,o=!0;if(this.rules&&(o=!!this.$validate.validRules(this.rules,this.form)),1==o){e();var r={url:a,data:this.form};this.$ajaxPost(r,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.formControl.visible=!1,t.loadTableData()):t.$showMsg("error",e.message)})}},searchClick:function(){this.searchData.name=this.query,this.searchData.pageIndex=1},back:function(){this.$router.go(-1)}}},ao,!1,function(e){a("b3rI")},null,null).exports,ro={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"cadreSql-wrapper"},[a("commonTitle",{attrs:{slot:"title",showShadow:"",title:e.pageTitle},slot:"title"}),e._v(" "),a("commonTable",{staticClass:"padding",attrs:{autoHeight:"",gridColumns:e.gridColumns,search:e.searchData,refresh:e.formControl.refresh,options:e.tableData},on:{"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)},changeRow:e.changeRow,delRow:e.delRow,hrefRow:e.hrefRow,marksRow:e.marksRow}},[a("commonSearch",[a("el-button",{attrs:{slot:"left",size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addRow()}},slot:"left"},[e._v("新增标签类别")])],1)],1),e._v(" "),a("commonDialog",{attrs:{title:"标签类别配置",visible:e.formControl.visible,refresh:e.formControl.refresh,form:e.form,rules:e.rules,save:e.save},on:{"update:visible":function(t){return e.$set(e.formControl,"visible",t)},"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)}}},[a("commonForm",{attrs:{labelWidth:"150px"}},[a("formRow",{attrs:{label:"标签分类名称",required:"",rule:e.rules.tagCategoryName}},[a("formInput",{attrs:{placeholder:"请输入标签分类名称",rule:e.rules.tagCategoryName},model:{value:e.form.tagCategoryName,callback:function(t){e.$set(e.form,"tagCategoryName",t)},expression:"form.tagCategoryName"}})],1),e._v(" "),a("formRow",{directives:[{name:"show",rawName:"v-show",value:!e.addOrUpdate,expression:"!addOrUpdate"}],attrs:{label:"标签分类排序",required:"",rule:e.rules.tagCategorySort}},[a("formInput",{attrs:{placeholder:"请输入标签分类排序",rule:e.rules.tagCategorySort},model:{value:e.form.tagCategorySort,callback:function(t){e.$set(e.form,"tagCategorySort",t)},expression:"form.tagCategorySort"}})],1),e._v(" "),a("formRow",{attrs:{label:"标签应用的模型",required:"",rule:e.rules.tagModel}},[a("formSelect",{attrs:{options:e.options,placeholder:"请输入标签应用的模型",rule:e.rules.tagModel},model:{value:e.form.tagModel,callback:function(t){e.$set(e.form,"tagModel",t)},expression:"form.tagModel"}})],1)],1)],1)],1)},staticRenderFns:[]};var so=a("C7Lr")({name:"cadreSql",data:function(){return{pageTitle:"标签类别配置",query:"",total:0,searchData:{},addOrUpdate:!0,options:[{name:"CadreInfo",id:"CadreInfo"},{name:"DepartmentInfo",id:"DepartmentInfo"}],form:{id:"",tagCategoryName:"",tagCategorySort:"",tagModel:""},rules:{tagCategoryName:{required:!0},tagModel:{required:!0}},formControl:{visible:!1,refresh:!1},gridColumns:[{text:"标签分类名称",align:"center",dataIndex:"tagCategoryName"},{text:"标签分类排序",align:"center",dataIndex:"tagCategorySort"},{text:"标签应用的模型",align:"center",dataIndex:"tagModel"},{text:"操作",align:"center",width:"70",formatter:function(e){return{showDropDown:!0,showText:"操作",data:[{text:"编辑标签项",class:"blue",eName:"hrefRow"},{text:"执行所有标签",class:"blue",eName:"marksRow"},{text:"修改",class:"blue",eName:"changeRow"},{text:"删除",class:"red",eName:"delRow"}]}}}],tableData:[],url:this.$baseUrl+"sys/tag/getSysTagCategory",addUrl:this.$baseUrl+"sys/tag/saveSysTagCategory",updateUrl:this.$baseUrl+"sys/tag/updateSysTagCategory"}},mounted:function(){this.loadData()},computed:{},watch:{searchData:{handler:function(e){this.loadData()},deep:!0}},methods:{loadData:function(){var e=this,t={url:this.url,data:{},method:"get"};this.$ajaxPost(t,!0,function(t){200===t.code?e.tableData=t.data:e.$showMsg("error",t.message)})},searchClick:function(){this.query},addRow:function(){for(var e in this.addOrUpdate=!0,this.form)this.form[e]=null;this.formControl.visible=!0},changeRow:function(e){for(var t in this.addOrUpdate=!1,this.form)this.form[t]=e[t];this.formControl.visible=!0},hrefRow:function(e){this.$router.push({path:"EditLableItem",query:{sysTagCategoryId:e.id}})},marksRow:function(e){var t=this;!e&&this.tableData.length<1?this.$showMsg("error","请选择需要执行的数据"):this.$showConfirm("确认执行该数据？",function(){var a={url:t.$baseUrl+"sys/tag/markTags?",data:{sysTagCategoryId:e.id}};t.$ajaxPost(a,!0,function(e){200===e.code?(t.$showMsg("success","执行成功"),t.loadData()):t.$showMsg("error",e.message)})})},delRow:function(e){var t=this;!e&&this.tableData.length<1?this.$showMsg("error","请选择需要删除的数据"):this.$showConfirm("确认删除该数据？",function(){var a={url:t.$baseUrl+"sys/tag/deleteSysTagCategory?",data:{sysTagCategoryId:e.id}};t.$ajaxPost(a,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.loadData()):t.$showMsg("error",e.message)})})},save:function(e){var t=this,a=this.addOrUpdate?this.addUrl:this.updateUrl,o=!0;if(this.rules&&(o=!!this.$validate.validRules(this.rules,this.form)),o){e();var r={url:a,data:this.form};this.$ajaxPost(r,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.formControl.visible=!1,t.loadData()):t.$showMsg("error",e.message)})}},back:function(){this.$router.go(-1)}}},ro,!1,function(e){a("zUid")},null,null).exports,no={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"cadreSql-wrapper"},[a("commonTitle",{attrs:{slot:"title",showShadow:"",title:e.pageTitle},slot:"title"},[a("el-button",{attrs:{slot:"right",size:"mini",type:"primary",icon:"el-icon-back"},on:{click:function(t){return e.back()}},slot:"right"},[e._v("返回")])],1),e._v(" "),a("commonTable",{staticClass:"padding",attrs:{autoHeight:"",gridColumns:e.gridColumns,search:e.searchData,refresh:e.formControl.refresh,options:e.tableData},on:{"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)},changeRow:e.changeRow,delRow:e.delRow,execute:e.execute}},[a("commonSearch",[a("el-button",{attrs:{slot:"left",size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addRow()}},slot:"left"},[e._v("新增配置项")])],1)],1),e._v(" "),a("commonDialog",{attrs:{title:"标签项配置",visible:e.formControl.visible,refresh:e.formControl.refresh,form:e.form,rules:e.rules,save:e.save},on:{"update:visible":function(t){return e.$set(e.formControl,"visible",t)},"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)}}},[a("commonForm",{attrs:{labelWidth:"150px"}},[a("formRow",{attrs:{label:"标签名称",required:"",rule:e.rules.tag}},[a("formInput",{attrs:{placeholder:"请输入标签名称",rule:e.rules.tag},model:{value:e.form.tag,callback:function(t){e.$set(e.form,"tag",t)},expression:"form.tag"}})],1),e._v(" "),a("formRow",{attrs:{label:"标签统计sql",required:"",rule:e.rules.tagCountSql}},[a("formInput",{attrs:{type:"textarea",placeholder:"请输入标签统计sql",rule:e.rules.tagCountSql},model:{value:e.form.tagCountSql,callback:function(t){e.$set(e.form,"tagCountSql",t)},expression:"form.tagCountSql"}})],1),e._v(" "),a("formRow",{directives:[{name:"show",rawName:"v-show",value:!e.addOrUpdate,expression:"!addOrUpdate"}],attrs:{label:"标签排序",required:"",rule:e.rules.tagSort}},[a("formInput",{attrs:{placeholder:"请输入标签排序",rule:e.rules.tagSort},model:{value:e.form.tagSort,callback:function(t){e.$set(e.form,"tagSort",t)},expression:"form.tagSort"}})],1),e._v(" "),a("formRow",{attrs:{label:"标签sql",required:"",rule:e.rules.tagSql}},[a("formInput",{attrs:{type:"textarea",placeholder:"请输入标签sql",rule:e.rules.tagSql},model:{value:e.form.tagSql,callback:function(t){e.$set(e.form,"tagSql",t)},expression:"form.tagSql"}})],1),e._v(" "),a("formRow",{attrs:{label:"sql中标签列名称",required:"",rule:e.rules.tagTargetName}},[a("formInput",{attrs:{placeholder:"请输入sql中标签列名称",rule:e.rules.tagTargetName},model:{value:e.form.tagTargetName,callback:function(t){e.$set(e.form,"tagTargetName",t)},expression:"form.tagTargetName"}})],1)],1)],1)],1)},staticRenderFns:[]};var io=a("C7Lr")({name:"cadreSql",data:function(){return{pageTitle:"标签项编辑",searchData:{},addOrUpdate:!0,form:{id:"",tag:"",tagCategoryId:"",tagCountSql:"",tagSort:"",tagSql:"",tagTargetName:""},rules:{tag:{required:!0},tagCategoryId:{required:!0},tagCountSql:{required:!0},tagSql:{required:!0},tagTargetName:{required:!0}},formControl:{visible:!1,refresh:!1},gridColumns:[{text:"标签名称",align:"center",dataIndex:"tag"},{text:"标签统计sql",align:"center",dataIndex:"tagCountSql"},{text:"标签排序",align:"center",dataIndex:"tagSort"},{text:"标签sql",align:"center",dataIndex:"tagSql"},{text:"sql中标签列名称",align:"center",dataIndex:"tagTargetName"},{text:"操作",align:"center",width:"70",formatter:function(e){return{showDropDown:!0,showText:"操作",data:[{text:"修改",class:"blue",eName:"changeRow"},{text:"删除",class:"red",eName:"delRow"},{text:"执行",class:"blue",eName:"execute"}]}}}],tableData:[],url:this.$baseUrl+"sys/tag/getSysTag?",addUrl:this.$baseUrl+"sys/tag/saveSysTag",updateUrl:this.$baseUrl+"sys/tag/updateSysTag"}},mounted:function(){this.loadData()},computed:{sysTagCategoryId:function(){return this.$route.query.sysTagCategoryId}},watch:{searchData:{handler:function(e){this.loadData()},deep:!0}},methods:{loadData:function(){var e=this,t={url:this.url,method:"get",data:{sysTagCategoryId:this.sysTagCategoryId}};this.$ajaxPost(t,!0,function(t){200===t.code?e.tableData=t.data:e.$showMsg("error",t.message)})},searchClick:function(){this.query},addRow:function(){for(var e in this.addOrUpdate=!0,this.form)this.form[e]=null;this.form.tagCategoryId=this.sysTagCategoryId,this.formControl.visible=!0},changeRow:function(e){for(var t in this.addOrUpdate=!1,this.form)this.form[t]=e[t];this.form.tagCategoryId=this.sysTagCategoryId,this.formControl.visible=!0},execute:function(e){var t=this;!e&&this.tableData.length<1?this.$showMsg("error","请选择需要执行的数据"):this.$showConfirm("确认执行该数据？",function(){var a={url:t.$baseUrl+"sys/tag/markTag?",data:{sysTagId:e.id}};t.$ajaxPost(a,!0,function(e){200===e.code?(t.$showMsg("success","执行成功"),t.loadData()):t.$showMsg("error",e.message)})})},delRow:function(e){var t=this;!e&&this.tableData.length<1?this.$showMsg("error","请选择需要删除的数据"):this.$showConfirm("确认删除该数据？",function(){var a={url:t.$baseUrl+"sys/tag/deleteSysTag?",data:{sysTagId:e.id}};t.$ajaxPost(a,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.loadData()):t.$showMsg("error",e.message)})})},save:function(e){var t=this,a=this.addOrUpdate?this.addUrl:this.updateUrl,o=!0;if(this.rules&&(o=!!this.$validate.validRules(this.rules,this.form)),o){e();var r={url:a,data:this.form};this.$ajaxPost(r,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.formControl.visible=!1,t.loadData()):t.$showMsg("error",e.message)})}},back:function(){this.$router.go(-1)}}},no,!1,function(e){a("9Oht")},null,null).exports,lo={name:"logManager",data:function(){return{iconData:ae,selected:0,searchData:{parentld:""},addOrUpdateGroup:!0,addOrUpdate:!0,urlList:oe,groupList:[],groupForm:{icon:"",id:"",name:"",noDeal:"",sortNumber:"",type:""},groupRules:{name:{required:!0},icon:{required:!0}},form:{id:"",parentId:"",groupId:"",name:"",introduction:"",groupName:"",color:"",icon:"",type:"",url:"",noDeal:"",pageCount:"",sortNumber:""},rules:{name:{required:!0},introduction:{required:!0},color:{required:!0},icon:{required:!0},type:{required:!0},url:{required:!0}},formControl:{visible:!1,refresh:!1,groupvisible:!1,groupRefresh:!1},tabsData:[],gridColumns:[{text:"功能权限名称",align:"center",dataIndex:"name",formatter:function(e){return{showBtn:!0,type:"text primary",text:e.row.name,eName:"hrefRow"}}},{text:"功能权限说明",align:"center",dataIndex:"introduction"},{text:"页面数量",align:"center",dataIndex:"pageCount"},{text:"所属类别",align:"center",dataIndex:"groupName"},{text:"图标",align:"center",dataIndex:"icon",formatter:function(e){return{showIcon:!0,class:e.row.icon,style:"font-size: 20px"}}},{text:"颜色",align:"center",dataIndex:"color",formatter:function(e){return{showIcon:!0,class:"icon-yuan",style:"color: "+e.row.color}}},{text:"功能权限对应页面",align:"center",dataIndex:"url",formatter:function(e){var t="";return oe.forEach(function(a){a.id===e.row.url&&(t=a.name)}),t}},{text:"操作",align:"center",width:"70",formatter:function(e){return{showDropDown:!0,showText:"操作",data:[{text:"修改",class:"blue",eName:"changeRow"},{text:"详情",class:"blue",eName:"detailRow"},{text:"删除",class:"red",eName:"delRow"}]}}}],tableData:[],url:this.$baseUrl+"sys/permission/menuParentList"}},mounted:function(){this.loadData()},watch:{"formControl.refresh":function(e){}},methods:{loadData:function(){var e=this,t={url:this.url};this.$ajaxPost(t,!0,function(t){200===t.code?(e.tabsData=t.data,e.groupList=t.data,e.loadTable(e.tabsData[e.selected].id)):e.$showMsg("error",t.message)})},loadTable:function(e){var t=this,a={url:this.$baseUrl+"sys/permission/findHaveMenuListByParentId?",data:{parentId:e}};this.$ajaxPost(a,!0,function(e){200===e.code?t.tableData=e.data:t.$showMsg("error",e.message)})},changeTab:function(e){e.id&&this.loadTable(this.tabsData[this.selected].id)},addTab:function(){for(var e in this.addOrUpdateGroup=!0,this.groupForm)this.groupForm[e]=null;this.formControl.groupvisible=!0},changeInfo:function(e){for(var t in this.addOrUpdateGroup=!1,this.groupForm)this.groupForm[t]=e[t];this.formControl.groupvisible=!0},delTab:function(e){var t=this;!e&&this.tableData.length<1?this.$showMsg("error","请选择需要删除的数据"):this.$showConfirm("确认删除该数据？",function(){var a={url:t.$baseUrl+"sys/permission/deleteMenuParentById?",data:{id:e.id}};t.$ajaxPost(a,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.loadData()):t.$showMsg("error",e.message)})})},addRow:function(){for(var e in this.addOrUpdate=!0,this.form)this.form[e]=null;this.form.parentId=this.tabsData[this.selected].id,this.form.groupId=this.tabsData[this.selected].id,this.formControl.visible=!0},changeRow:function(e){for(var t in this.addOrUpdate=!0,this.form)this.form[t]=e[t];this.formControl.visible=!0},hrefRow:function(e){this.$router.push({path:"menuGroupConfig",query:{name:e.name,id:e.id}})},detailRow:function(e){alert("查看详情")},delRow:function(e){var t=this;!e&&this.tableData.length<1?this.$showMsg("error","请选择需要删除的数据"):this.$showConfirm("确认删除该数据？",function(){var a={url:t.$baseUrl+"sys/permission/deleteMenuById?",data:{menuId:e.id}};t.$ajaxPost(a,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.loadTable(t.tabsData[t.selected].id)):t.$showMsg("error",e.message)})})},saveGroup:function(e){var t=this,a=!0;if(this.rules&&(a=!!this.$validate.validRules(this.groupRules,this.groupForm)),a){e();var o={url:this.$baseUrl+"sys/permission/saveMenuParent",data:this.groupForm};this.$ajaxPost(o,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.formControl.groupvisible=!1,t.loadData()):t.$showMsg("error",e.message)})}},save:function(e){var t=this,a=!0;if(this.rules&&(a=!!this.$validate.validRules(this.rules,this.form)),1==a){e();var o={url:this.$baseUrl+"sys/permission/saveMenu",data:this.form};this.$ajaxPost(o,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.formControl.visible=!1,t.loadTable(t.tabsData[t.selected].id)):t.$showMsg("error",e.message)})}},back:function(){this.$router.go(-1)}}},co={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"menuGroup-wrapper",attrs:{local:"menuGroup"}},[a("commonTitle",{attrs:{slot:"title",showShadow:"",title:"功能权限组配置"},slot:"title"}),e._v(" "),a("div",{attrs:{slot:"left",local:"menuGroup"},slot:"left"},[a("commonTitle",{staticClass:"mini darkgray",attrs:{border:"",icon:"null",title:"功能权限分组",height:"50px"}}),e._v(" "),a("commonTablistY",{attrs:{options:e.tabsData,add:"添加功能组"},on:{change:e.changeTab,add:e.addTab},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{size:"mini",type:"text",icon:"iconfont icon-shezhi"},on:{click:function(a){return a.stopPropagation(),e.changeInfo(t.tab)}}}),e._v(" "),a("el-button",{staticClass:"red",attrs:{size:"mini",type:"text",icon:"iconfont icon-disabled"},on:{click:function(a){return a.stopPropagation(),e.delTab(t.tab)}}})]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1),e._v(" "),a("div",{attrs:{slot:"right"},slot:"right"},[a("commonTitle",{staticClass:"mini darkgray",attrs:{border:"",icon:"null",title:"功能权限列表",height:"50px"}}),e._v(" "),a("commonTable",{staticClass:"padding",attrs:{autoHeight:"",gridColumns:e.gridColumns,search:e.searchData,refresh:e.formControl.refresh,options:e.tableData},on:{"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)},changeRow:e.changeRow,delRow:e.delRow,detailRow:e.detailRow,hrefRow:e.hrefRow}},[a("commonSearch",[a("el-button",{attrs:{slot:"left",size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addRow()}},slot:"left"},[e._v("添加功能权限")])],1)],1)],1),e._v(" "),a("commonDialog",{attrs:{title:"功能权限组管理",height:"200px",visible:e.formControl.groupvisible,refresh:e.formControl.grouprefresh,form:e.groupForm,rules:e.groupRules,save:e.saveGroup},on:{"update:visible":function(t){return e.$set(e.formControl,"groupvisible",t)},"update:refresh":function(t){return e.$set(e.formControl,"grouprefresh",t)}}},[a("commonForm",[a("formRow",{attrs:{label:"功能权限组名称",required:"",rule:e.groupRules.name}},[a("formInput",{attrs:{placeholder:"请输入功能权限组名称",rule:e.groupRules.name},model:{value:e.groupForm.name,callback:function(t){e.$set(e.groupForm,"name",t)},expression:"groupForm.name"}})],1),e._v(" "),a("formRow",{attrs:{label:"功能权限组图标",required:"",rule:e.groupRules.icon}},[a("formSelect",{attrs:{placeholder:"请选择功能权限组图标",options:e.iconData,rule:e.groupRules.icon},scopedSlots:e._u([{key:"default",fn:function(e){return[a("span",{class:["blue","iconfont",e.row.name]})]}}]),model:{value:e.groupForm.icon,callback:function(t){e.$set(e.groupForm,"icon",t)},expression:"groupForm.icon"}},[e._v(" "),a("span",{class:["blue icon iconfont",e.groupForm.icon],attrs:{slot:"right"},slot:"right"})])],1)],1)],1),e._v(" "),a("commonDialog",{attrs:{title:"功能权限配置",visible:e.formControl.visible,refresh:e.formControl.refresh,form:e.form,rules:e.rules,save:e.save},on:{"update:visible":function(t){return e.$set(e.formControl,"visible",t)},"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)}}},[a("commonForm",{attrs:{labelWidth:"150px"}},[a("formRow",{attrs:{label:"功能权限名称",required:"",rule:e.rules.name}},[a("formInput",{attrs:{placeholder:"请输入功能权限名称",rule:e.rules.name},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("formRow",{attrs:{label:"功能权限说明",required:"",rule:e.rules.introduction}},[a("formInput",{attrs:{type:"textarea",rows:5,placeholder:"请输入功能权限说明",rule:e.rules.introduction},model:{value:e.form.introduction,callback:function(t){e.$set(e.form,"introduction",t)},expression:"form.introduction"}})],1),e._v(" "),a("formRow",{attrs:{label:"所属类别",required:"",rule:e.rules.type}},[a("formSelect",{attrs:{options:e.groupList,placeholder:"请选择所属类别",rule:e.rules.type},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}})],1),e._v(" "),a("formRow",{attrs:{label:"功能权限对应页面",required:"",rule:e.rules.url}},[a("formSelect",{attrs:{options:e.urlList,placeholder:"请选择功能权限对应页面",rule:e.rules.url},model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1),e._v(" "),a("formRow",{attrs:{label:"功能权限图标",required:"",rule:e.rules.icon}},[a("formSelect",{attrs:{placeholder:"请选择功能权限图标",options:e.iconData,rule:e.rules.icon},scopedSlots:e._u([{key:"default",fn:function(e){return[a("span",{class:["blue","iconfont",e.row.name]})]}}]),model:{value:e.form.icon,callback:function(t){e.$set(e.form,"icon",t)},expression:"form.icon"}},[e._v(" "),a("span",{class:["blue icon iconfont",e.form.icon],attrs:{slot:"right"},slot:"right"})])],1),e._v(" "),a("formRow",{attrs:{label:"功能权限图标颜色",required:"",rule:e.rules.color}},[a("el-color-picker",{model:{value:e.form.color,callback:function(t){e.$set(e.form,"color",t)},expression:"form.color"}})],1)],1)],1)],1)},staticRenderFns:[]};var uo=a("C7Lr")(lo,co,!1,function(e){a("0YOn")},null,null).exports,ho={name:"groupManager",components:{},props:{perPageId:{type:String,default:""}},data:function(){return{addOrUpdate:!0,checkedVal:null,searchData:{},total:0,treeData:[],formControl:{visible:!1,refresh:!1,transferVisible:!1},gridColumns:[{text:"操作名称",align:"center",dataIndex:"name"},{text:"操作描述",align:"center",dataIndex:"description"},{text:"操作",align:"center",fixed:"right",formatter:function(e){return{showDropDown:!0,showText:"操作",data:[{text:"修改",class:"blue",eName:"changeRow"},{text:"删除",class:"blue",eName:"delRow"}]}}}],tableData:[],url:this.$baseUrl+"sys/permissionPage/findPermissionPageOperation?",addUrl:this.$baseUrl+"sys/permissionPage/addPermissionPageOperation",form:{id:"",name:"",description:"",operationId:"",permissionPageId:"",status:""},rules:{name:{required:!0},description:{required:!0}}}},mounted:function(){this.loadTable()},computed:{permissionPageId:function(){return this.perPageId}},watch:{"formControl.refresh":function(e){e&&this.loadTable()},permissionPageId:function(e){this.loadTable(e)}},methods:{loadTable:function(){var e=this;if(this.permissionPageId){var t={url:this.url,data:{permissionPageId:this.permissionPageId}};this.$ajaxPost(t,!0,function(t){200===t.code?e.tableData=t.data:e.$showMsg("error",t.message)})}},addRow:function(){for(var e in this.addOrUpdate=!0,this.form)this.form[e]=null;this.form.permissionPageId=this.permissionPageId,this.formControl.visible=!0},changeRow:function(e){for(var t in this.addOrUpdate=!0,this.form)this.form[t]=e[t];this.formControl.visible=!0},delRow:function(e){var t=this;!e&&this.tableData.length<1?this.$showMsg("error","请选择需要删除的数据"):this.$showConfirm("确认删除该数据？",function(){var a={url:t.$baseUrl+"sys/permissionPage/deletePermissionPageOperationById?",data:{permissionPageOperationId:e.id}};t.$ajaxPost(a,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.loadTable()):t.$showMsg("error",e.message)})})},save:function(e){var t=this,a=this.addOrUpdate?this.addUrl:this.updateUrl,o=!0;if(this.rules&&(o=!!this.$validate.validRules(this.rules,this.form)),1==o){e();var r={url:a,data:this.form};this.$ajaxPost(r,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.formControl.visible=!1,t.loadTable()):t.$showMsg("error",e.message)})}},back:function(){this.$router.go(-1)}}},mo={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"operationSetting-wrapper",attrs:{local:"operationSetting"}},[a("commonTable",{staticClass:"paddingX",attrs:{autoHeight:"",gridColumns:e.gridColumns,search:e.searchData,refresh:e.formControl.refresh,options:e.tableData},on:{"update:search":function(t){e.searchData=t},"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)},changeRow:e.changeRow,delRow:e.delRow}},[a("commonSearch",{staticClass:"paddingY"},[a("el-button",{attrs:{slot:"left",size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addRow()}},slot:"left"},[e._v("添加")])],1),e._v(" "),a("commonDialog",{attrs:{control:e.formControl,visible:e.formControl.visible,title:"信息项维护",form:e.form,rules:e.rules,save:e.save},on:{"update:control":function(t){e.formControl=t},"update:visible":function(t){return e.$set(e.formControl,"visible",t)}}},[a("commonForm",{attrs:{labelWidth:"180px"}},[a("formRow",{attrs:{label:"操作名称",required:"",rule:e.rules.name}},[a("formInput",{attrs:{placeholder:"请输入功能权限名称",rule:e.rules.name},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("formRow",{attrs:{label:"操作描述",required:"",rule:e.rules.description}},[a("formInput",{attrs:{type:"textarea",rows:5,placeholder:"请输入功能权限说明",rule:e.rules.description},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)],1)],1)],1)],1)},staticRenderFns:[]};var fo=a("C7Lr")(ho,mo,!1,function(e){a("dbuF")},null,null).exports,po={name:"groupManager",components:{},props:{perPageId:{type:String,default:""}},data:function(){return{addOrUpdate:!0,checkedVal:null,searchData:{},formControl:{visible:!1,refresh:!1,transferVisible:!1},gridColumns:[{text:"接口名称",align:"center",dataIndex:"showName"},{text:"接口地址",align:"center",dataIndex:"name"},{text:"接口描述",align:"center",dataIndex:"description"},{text:"操作",align:"center",fixed:"right",formatter:function(e){return{showDropDown:!0,showText:"操作",data:[{text:"修改",class:"blue",eName:"changeRow"},{text:"删除",class:"blue",eName:"delRow"}]}}}],tableData:[],url:this.$baseUrl+"sys/dataPermission/findPageInterfaceVOList?",addUrl:this.$baseUrl+"sys/dataPermission/savePageInterface",form:{id:"",description:"",name:"",showName:"",permissionPageId:"",roleSql:"",sql:""},rules:{name:{required:!0},showName:{required:!0},description:{}}}},mounted:function(){this.loadTable()},computed:{permissionPageId:function(){return this.perPageId}},watch:{"formControl.refresh":function(e){e&&this.loadTable()},permissionPageId:function(e){this.loadTable(e)}},methods:{loadTable:function(){var e=this;if(this.permissionPageId){var t={url:this.url,data:{permissionPageId:this.permissionPageId}};this.$ajaxPost(t,!0,function(t){200===t.code?e.tableData=t.data:e.$showMsg("error",t.message)})}},addRow:function(){for(var e in this.addOrUpdate=!0,this.form)this.form[e]=null;this.form.permissionPageId=this.permissionPageId,this.formControl.visible=!0},changeRow:function(e){for(var t in this.addOrUpdate=!0,this.form)this.form[t]=e[t];this.formControl.visible=!0},delRow:function(e){var t=this;!e&&this.tableData.length<1?this.$showMsg("error","请选择需要删除的数据"):this.$showConfirm("确认删除该数据？",function(){var a={url:t.$baseUrl+"sys/dataPermission/deletePageInterfaceVOById?",data:{id:e.id}};t.$ajaxPost(a,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.loadTable()):t.$showMsg("error",e.message)})})},save:function(e){var t=this,a=this.addOrUpdate?this.addUrl:this.updateUrl,o=!0;if(this.rules&&(o=!!this.$validate.validRules(this.rules,this.form)),1==o){e();var r={url:a,data:this.form};this.$ajaxPost(r,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.formControl.visible=!1,t.loadTable()):t.$showMsg("error",e.message)})}},back:function(){this.$router.go(-1)}}},go={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"apiSetting-wrapper",attrs:{local:"apiSetting"}},[a("commonTable",{staticClass:"paddingX",attrs:{autoHeight:"",gridColumns:e.gridColumns,search:e.searchData,refresh:e.formControl.refresh,options:e.tableData},on:{"update:search":function(t){e.searchData=t},"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)},changeRow:e.changeRow,delRow:e.delRow}},[a("commonSearch",{staticClass:"paddingY"},[a("el-button",{attrs:{slot:"left",size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addRow()}},slot:"left"},[e._v("添加")])],1),e._v(" "),a("commonDialog",{attrs:{control:e.formControl,visible:e.formControl.visible,title:"信息项维护",form:e.form,rules:e.rules,save:e.save},on:{"update:control":function(t){e.formControl=t},"update:visible":function(t){return e.$set(e.formControl,"visible",t)}}},[a("commonForm",{attrs:{labelWidth:"180px"}},[a("formRow",{attrs:{label:"接口名称",required:"",rule:e.rules.showName}},[a("formInput",{attrs:{placeholder:"请输入",rule:e.rules.showName},model:{value:e.form.showName,callback:function(t){e.$set(e.form,"showName",t)},expression:"form.showName"}})],1),e._v(" "),a("formRow",{attrs:{label:"接口地址",required:"",rule:e.rules.name}},[a("formInput",{attrs:{placeholder:"请输入功能权限名称",rule:e.rules.name},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("formRow",{attrs:{label:"接口描述",required:"",rule:e.rules.description}},[a("formInput",{attrs:{type:"textarea",rows:5,placeholder:"请输入功能权限说明",rule:e.rules.description},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)],1)],1)],1)],1)},staticRenderFns:[]};var vo={name:"logManager",components:{operationSetting:fo,apiSetting:a("C7Lr")(po,go,!1,function(e){a("uq4z")},null,null).exports},data:function(){return{selected:0,searchData:{},addOrUpdate:!0,permissionPageId:"",form:{permissionId:"",id:"",name:"",url:"",description:"",parentId:"",sortNumber:""},rules:{name:{required:!0},url:{required:!0}},formControl:{visible:!1,refresh:!1},tabsData:[],checkedX:0,tabsXData:[{name:"操作配置",comName:"operationSetting",icon:"icon-setting"}],gridColumns:[{text:"功能权限说明",align:"center",dataIndex:"introduction"},{text:"页面数量",align:"center",dataIndex:"pageCount"},{text:"操作",align:"center",width:"70",formatter:function(e){return{showDropDown:!0,showText:"操作",data:[{text:"修改",class:"blue",eName:"changeRow"},{text:"删除",class:"red",eName:"delRow"}]}}}],tableData:[{a01001:"哈哈"}],url:this.$baseUrl+"sys/permissionPage/findPermissionPage",addUrl:this.$baseUrl+"sys/permissionPage/addPermissionPage",updateUrl:this.$baseUrl+""}},mounted:function(){this.loadData()},computed:{name:function(){return this.$route.query.name},permissionId:function(){return this.$route.query.id},pageTitle:function(){return this.name+"页面配置"}},watch:{"formControl.refresh":function(e){e&&this.loadTable()}},methods:{loadData:function(){var e=this,t={url:this.url,data:{permissionId:this.permissionId}};this.$ajaxPost(t,!0,function(t){200===t.code?(e.tabsData=t.data,e.tabsData.length>0&&(e.permissionPageId=e.tabsData[e.selected].id)):e.$showMsg("error",t.message)})},changeTab:function(e){e.id&&(this.permissionPageId=e.id)},addTab:function(){for(var e in this.addOrUpdate=!0,this.form)this.form[e]=null;this.form.permissionId=this.permissionId,this.formControl.visible=!0},delTab:function(e){var t=this;!e&&this.tableData.length<1?this.$showMsg("error","请选择需要删除的数据"):this.$showConfirm("确认删除该数据？",function(){var a={url:t.$baseUrl+"sys/permissionPage/deletePermissionPageById?",data:{permissionPageId:e.id}};t.$ajaxPost(a,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.loadData()):t.$showMsg("error",e.message)})})},save:function(e){var t=this,a=this.addOrUpdate?this.addUrl:this.updateUrl,o=!0;if(this.rules&&(o=!!this.$validate.validRules(this.rules,this.form)),1==o){e();var r={url:a,data:this.form};this.$ajaxPost(r,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.formControl.visible=!1,t.loadData()):t.$showMsg("error",e.message)})}},back:function(){this.$router.go(-1)},changeComName:function(){}}},bo={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"menuGroupConfig-wrapper"},[a("commonTitle",{attrs:{slot:"title",showShadow:"",title:e.pageTitle},slot:"title"},[a("el-button",{attrs:{slot:"right",size:"mini",type:"primary",icon:"el-icon-back"},on:{click:function(t){return e.back()}},slot:"right"},[e._v("返回")])],1),e._v(" "),a("div",{attrs:{slot:"left"},slot:"left"},[a("commonTitle",{staticClass:"mini darkgray",attrs:{border:"",icon:"null",title:"页面",height:"50px"}}),e._v(" "),a("commonTablistY",{attrs:{options:e.tabsData,add:"添加页面"},on:{change:e.changeTab,add:e.addTab},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"red",attrs:{size:"mini",type:"text",icon:"iconfont icon-disabled"},on:{click:function(a){return a.stopPropagation(),e.delTab(t.tab)}}})]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1),e._v(" "),a("div",{attrs:{slot:"right"},slot:"right"},[a("commonTablistX",{staticClass:"padding",attrs:{position:"top",options:e.tabsXData},model:{value:e.checkedX,callback:function(t){e.checkedX=t},expression:"checkedX"}}),e._v(" "),a("keep-alive",[a(e.tabsXData[e.checkedX].comName,{tag:"component",attrs:{perPageId:e.permissionPageId},on:{change:e.changeComName}})],1)],1),e._v(" "),a("commonDialog",{attrs:{title:"添加页面",height:"200px",visible:e.formControl.visible,refresh:e.formControl.refresh,form:e.form,rules:e.rules,save:e.save},on:{"update:visible":function(t){return e.$set(e.formControl,"visible",t)},"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)}}},[a("commonForm",[a("formRow",{attrs:{label:"页面名称",required:"",rule:e.rules.name}},[a("formInput",{attrs:{placeholder:"请输入功能权限组名称",rule:e.rules.name},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("formRow",{attrs:{label:"路由名称",required:"",rule:e.rules.url}},[a("formInput",{attrs:{placeholder:"请输入功能权限组名称",rule:e.rules.url},model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1)],1)],1)],1)},staticRenderFns:[]};var Co=a("C7Lr")(vo,bo,!1,function(e){a("CavS")},null,null).exports,yo={name:"logManager",components:{CadreDialog:Et},data:function(){return{total:0,roleList:[],tableData:[],searchText:"",userUnitId:"",userUnitName:"",isContain:!0,addOrUpdate:!0,tabsDataCadre:[],cadreOptions:{deptId:null,includeSubNode:"0"},searchData:{cadreDeptId:null,organizationCode:null,loginName:this.$store.getters.userInfo.loginName,roleType:"",contain:"1",name:"",pageIndex:1,pageSize:20},form:{name:"",loginName:"",loginPassword:"",roleList:[],roleCodeList:[],organizationId:"",organizationName:"",description:"",haveChildrenOrg:"",haveCount:"",locked:"",mobilePhone:"",telePhone:"",status:"",dataOrganizationId:"",dataOrganizationName:"",createId:"",createTime:"",id:"",lastLoginIP:"",lastLoginTime:"",modifyId:"",modifyTime:"",accessToken:"",lockTime:"",menuList:"",organizationCode:"",ownerOrganizationCode:"",ownerOrganizationId:"",ownerOrganizationName:"",roleId:""},rules:{name:{required:!0},loginName:{required:!0},loginPassword:{},noLoginPassword:{},roleCodeList:{required:!0},organizationName:{required:!0},description:{},haveChildrenOrg:{},haveCount:{},locked:{},mobilePhone:{mobileVal:!0},telePhone:{phoneVal:!0},status:{},dataOrganizationId:{required:!0}},formControl:{visible:!1,refresh:!1,cadreVisible:!1},gridColumns:[{text:"登录名",align:"center",dataIndex:"loginName"},{text:"名称",align:"center",dataIndex:"name"},{text:"用户单位名称",align:"center",dataIndex:"organizationName"},{text:"角色类型",align:"center",dataIndex:"roleList",formatter:function(e){var t=[];return e.row.roleList.length>0?(e.row.roleList.forEach(function(e){t.push(e.name)}),t.join(",")):t}},{text:"数据权限单位",align:"center",dataIndex:"dataOrganizationName"},{text:"操作",align:"center",width:"70",formatter:function(e){return{showDropDown:!0,showText:"操作",data:[{text:"修改",class:"blue",eName:"changeRow"},{text:"重置密码",class:"blue",eName:"changePass"},{text:"删除",class:"red",eName:"delRow"}]}}}],addUrl:this.$baseUrl+"user/user/addUser",updateUrl:this.$baseUrl+"user/user/modifyUser"}},mounted:function(){},computed:{userInfo:function(){return this.$store.getter.userInfo}},watch:{"formControl.refresh":function(e){e&&this.loadTable()},searchData:{handler:function(e){this.loadTable()},deep:!0}},methods:{saveCadre:function(e,t){this.form.name=t[0].a01001,this.form.reserveCadreId=t[0].EMP_ID,this.formControl.cadreVisible=!1},changeCadre:function(){this.cadreOptions.deptId=this.searchData.cadreDeptId,this.cadreOptions.includeSubNode=this.searchData.contain,this.formControl.cadreVisible=!0},saveDepart:function(e,t){this.form.dataOrganizationId=e.join(",")},getRoleList:function(){var e=this,t={data:{orgId:this.searchData.cadreDeptId},url:this.$baseUrl+"user/role/findData?"};this.$ajaxPost(t,!0,function(t){200===t.code?e.roleList=t.data:e.$showMsg("error",t.message)})},loadForNode:function(e,t){e.level>1&&(this.searchTreeLeaf.parentId=e.data.id),t()},loadTable:function(){var e=this,t={url:this.$baseUrl+"user/user/findByPageData",data:this.searchData};this.$ajaxPost(t,!0,function(t){200===t.code?(e.tableData=t.data.data,e.total=t.data.totalCount):e.$showMsg("error",t.message)})},addRow:function(){for(var e in this.addOrUpdate=!0,this.form)this.form[e]=null;this.form.organizationName=this.userUnitName,this.form.organizationId=this.userUnitId,this.formControl.visible=!0,this.getRoleList()},changeRow:function(e){var t=this;if(this.addOrUpdate=!1,this.getRoleList(),e.id){var a={url:this.$baseUrl+"user/user/getUserById?",data:{userId:e.id}};this.$ajaxPost(a,!0,function(e){if(200===e.code){for(var a in t.form)t.form[a]="roleCodeList"==a?e.data.roleList.map(function(e){return e.id}):e.data[a];t.form.dataOrganizationId=e.data.dataOrganizationId}else t.$showMsg("error",e.message)})}this.formControl.visible=!0},delRow:function(e){var t=this;!e&&this.tableData.length<1?this.$showMsg("error","请选择需要删除的数据"):this.$showConfirm("确认删除该数据？",function(){var a={url:t.$baseUrl+"user/user/deleteById?",data:{userId:e.id}};t.$ajaxPost(a,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.loadTable()):t.$showMsg("error",e.message)})})},changePass:function(e){var t=this;!e&&this.tableData.length<1?this.$showMsg("error","请选择需要重置的数据"):this.$showConfirm("确定重置密码为：123456？",function(){var a={url:t.$baseUrl+"user/user/resetPassword?",data:{userId:e.id,password:"123456"}};t.$ajaxPost(a,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.loadTable()):t.$showMsg("error",e.message)})})},nodeClick:function(e){this.userUnitName=e.name,this.userUnitId=e.id,this.searchData.pageIndex=1,this.searchData.organizationCode=e.code},searchClick:function(){this.searchData.pageIndex=1,this.searchData.name=this.searchText},changeContain:function(e){var t=e?"1":"0";this.searchData.contain=t},save:function(e){var t=this,a=this.addOrUpdate?this.addUrl:this.updateUrl,o=!0;if(this.rules&&(o=!!this.$validate.validRules(this.rules,this.form)),o){e();var r={url:a,data:this.form};this.$ajaxPost(r,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.formControl.visible=!1,t.loadTable()):t.$showMsg("error",e.message)})}}}},wo={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"accountGroup-wrapper"},[a("commonTitle",{attrs:{slot:"title",showShadow:"",title:"账号配置"},slot:"title"}),e._v(" "),a("departTree",{attrs:{slot:"left",showContain:""},on:{nodeClick:e.nodeClick,changeContain:e.changeContain},slot:"left",model:{value:e.searchData.cadreDeptId,callback:function(t){e.$set(e.searchData,"cadreDeptId",t)},expression:"searchData.cadreDeptId"}}),e._v(" "),a("commonTable",{staticClass:"padding",attrs:{slot:"right",autoHeight:"",showPagination:"",gridColumns:e.gridColumns,search:e.searchData,refresh:e.formControl.refresh,options:e.tableData,total:e.total},on:{"update:search":function(t){e.searchData=t},"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)},changeRow:e.changeRow,delRow:e.delRow,changePass:e.changePass},slot:"right"},[a("commonSearch",[a("el-button",{attrs:{slot:"left",size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addRow()}},slot:"left"},[e._v("添加账号")]),e._v(" "),a("formInput",{staticClass:"radius large",attrs:{slot:"right",size:"large",placeholder:"请输入名称查询",suffixIcon:"el-icon-search"},on:{iconClick:e.searchClick},slot:"right",model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})],1),e._v(" "),a("commonDialog",{attrs:{title:"添加账号",visible:e.formControl.visible,refresh:e.formControl.refresh,form:e.form,rules:e.rules,save:e.save},on:{"update:visible":function(t){return e.$set(e.formControl,"visible",t)},"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)}}},[a("commonForm",{attrs:{labelWidth:"150px"}},[a("formRow",{attrs:{label:"姓名",required:"",rule:e.rules.name}},[a("formInput",{attrs:{placeholder:"请输入用户名称",search:"选择干部",rule:e.rules.name},on:{search:e.changeCadre},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("formRow",{attrs:{label:"账号名称",required:"",rule:e.rules.loginName}},[a("formInput",{attrs:{placeholder:"请输入账号名称",rule:e.rules.loginName},model:{value:e.form.loginName,callback:function(t){e.$set(e.form,"loginName",t)},expression:"form.loginName"}})],1),e._v(" "),a("formRow",{directives:[{name:"show",rawName:"v-show",value:e.addOrUpdate,expression:"addOrUpdate"}],attrs:{label:"账号密码",required:"",rule:e.rules.loginPassword}},[a("formInput",{attrs:{placeholder:"请输入账号密码",rule:e.addOrUpdate?e.rules.loginPassword:e.rules.noLoginPassword},model:{value:e.form.loginPassword,callback:function(t){e.$set(e.form,"loginPassword",t)},expression:"form.loginPassword"}})],1),e._v(" "),a("formRow",{attrs:{label:"用户单位名称",required:"",rule:e.rules.organizationName}},[a("formInput",{attrs:{disabled:"",placeholder:"",rule:e.rules.organizationName},model:{value:e.form.organizationName,callback:function(t){e.$set(e.form,"organizationName",t)},expression:"form.organizationName"}})],1),e._v(" "),a("formRow",{attrs:{label:"手机号",rule:e.rules.mobilePhone}},[a("formInput",{attrs:{placeholder:"请输入手机号码",rule:e.rules.mobilePhone},model:{value:e.form.mobilePhone,callback:function(t){e.$set(e.form,"mobilePhone",t)},expression:"form.mobilePhone"}})],1),e._v(" "),a("formRow",{attrs:{label:"电话",rule:e.rules.telePhone}},[a("formInput",{attrs:{placeholder:"请输入电话",rule:e.rules.telePhone},model:{value:e.form.telePhone,callback:function(t){e.$set(e.form,"telePhone",t)},expression:"form.telePhone"}})],1),e._v(" "),a("formRow",{attrs:{label:"描述",rule:e.rules.description}},[a("formInput",{attrs:{type:"textarea",rows:5,placeholder:"请输入描述",rule:e.rules.description},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),e._v(" "),a("formRow",{attrs:{label:"角色类型",required:"",rule:e.rules.roleCodeList}},[a("formSelect",{attrs:{multiple:"",options:e.roleList,rule:e.rules.roleCodeList,placeholder:"请选择角色类型"},model:{value:e.form.roleCodeList,callback:function(t){e.$set(e.form,"roleCodeList",t)},expression:"form.roleCodeList"}})],1),e._v(" "),a("formRow",{attrs:{label:"数据权限单位",required:"",rule:e.rules.dataOrganizationId}},[a("departDialog",{attrs:{selectable:"",multiple:"",label:e.form.dataOrganizationName,placeholder:"请输入数据权限单位",rule:e.rules.dataOrganizationId},on:{"update:label":function(t){return e.$set(e.form,"dataOrganizationName",t)},save:e.saveDepart},model:{value:e.form.dataOrganizationId,callback:function(t){e.$set(e.form,"dataOrganizationId",t)},expression:"form.dataOrganizationId"}})],1)],1)],1),e._v(" "),a("CadreDialog",{attrs:{visible:e.formControl.cadreVisible,options:e.cadreOptions},on:{"update:visible":function(t){return e.$set(e.formControl,"cadreVisible",t)},save:e.saveCadre}})],1)],1)},staticRenderFns:[]};var xo=a("C7Lr")(yo,wo,!1,function(e){a("J5XV")},null,null).exports,Do={name:"logManager",data:function(){return{iconData:ae,searchText:"",selected:0,searchData:{cadreDeptId:""},form:{name:"",icon:""},rules:{name:{required:!0},icon:{required:!0}},formControl:{visible:!1,refresh:!1},gridColumns:[{text:"业务部门名称",align:"center",dataIndex:"a01001"},{text:"关联单位",align:"center",dataIndex:"a01001"},{text:"操作",align:"center",width:"70",formatter:function(e){return{showDropDown:!0,showText:"操作",data:[{text:"修改",class:"blue",eName:"changeRow"},{text:"重置密码",class:"blue",eName:"changePass"},{text:"删除",class:"red",eName:"delRow"}]}}}],tableData:[{a01001:"哈哈"}]}},mounted:function(){},watch:{},methods:{addRow:function(){for(var e in this.form)this.form[e]=null;this.formControl.visible=!0},changeRow:function(){},nodeClick:function(){},searchClick:function(){}}},Io={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"accountGroup-wrapper"},[a("commonTitle",{attrs:{slot:"title",showShadow:"",title:"相关部门配置"},slot:"title"}),e._v(" "),a("commonTable",{staticClass:"padding",attrs:{autoHeight:"",showPagination:"",total:e.tableData.length,gridColumns:e.gridColumns,search:e.searchData,refresh:e.formControl.refresh,options:e.tableData},on:{"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)},changeRow:e.changeRow}},[a("commonSearch",[a("el-button",{attrs:{slot:"left",size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addRow()}},slot:"left"},[e._v("添加相关部门")]),e._v(" "),a("formInput",{staticClass:"radius large",attrs:{slot:"right",size:"large",placeholder:"请输入关键字查询",suffixIcon:"el-icon-search"},on:{iconClick:e.searchClick},slot:"right",model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})],1)],1),e._v(" "),a("commonDialog",{attrs:{title:"功能权限配置",visible:e.formControl.visible,refresh:e.formControl.refresh,form:e.form,rules:e.rules},on:{"update:visible":function(t){return e.$set(e.formControl,"visible",t)},"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)}}},[a("commonForm",{attrs:{labelWidth:"150px"}},[a("formRow",{attrs:{label:"业务部门名称",required:"",rule:e.rules.name}},[a("formInput",{attrs:{placeholder:"请输入业务部门名称",rule:e.rules.name},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("formRow",{attrs:{label:"关联单位",required:"",rule:e.rules.name}},[a("formInput",{attrs:{placeholder:"请输入关联单位",rule:e.rules.name},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1)],1)],1)],1)},staticRenderFns:[]};var $o=a("C7Lr")(Do,Io,!1,function(e){a("s+PA")},null,null).exports,ko={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"roleCnfig-wrapper"},[a("commonTitle",{attrs:{slot:"title",showShadow:"",title:"角色配置"},slot:"title"}),e._v(" "),a("commonTable",{staticClass:"padding",attrs:{autoHeight:"",gridColumns:e.gridColumns,search:e.searchData,refresh:e.formControl.refresh,options:e.tableData},on:{"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)},changeRow:e.changeRow,delRow:e.delRow,hrefRow:e.hrefRow,updataTotal:e.updataTotal,updataAuthori:e.updataAuthori,updataInfoPermiss:e.updataInfoPermiss,updataInfoSet:e.updataInfoSet,updataCadreSql:e.updataCadreSql,updataInfoConfig:e.updataInfoConfig}},[a("commonSearch",[a("el-button",{attrs:{slot:"left",size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addRow()}},slot:"left"},[e._v("添加角色")]),e._v(" "),a("formInput",{staticClass:"radius large",attrs:{slot:"right",size:"large",placeholder:"请输入关键字查询",suffixIcon:"el-icon-search"},on:{iconClick:e.searchClick},slot:"right",model:{value:e.query,callback:function(t){e.query=t},expression:"query"}})],1)],1),e._v(" "),a("commonDialog",{attrs:{title:"角色配置",visible:e.formControl.visible,refresh:e.formControl.refresh,form:e.form,rules:e.rules,save:e.save},on:{"update:visible":function(t){return e.$set(e.formControl,"visible",t)},"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)}}},[a("commonForm",{attrs:{labelWidth:"150px"}},[a("formRow",{attrs:{label:"角色名称",required:"",rule:e.rules.name}},[a("formInput",{attrs:{placeholder:"请输入角色名称",rule:e.rules.name},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("formRow",{attrs:{label:"角色code",required:"",rule:e.rules.code}},[a("formInput",{attrs:{disabled:!e.addOrUpdate,rows:5,placeholder:"请输入角色code",rule:e.rules.code},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),e._v(" "),a("formRow",{attrs:{label:"首页名称",required:"",rule:e.rules.pageType}},[a("formSelect",{attrs:{options:e.options,placeholder:"请选择首页名称",rule:e.rules.pageType},model:{value:e.form.pageType,callback:function(t){e.$set(e.form,"pageType",t)},expression:"form.pageType"}})],1),e._v(" "),a("formRow",{attrs:{label:"角色说明",rule:e.rules.description}},[a("formInput",{attrs:{type:"textarea",placeholder:"请输入角色说明",rule:e.rules.description},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)],1)],1)],1)},staticRenderFns:[]};var To=a("C7Lr")({name:"logManager",data:function(){return{pageTitle:"角色配置",query:"",addOrUpdate:!0,searchData:{name:"",orderBy:"",pageSize:20,pageIndex:1},form:{id:"",parentId:"",name:"",code:"",description:"",menuCount:"",homePageCountNumber:"",detailUrl:"",pageType:"",systemType:""},rules:{name:{required:!0},code:{required:!0},description:{},pageType:{required:!0}},options:[{name:"默认首页",id:"1"},{name:"无待办首页",id:"2"},{name:"带统计项首页",id:"3"}],formControl:{visible:!1,refresh:!1},gridColumns:[{text:"角色名称",align:"center",dataIndex:"name",formatter:function(e){return{showBtn:!0,type:"text primary",text:e.row.name,eName:"hrefRow"}}},{text:"角色code",align:"center",dataIndex:"code"},{text:"角色说明",align:"center",dataIndex:"description"},{text:"角色所拥有的权限数量",align:"center",dataIndex:"menuCount",formatter:function(e){return{showBtn:!0,type:"text primary",text:e.row.menuCount,eName:"updataAuthori"}}},{text:"首页统计项数量",align:"center",dataIndex:"homePageCountNumber",formatter:function(e){return{showBtn:!0,type:"text primary",text:e.row.homePageCountNumber,eName:"updataTotal"}}},{text:"修改/添加信息权限",align:"center",dataIndex:"",formatter:function(e){return{showBtn:!0,type:"text primary",text:"信息权限",eName:"updataInfoPermiss"}}},{text:"常用信息集维护",align:"center",dataIndex:"rPTableCount",formatter:function(e){return{showBtn:!0,type:"text primary",text:e.row.rPTableCount,eName:"updataInfoSet"}}},{text:"角色权限页面SQL配置",align:"center",dataIndex:"roleSqlCount",formatter:function(e){return{showBtn:!0,type:"text primary",text:e.row.roleSqlCount,eName:"updataCadreSql"}}},{text:"首页详情url",align:"center",dataIndex:"detailUrl"},{text:"首页",align:"center",dataIndex:"pageType",formatter:function(e){return{1:"默认首页",2:"无待办事项",3:"带统计首页"}[e.row.pageType]}},{text:"操作",align:"center",width:"70",formatter:function(e){return{showDropDown:!0,showText:"操作",data:[{text:"修改",class:"blue",eName:"changeRow"},{text:"修改/添加首页统计项",class:"blue",eName:"updataTotal"},{text:"修改/添加功能权限",class:"blue",eName:"updataAuthori"},{text:"修改/添加信息权限",class:"blue",eName:"updataInfoPermiss"},{text:"常用信息集维护",class:"blue",eName:"updataInfoSet"},{text:"干部sql配置",class:"blue",eName:"updataCadreSql"},{text:"接口sql配置",class:"blue",eName:"updataInfoConfig"},{text:"删除",class:"red",eName:"delRow"}]}}}],tableData:[],url:this.$baseUrl+"user/role/findData?",addUrl:this.$baseUrl+"user/role/save",updateUrl:this.$baseUrl+"user/role/update"}},mounted:function(){this.loadData()},watch:{searchData:{handler:function(e){},deep:!0}},methods:{loadData:function(){var e=this,t={url:this.url,data:{verson:this.$moment().format("x")}};this.$ajaxPost(t,!0,function(t){200===t.code?e.tableData=t.data:e.$showMsg("error",t.message)})},searchClick:function(){this.searchData.name=this.query},addRow:function(){for(var e in this.addOrUpdate=!0,this.form)this.form[e]=null;this.formControl.visible=!0},changeRow:function(e){for(var t in this.addOrUpdate=!1,this.form)this.form[t]=e[t];this.formControl.visible=!0},updataTotal:function(e){this.$router.push({path:"RoleHomeConfig",query:{roleId:e.id}})},hrefRow:function(e){this.$router.push({path:"FuncAuthorization",query:{roleId:e.id}})},updataAuthori:function(e){this.$router.push({path:"FuncAuthorization",query:{roleId:e.id}})},updataInfoPermiss:function(e){this.$router.push({path:"InfoSetField",query:{roleId:e.id,name:e.name}})},updataInfoSet:function(e){this.$router.push({path:"CommonUseInfoSet",query:{roleId:e.id}})},updataCadreSql:function(e){this.$router.push({path:"cadreSql",query:{roleId:e.id,name:e.name}})},updataInfoConfig:function(e){this.$router.push({path:"InfoConfig",query:{roleId:e.id,name:e.name}})},delRow:function(e){var t=this;!e&&this.tableData.length<1?this.$showMsg("error","请选择需要删除的数据"):this.$showConfirm("确认删除该数据？",function(){var a={url:t.$baseUrl+"user/role/deleteById?",data:{roleId:e.id}};t.$ajaxPost(a,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.loadData()):t.$showMsg("error",e.message)})})},save:function(e){var t=this,a=this.addOrUpdate?this.addUrl:this.updateUrl,o=!0;if(this.rules&&(o=!!this.$validate.validRules(this.rules,this.form)),o){e();var r={url:a,data:this.form};this.$ajaxPost(r,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.formControl.visible=!1,t.loadData()):t.$showMsg("error",e.message)})}},back:function(){this.$router.go(-1)}}},ko,!1,function(e){a("bHDZ")},null,null).exports,_o={name:"roleHomeConfig",data:function(){return{pageTitle:"角色配置",query:"",searchData:{},form:{id:"",countName:"",countSql:"",roleId:"",roleName:""},rules:{countName:{required:!0},countSql:{required:!0}},formControl:{visible:!1,refresh:!1},gridColumns:[{text:"角色名称",align:"center",dataIndex:"roleName"},{text:"统计项名称",align:"center",dataIndex:"countName"},{text:"配置项SQL语句",align:"center",dataIndex:"countSql"},{text:"操作",align:"center",width:"70",formatter:function(e){return{showDropDown:!0,showText:"操作",data:[{text:"修改",class:"blue",eName:"changeRow"},{text:"删除",class:"red",eName:"delRow"}]}}}],tableData:[],url:this.$baseUrl+"sys/homePageCount/findRoleCountByRoleId?",addOrUpdateUrl:this.$baseUrl+"sys/homePageCount/addOrUpdateRoleCount"}},mounted:function(){this.loadData()},computed:{roleId:function(){return this.$route.query.roleId}},watch:{},methods:{loadData:function(){var e=this,t={url:this.url,data:{roleId:this.roleId}};this.$ajaxPost(t,!0,function(t){200===t.code?e.tableData=t.data:e.$showMsg("error",t.message)})},searchClick:function(){this.query},addRow:function(){for(var e in this.addOrUpdate=!0,this.form)this.form[e]=null;this.form.roleId=this.roleId,this.formControl.visible=!0},changeRow:function(e){for(var t in this.addOrUpdate=!0,this.form)this.form[t]=e[t];this.formControl.visible=!0},hrefRow:function(){alert("已经跳转功能权限配置")},delRow:function(e){var t=this,a=[];a.push(e.id),!e&&this.tableData.length<1?this.$showMsg("error","请选择需要删除的数据"):this.$showConfirm("确认删除该数据？",function(){var e={url:t.$baseUrl+"sys/homePageCount/deleteRoleCountByRoleCountIdList",data:a};t.$ajaxPost(e,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.loadData()):t.$showMsg("error",e.message)})})},save:function(e){var t=this,a=(this.addOrUpdate,this.addOrUpdateUrl),o=!0;if(this.rules&&(o=!!this.$validate.validRules(this.rules,this.form)),o){e();var r={url:a,data:this.form};this.$ajaxPost(r,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.formControl.visible=!1,t.loadData()):t.$showMsg("error",e.message)})}},back:function(){this.$router.go(-1)}}},No={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"roleHomeConfig-wrapper"},[a("commonTitle",{attrs:{slot:"title",showShadow:"",title:"首页统计项配置"},slot:"title"},[a("el-button",{attrs:{slot:"right",size:"mini",type:"primary",icon:"el-icon-back"},on:{click:function(t){return e.back()}},slot:"right"},[e._v("返回")])],1),e._v(" "),a("commonTable",{staticClass:"padding",attrs:{autoHeight:"",gridColumns:e.gridColumns,search:e.searchData,refresh:e.formControl.refresh,options:e.tableData},on:{"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)},changeRow:e.changeRow,delRow:e.delRow}},[a("commonSearch",[a("el-button",{attrs:{slot:"left",size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addRow()}},slot:"left"},[e._v("新增配置项")])],1)],1),e._v(" "),a("commonDialog",{attrs:{title:"角色配置",visible:e.formControl.visible,refresh:e.formControl.refresh,form:e.form,rules:e.rules,save:e.save},on:{"update:visible":function(t){return e.$set(e.formControl,"visible",t)},"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)}}},[a("commonForm",{attrs:{labelWidth:"150px"}},[a("formRow",{attrs:{label:"统计项名称",required:"",rule:e.rules.countName}},[a("formInput",{attrs:{placeholder:"请输入统计项名称",rule:e.rules.countName},model:{value:e.form.countName,callback:function(t){e.$set(e.form,"countName",t)},expression:"form.countName"}})],1),e._v(" "),a("formRow",{attrs:{label:"统计项SQL语句",required:"",rule:e.rules.countSql}},[a("formInput",{attrs:{type:"textarea",placeholder:"请输入统计项SQL语句",rule:e.rules.countSql},model:{value:e.form.countSql,callback:function(t){e.$set(e.form,"countSql",t)},expression:"form.countSql"}})],1)],1)],1)],1)},staticRenderFns:[]};var So=a("C7Lr")(_o,No,!1,function(e){a("Tkp9")},null,null).exports,Ro=a("r4qm"),Mo={name:"Sort",components:{draggable:a.n(Ro).a},props:{moduleList:{type:Array},selectModuleList:{type:Array},currentGroupId:{type:String}},data:function(){return{list:[],editable:!0,isDragging:!1,delayedDragging:!1}},computed:{dragOptions:function(){return{animation:0,group:"description",disabled:!this.editable,ghostClass:"ghost"}}},watch:{moduleList:function(e){console.log(e),e&&(this.list=e.map(function(e,t){return e.order=e.sortNumber||t+1,e}))}},mounted:function(){this.list=this.moduleList},methods:{remove:function(e){this.$emit("remove",[e])},detail:function(e){this.$emit("detail",e)},update:function(){this.$emit("update",this.list)}}},Fo={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sortConfig"},[a("draggable",{attrs:{element:"div",options:e.dragOptions},on:{update:e.update},model:{value:e.list,callback:function(t){e.list=t},expression:"list"}},[a("transition-group",{attrs:{type:"transition",name:"flip-list"}},e._l(e.list,function(t,o){return a("div",{key:t.id,staticClass:"menu-container",attrs:{idKey:o}},[a("div",{staticClass:"menu-container-sub"},[a("i",{staticClass:"iconfont icon-disabled remove-i red",on:{click:function(a){return e.remove(t.id)}}}),e._v(" "),a("i",{staticClass:"iconfont icon-shezhi detail-i",on:{click:function(a){return e.detail(t)}}}),e._v(" "),a("div",{staticClass:"icon"},[a("div",{staticClass:"icon-div",style:{backgroundColor:t.color}},[a("i",{staticClass:"iconfont",class:t.icon})])]),e._v(" "),a("div",{staticClass:"content"},[a("div",{staticClass:"title"},[a("span",[e._v(e._s(t.name))]),e._v(" "),a("span",{staticClass:"blue"},[e._v("（"+e._s(t.pageCount)+"）")])]),e._v(" "),a("div",{staticClass:"introduction light-color"},[a("span",[e._v(e._s(t.introduction))])])])])])}),0)],1)],1)},staticRenderFns:[]};var Po={name:"logManager",components:{Sort:a("C7Lr")(Mo,Fo,!1,function(e){a("NH8t")},null,null).exports},data:function(){return{iconData:ae,selected:0,selectedGroupId:"",searchData:{},groupList:[],groupListData:[],addOrUpdate:!0,selectModuleList:[],currentGroupId:0,currentGroupIdWithRole:"",dropStarOptions:[{changeName:"修改",changeId:"updataGroup",class:"el-icon-edit",eName:"updataGroup"},{changeName:"删除",changeId:"deleteGroup",class:"iconfont icon-close",eName:"deleteGroup"},{changeName:"上移",changeId:"upGroup",class:"iconfont icon-shangsheng",eName:"upGroup"},{changeName:"下移",changeId:"dowmGroup",class:"iconfont icon-xiajiang",eName:"dowmGroup"}],dropOptions:[],dropIndex:0,dropProps:{label:"changeName",val:"changeId"},sortNumber:0,groupForm:{icon:"",id:"",name:"",roleId:"",sortNumber:""},groupRules:{name:{required:!0},icon:{required:!0}},form:{name:"",icon:""},rules:{name:{required:!0},icon:{required:!0}},formControl:{visible:!1,refresh:!1,groupvisible:!1,groupRefresh:!1},tabsData:[],gridColumns:[{text:"功能权限名称",align:"center",dataIndex:"name",formatter:function(e){return{showBtn:!0,type:"text primary",text:e.row.name,eName:"editPageConfig"}}},{text:"功能权限说明",align:"center",dataIndex:"introduction"},{text:"图标",align:"center",dataIndex:"icon",formatter:function(e){return{showIcon:!0,text:e.row.icon,style:"color:font-size: 4em"}}},{text:"颜色",align:"center",dataIndex:"color",formatter:function(e){return{showIcon:!0,text:"icon-yuan",style:"color: "+e.row.color}}},{text:"功能权限对应的页面",align:"center",dataIndex:"url",formatter:function(e){var t="";return oe.forEach(function(a){a.id===e.row.url&&(t=a.name)}),t}}],tableData:[],url:this.$baseUrl+"sys/permission/findMenuParentListByRoleId?",addUrl:this.$baseUrl+"sys/user/role/save",updateUrl:this.$baseUrl+"sys/user/role/update",addUrlGroup:this.$baseUrl+"sys/permission/saveRoleGroup"}},mounted:function(){this.loadData()},watch:{},computed:{roleId:function(){return this.$route.query.roleId}},methods:{loadData:function(){var e=this,t={url:this.url,data:{roleId:this.roleId}};this.$ajaxPost(t,!0,function(t){200===t.code?(e.tabsData=t.data,e.tabsData.length>0?(e.selected=0,e.selectedGroupId=e.tabsData[e.selected].id,e.loadTable(e.selectedGroupId)):e.tableData=[]):e.$showMsg("error",t.message)})},loadTable:function(e){var t=this,a={url:this.$baseUrl+"sys/permission/findHaveMenuListByParentIdAndRoleId?",data:{roleId:this.roleId,parentId:e}};this.$ajaxPost(a,!0,function(e){200===e.code?t.tableData=e.data:t.$showMsg("error",e.message)})},checkOption:function(e){this.selectedGroupId=e.id,e.id&&this.loadTable(this.selectedGroupId)},dropType:function(e){var t=e.eName?e.eName:"";if(t)return this[t](e)},dropCheckIndex:function(e){var t=this.tabsData.findIndex(function(t){return t.id==e.id});this.dropIndex=t;var a=this.$deepClone(this.dropStarOptions);0==t?(1==this.tabsData.length?a.splice(2,2):a.splice(2,1),this.dropOptions=a):t==this.tabsData.length-1?(a.splice(3,1),this.dropOptions=a):this.dropOptions=a},addFuncAnthorGroup:function(e){for(var t in this.addOrUpdate=!0,this.groupForm)this.groupForm[t]=null;this.groupForm.roleId=this.roleId,this.tabsData.length>0?this.groupForm.sortNumber=this.tabsData[this.tabsData.length-1].sortNumber++:this.groupForm.sortNumber=0,this.formControl.groupvisible=!0},updataGroup:function(e){for(var t in this.addOrUpdate=!0,this.groupForm)this.groupForm[t]=e[t];this.groupForm.roleId=this.roleId,this.formControl.groupvisible=!0},upGroup:function(){var e=this.dropIndex,t=this.$deepClone(this.tabsData[e]);this.tabsData[e]=this.tabsData[e-1],this.tabsData[e-1]=t,this.upDateGroup()},dowmGroup:function(){var e=this.dropIndex,t=this.tabsData[e+1];this.tabsData[e+1]=this.tabsData[e],this.tabsData[e]=t,this.upDateGroup()},upDateGroup:function(){var e=this;this.tabsData.forEach(function(t,a){t.sortNumber=a,t.roleId=e.roleId});var t={url:this.$baseUrl+"sys/permission/saveRoleGroup",data:this.tabsData};this.$ajaxPost(t,!0,function(t){200===t.code?(e.$showMsg("success","保存成功！"),e.loadData()):e.$showMsg("error","保存失败！")})},deleteGroup:function(e){var t=this,a=e.id;!e&&this.tabsData.length<1?this.$showMsg("error","请选择需要删除的数据"):this.$showConfirm("确认删除该数据？",function(){var e={url:t.$baseUrl+"sys/permission/deleteRoleGroupById?",data:{id:a}};t.$ajaxPost(e,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.loadData()):t.$showMsg("error",e.message)})})},addFuncAnthor:function(){this.getGroup(),this.formControl.visible=!0},getGroup:function(){var e=this,t={url:this.$baseUrl+"sys/permission/menuParentList"};this.$ajaxPost(t,!0,function(t){200===t.code&&(e.groupList=t.data,e.groupList.length>0&&(e.currentGroupId=0,e.currentGroupIdWithRole=e.groupList[0].id,e.getSelectModule(e.groupList[0].id)))})},getSelectModule:function(e){var t=this,a={url:this.$baseUrl+"sys/permission/findNotHaveMenuListByParentIdAndRoleId?",data:{roleId:this.roleId,parentId:e}};this.$ajaxPost(a,!0,function(e){200===e.code&&(t.groupListData=e.data)})},clickGroup:function(e){this.currentGroupIdWithRole=e.id,e.id&&this.getSelectModule(e.id)},checkedChange:function(e){this.selectModuleList=e},saveGroup:function(e){var t=this;console.log(this.groupForm);var a=[];a.push(this.groupForm);var o=(this.addOrUpdate,this.addUrlGroup),r=!0;if(this.rules&&(r=!!this.$validate.validRules(this.groupRules,this.groupForm)),r){e();var s={url:o,data:a};this.$ajaxPost(s,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.formControl.groupvisible=!1,t.loadData()):t.$showMsg("error",e.message)})}},save:function(e){var t=this,a=[];if(this.selectModuleList.length>0){e(),this.selectModuleList.forEach(function(e){a.push(e.id)});var o={url:this.$baseUrl+"sys/permission/addMenuByRoleIdAndMenuIds",data:{menuIds:a,parentId:this.selectedGroupId,roleId:this.roleId}};this.$ajaxPost(o,!0,function(e){200===e.code?(t.$showMsg("success","保存成功！"),t.loadTable(t.selectedGroupId),t.formControl.visible=!1):t.$showMsg("error","保存失败！")})}},remove:function(e){var t=this;!e&&this.tableData.length<1?this.$showMsg("error","请选择需要删除的数据"):this.$showConfirm("确认删除该数据？",function(){var a={url:t.$baseUrl+"sys/permission/deleteMenuByRoleIdAndMenuIds",data:{menuIds:e,parentId:t.selectedGroupId,roleId:t.roleId}};t.$ajaxPost(a,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.loadTable(t.selectedGroupId)):t.$showMsg("error",e.message)})})},update:function(e){var t=this;console.log(e),e.forEach(function(e,t){e.sortNumber=t});var a={url:this.$baseUrl+"sys/permission/saveMenuRoleSort",data:{menuChildViewModelList:e,parentId:this.selectedGroupId}};this.$ajaxPost(a,!0,function(e){200===e.code?(t.$showMsg("success","保存成功！"),t.loadTable(t.selectedGroupId)):t.$showMsg("error",e.message)})},detail:function(e){this.$router.push({path:"SystemEditPageConfig",query:{name:e.name,id:e.id,roleId:this.roleId}})},back:function(){this.$router.go(-1)}}},Ao={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"funcAuthorization-wrapper"},[a("commonTitle",{attrs:{slot:"title",showShadow:"",title:"功能权限组配置"},slot:"title"},[a("el-button",{attrs:{slot:"right",size:"mini",type:"primary",icon:"el-icon-back"},on:{click:function(t){return e.back()}},slot:"right"},[e._v("返回")])],1),e._v(" "),a("div",{attrs:{slot:"left"},slot:"left"},[a("commonTitle",{staticClass:"mini darkgray",attrs:{border:"",icon:"null",title:"功能分组",height:"50px"}},[a("el-button",{attrs:{slot:"right",size:"mini",type:"text",icon:"el-icon-plus"},on:{click:e.addFuncAnthorGroup},slot:"right"},[e._v("添加功能权限组")])],1),e._v(" "),a("commonTablistY",{attrs:{options:e.tabsData},on:{change:e.checkOption},scopedSlots:e._u([{key:"default",fn:function(t){return[a("formDropDown",{attrs:{icon:"iconfont icon-shezhi",options:e.dropOptions,propsData:t.tab,props:e.dropProps},on:{click:e.dropType}},[a("el-button",{staticClass:"icon iconfont icon-shezhi blue",attrs:{slot:"link",type:"text link primary",size:"mini"},nativeOn:{click:function(a){return e.dropCheckIndex(t.tab)}},slot:"link"})],1)]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1),e._v(" "),a("div",{attrs:{slot:"right"},slot:"right"},[a("commonTitle",{staticClass:"mini darkgray",attrs:{border:"",icon:"null",title:"功能权限列表",height:"50px"}},[a("el-button",{attrs:{slot:"right",size:"mini",type:"text",icon:"el-icon-plus"},on:{click:e.addFuncAnthor},slot:"right"},[e._v("添加功能权限")])],1),e._v(" "),a("commonContainer",{staticClass:"padding"},[a("Sort",{attrs:{moduleList:e.tableData},on:{remove:e.remove,update:e.update,detail:e.detail}})],1)],1),e._v(" "),a("commonDialog",{attrs:{title:"功能权限组",height:"200px",visible:e.formControl.groupvisible,refresh:e.formControl.grouprefresh,form:e.groupForm,rules:e.groupRules,save:e.saveGroup},on:{"update:visible":function(t){return e.$set(e.formControl,"groupvisible",t)},"update:refresh":function(t){return e.$set(e.formControl,"grouprefresh",t)}}},[a("commonForm",[a("formRow",{attrs:{label:"功能权限组名称",required:"",rule:e.groupRules.name}},[a("formInput",{attrs:{placeholder:"请输入功能权限组名称",rule:e.groupRules.name},model:{value:e.groupForm.name,callback:function(t){e.$set(e.groupForm,"name",t)},expression:"groupForm.name"}})],1),e._v(" "),a("formRow",{attrs:{label:"功能权限组图标",required:"",rule:e.groupRules.icon}},[a("formSelect",{attrs:{placeholder:"请选择功能权限组图标",options:e.iconData,rule:e.groupRules.icon},scopedSlots:e._u([{key:"default",fn:function(e){return[a("span",{class:["blue","iconfont",e.row.name]})]}}]),model:{value:e.groupForm.icon,callback:function(t){e.$set(e.groupForm,"icon",t)},expression:"groupForm.icon"}},[e._v(" "),a("span",{class:["blue icon iconfont",e.groupForm.icon],attrs:{slot:"right"},slot:"right"})])],1)],1)],1),e._v(" "),a("commonDialog",{attrs:{title:"选择功能权限",visible:e.formControl.visible,width:"1000px",save:e.save},on:{"update:visible":function(t){return e.$set(e.formControl,"visible",t)}}},[a("commonBody",[e.groupList.length>0?a("commonTablistY",{attrs:{slot:"left",options:e.groupList},on:{change:e.clickGroup},slot:"left",model:{value:e.currentGroupId,callback:function(t){e.currentGroupId=t},expression:"currentGroupId"}}):e._e(),e._v(" "),a("commonTable",{staticClass:"padding",attrs:{slot:"right",showSelect:"",autoHeight:"",search:e.searchData,options:e.groupListData,gridColumns:e.gridColumns,refresh:e.formControl.refresh},on:{"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)},checkedChange:e.checkedChange},slot:"right"})],1)],1)],1)},staticRenderFns:[]};var Eo=a("C7Lr")(Po,Ao,!1,function(e){a("vN3U")},null,null).exports,Uo={name:"groupManager",components:{},props:{perPageId:{type:String,default:""},roleIds:{type:String,default:""}},data:function(){return{addOrUpdate:!0,checkedVal:null,searchData:{},total:0,treeData:[],selectOperationList:[],formControl:{visible:!1,refresh:!1,transferVisible:!1},gridColumns:[{text:"操作名称",align:"center",dataIndex:"name"},{text:"操作描述",align:"center",dataIndex:"description"},{text:"启用状态",align:"center",dataIndex:"status",formatter:function(e){return{showText:!0,text:{"":"已启用",0:"未启用",null:"已启用"}[e.row.status],class:{"":"green",0:"yellow",null:"green"}[e.row.status]}}},{text:"启用/停止",align:"center",dataIndex:"status",formatter:function(e){return{showBtn:!0,text:{"":"停用",0:"启用",null:"停用"}[e.row.status],eName:"onEnable",type:{"":"danger",0:"primary",null:"danger"}[e.row.status]}}}],tableData:[],url:this.$baseUrl+"sys/permissionPage/findPermissionPageOperationForRole?",addUrl:this.$baseUrl+"sys/permissionPage/addPermissionPageOperation",form:{id:"",name:"",description:"",operationId:"",permissionPageId:"",status:""},rules:{name:{required:!0},description:{required:!0}}}},mounted:function(){this.loadTable()},computed:{permissionPageId:function(){return this.perPageId},roleId:function(){return this.roleIds}},watch:{"formControl.refresh":function(e){e&&this.loadTable()},permissionPageId:function(e){this.loadTable(e)}},methods:{loadTable:function(){var e=this;if(this.permissionPageId){var t={url:this.url,data:{permissionPageId:this.permissionPageId,roleId:this.roleId}};this.$ajaxPost(t,!0,function(t){200===t.code?e.tableData=t.data:e.$showMsg("error",t.message)})}},checkedChange:function(e){this.selectOperationList=e},startRow:function(){this.startOrStop(1)},stopRow:function(){this.startOrStop(0)},startOrStop:function(e){var t=this,a=[];if(this.selectOperationList.length>0){this.selectOperationList.forEach(function(e){a.push(e.id)});var o={url:this.$baseUrl+"sys/permissionPage/switchPermissionPageOperationList",data:{permissionPageOperationIds:a,type:e,roleId:this.roleId}};this.$ajaxPost(o,!0,function(e){200===e.code?(t.$showMsg("success","保存成功！"),t.loadTable(t.selectedGroupId),t.formControl.visible=!1):t.$showMsg("error","保存失败！")})}},onEnable:function(e){var t=this;if(e.id){var a={url:this.$baseUrl+"sys/permissionPage/switchPermissionPageOperation?",data:{permissionPageOperationId:e.id,roleId:this.roleId}};this.$ajaxPost(a,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.loadTable()):t.$showMsg("error",e.message)})}else this.$showMsg("error","请选择要停用/启用的列")},delRow:function(e){var t=this;!e&&this.tableData.length<1?this.$showMsg("error","请选择需要删除的数据"):this.$showConfirm("确认删除该数据？",function(){var a={url:t.$baseUrl+"sys/permissionPage/deletePermissionPageOperationById?",data:{permissionPageOperationId:e.id}};t.$ajaxPost(a,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.loadTable()):t.$showMsg("error",e.message)})})},save:function(e){var t=this,a=this.addOrUpdate?this.addUrl:this.updateUrl,o=!0;if(this.rules&&(o=!!this.$validate.validRules(this.rules,this.form)),1==o){e();var r={url:a,data:this.form};this.$ajaxPost(r,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.formControl.visible=!1,t.loadTable()):t.$showMsg("error",e.message)})}},back:function(){this.$router.go(-1)}}},Vo={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"systemOperationConfig-wrapper",attrs:{local:"systemOperationConfig"}},[a("commonTable",{staticClass:"paddingX",attrs:{autoHeight:"",showSelect:"",gridColumns:e.gridColumns,search:e.searchData,refresh:e.formControl.refresh,options:e.tableData},on:{"update:search":function(t){e.searchData=t},"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)},onEnable:e.onEnable,delRow:e.delRow,checkedChange:e.checkedChange}},[a("commonSearch",{staticClass:"paddingY"},[a("el-button",{attrs:{slot:"left",size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.startRow()}},slot:"left"},[e._v("批量启用")]),e._v(" "),a("el-button",{attrs:{slot:"left",size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.stopRow()}},slot:"left"},[e._v("批量停用")])],1),e._v(" "),a("commonDialog",{attrs:{control:e.formControl,visible:e.formControl.visible,title:"信息项维护",form:e.form,rules:e.rules,save:e.save},on:{"update:control":function(t){e.formControl=t},"update:visible":function(t){return e.$set(e.formControl,"visible",t)}}},[a("commonForm",{attrs:{labelWidth:"180px"}},[a("formRow",{attrs:{label:"操作名称",required:"",rule:e.rules.name}},[a("formInput",{attrs:{placeholder:"请输入功能权限名称",rule:e.rules.name},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("formRow",{attrs:{label:"操作描述",required:"",rule:e.rules.description}},[a("formInput",{attrs:{type:"textarea",rows:5,placeholder:"请输入功能权限说明",rule:e.rules.description},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1)],1)],1)],1)],1)},staticRenderFns:[]};var Lo=a("C7Lr")(Uo,Vo,!1,function(e){a("vqnf")},null,null).exports,qo={name:"groupManager",components:{},props:{perPageId:{type:String,default:""},roleIds:{type:String,default:""}},data:function(){return{addOrUpdate:!0,checkedVal:null,searchData:{},formControl:{visible:!1,refresh:!1,transferVisible:!1},gridColumns:[{text:"接口名称",align:"center",dataIndex:"showName"},{text:"接口地址",align:"center",dataIndex:"name"},{text:"接口描述",align:"center",dataIndex:"description"},{text:"sql",align:"center",dataIndex:"roleSql"},{text:"配置数据权限",align:"center",width:200,formatter:function(e){return{showBtn:!0,text:"配置数据权限",eName:"onInputSql",type:"primary"}}}],tableData:[],url:this.$baseUrl+"sys/dataPermission/findPageInterfaceVOListForRole?",addUrl:this.$baseUrl+"sys/dataPermission/savePageInterface",form:{id:"",roleId:"",roleSql:""},rules:{roleSql:{required:!0}}}},mounted:function(){this.loadTable()},computed:{permissionPageId:function(){return this.perPageId},roleId:function(){return this.roleIds}},watch:{"formControl.refresh":function(e){e&&this.loadTable()},permissionPageId:function(e){this.loadTable(e)}},methods:{loadTable:function(){var e=this;if(this.permissionPageId){var t={url:this.url,data:{permissionPageId:this.permissionPageId,roleId:this.roleId}};this.$ajaxPost(t,!0,function(t){200===t.code?e.tableData=t.data:e.$showMsg("error",t.message)})}},checkedChange:function(e){},onInputSql:function(e){for(var t in this.form)this.form[t]=null;this.form.id=e.id,this.form.roleId=this.roleId,this.formControl.visible=!0},save:function(e){var t=this,a=!0;if(this.rules&&(a=!!this.$validate.validRules(this.rules,this.form)),1==a){e();var o={url:this.$baseUrl+"sys/dataPermission/fillSqlToRole?",data:this.form};this.$ajaxPost(o,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.formControl.visible=!1,t.loadTable()):t.$showMsg("error",e.message)})}},back:function(){this.$router.go(-1)}}},Oo={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"systemApiSetting-wrapper",attrs:{local:"systemApiSetting"}},[a("commonTable",{staticClass:"padding",attrs:{autoHeight:"",showSelect:"",gridColumns:e.gridColumns,search:e.searchData,refresh:e.formControl.refresh,options:e.tableData},on:{"update:search":function(t){e.searchData=t},"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)},checkedChange:e.checkedChange,onInputSql:e.onInputSql}},[a("commonDialog",{attrs:{control:e.formControl,visible:e.formControl.visible,title:"信息项维护",form:e.form,rules:e.rules,save:e.save},on:{"update:control":function(t){e.formControl=t},"update:visible":function(t){return e.$set(e.formControl,"visible",t)}}},[a("commonForm",{attrs:{labelWidth:"180px"}},[a("formRow",{attrs:{label:"配置数据权限",required:"",rule:e.rules.roleSql}},[a("formInput",{attrs:{type:"textarea",rows:5,placeholder:"请输入功能权限说明",rule:e.rules.roleSql},model:{value:e.form.roleSql,callback:function(t){e.$set(e.form,"roleSql",t)},expression:"form.roleSql"}})],1),e._v(" "),a("formRow",{attrs:{label:"动态字段",required:"",rule:e.rules.roleSql}},[a("formInput",{attrs:{disabled:"",placeholder:"请输入功能权限名称",rule:e.rules.roleSql},model:{value:e.form.roleSql,callback:function(t){e.$set(e.form,"roleSql",t)},expression:"form.roleSql"}})],1)],1)],1)],1)],1)},staticRenderFns:[]};var jo={name:"logManager",components:{systemOperationConfig:Lo,systemApiSetting:a("C7Lr")(qo,Oo,!1,function(e){a("kPjT")},null,null).exports},data:function(){return{selected:0,searchData:{},addOrUpdate:!0,permissionPageId:"",form:{permissionId:"",id:"",name:"",url:"",description:"",parentId:"",sortNumber:""},rules:{name:{required:!0},url:{required:!0}},formControl:{visible:!1,refresh:!1},tabsData:[],checkedX:0,tabsXData:[{name:"操作配置",comName:"systemOperationConfig",icon:"icon-setting"}],gridColumns:[{text:"功能权限说明",align:"center",dataIndex:"introduction"},{text:"页面数量",align:"center",dataIndex:"pageCount"},{text:"操作",align:"center",width:"70",formatter:function(e){return{showDropDown:!0,showText:"操作",data:[{text:"修改",class:"blue",eName:"changeRow"},{text:"删除",class:"red",eName:"delRow"}]}}}],tableData:[],url:this.$baseUrl+"sys/permissionPage/findPermissionPage",addUrl:this.$baseUrl+"sys/permissionPage/addPermissionPage",updateUrl:this.$baseUrl+""}},mounted:function(){this.loadData()},computed:{name:function(){return this.$route.query.name},permissionId:function(){return this.$route.query.id},pageTitle:function(){return this.name+"页面配置"},roleId:function(){return this.$route.query.roleId}},watch:{"formControl.refresh":function(e){}},methods:{loadData:function(){var e=this,t={url:this.url,data:{permissionId:this.permissionId}};this.$ajaxPost(t,!0,function(t){200===t.code?(e.tabsData=t.data,e.tabsData.length>0&&(e.permissionPageId=e.tabsData[e.selected].id)):e.$showMsg("error",t.message)})},changeTab:function(e){e.id&&(this.permissionPageId=e.id)},addTab:function(){for(var e in this.addOrUpdate=!0,this.form)this.form[e]=null;this.form.permissionId=this.permissionId,this.formControl.visible=!0},delTab:function(e){var t=this;!e&&this.tableData.length<1?this.$showMsg("error","请选择需要删除的数据"):this.$showConfirm("确认删除该数据？",function(){var a={url:t.$baseUrl+"sys/permissionPage/deletePermissionPageById?",data:{permissionPageId:e.id}};t.$ajaxPost(a,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.loadData()):t.$showMsg("error",e.message)})})},save:function(e){var t=this,a=this.addOrUpdate?this.addUrl:this.updateUrl,o=!0;if(this.rules&&(o=!!this.$validate.validRules(this.rules,this.form)),1==o){e();var r={url:a,data:this.form};this.$ajaxPost(r,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.formControl.visible=!1,t.loadData()):t.$showMsg("error",e.message)})}},back:function(){this.$router.go(-1)},changeComName:function(){}}},Bo={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"systemEditPageConfig-wrapper"},[a("commonTitle",{attrs:{slot:"title",showShadow:"",title:e.pageTitle},slot:"title"},[a("el-button",{attrs:{slot:"right",size:"mini",type:"primary",icon:"el-icon-back"},on:{click:function(t){return e.back()}},slot:"right"},[e._v("返回")])],1),e._v(" "),a("div",{attrs:{slot:"left"},slot:"left"},[a("commonTitle",{staticClass:"mini darkgray",attrs:{border:"",icon:"null",title:"页面",height:"50px"}}),e._v(" "),a("commonTablistY",{attrs:{options:e.tabsData},on:{change:e.changeTab},model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1),e._v(" "),a("div",{attrs:{slot:"right"},slot:"right"},[a("commonTablistX",{staticClass:"padding",attrs:{position:"top",options:e.tabsXData},model:{value:e.checkedX,callback:function(t){e.checkedX=t},expression:"checkedX"}}),e._v(" "),a("keep-alive",[a(e.tabsXData[e.checkedX].comName,{tag:"component",attrs:{roleIds:e.roleId,perPageId:e.permissionPageId},on:{change:e.changeComName}})],1)],1),e._v(" "),a("commonDialog",{attrs:{title:"添加页面",height:"200px",visible:e.formControl.visible,refresh:e.formControl.refresh,form:e.form,rules:e.rules,save:e.save},on:{"update:visible":function(t){return e.$set(e.formControl,"visible",t)},"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)}}},[a("commonForm",[a("formRow",{attrs:{label:"页面名称",required:"",rule:e.rules.name}},[a("formInput",{attrs:{placeholder:"请输入功能权限组名称",rule:e.rules.name},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("formRow",{attrs:{label:"路由名称",required:"",rule:e.rules.url}},[a("formInput",{attrs:{placeholder:"请输入功能权限组名称",rule:e.rules.url},model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1)],1)],1)],1)},staticRenderFns:[]};var zo=a("C7Lr")(jo,Bo,!1,function(e){a("O2yp")},null,null).exports,Ho={name:"infoSetTable",props:{roleId:{type:String,default:""}},components:{selectListDialog:Ft},data:function(){return{searchText:"",total:0,pageTitle:"信息集组",addOrUpdate:!0,searchListText:"",listData:[],sysAppTableGroupId:"",sysAppId:"",searchData:{sysAppTableGroupId:null,name:"",orderBy:"",roleId:""},treeProps:{value:"id",label:"name",children:"sysAppTableGroups",icon:"icon-group red",childrenIcon:"icon-biaodan blue"},treeData:[],tableData:[],formControl:{visible:!1,refresh:!1,transferVisible:!1},form:{canReadAll:"",canWriteAll:"",createId:"",createTime:"",roleId:"",sysAppId:"",sysAppTableSetIds:[],tabSetName:"",sysAppTableGroupId:""},gridColumns:[{text:"表中文名",align:"center",dataIndex:"nameCn"},{text:"表英文名",align:"center",dataIndex:"nameEn"},{text:"操作",align:"center",fixed:"right",formatter:function(e){return{showDropDown:!0,showText:"操作",data:[{text:"删除",class:"blue",eName:"delRow"}]}}}],url:this.$baseUrl+"sys/systable/type/findAllSysTableType"}},created:function(){this.loadData()},mounted:function(){},watch:{},methods:{changeWidth:function(e){console.log("width+++++"),console.log(e),this.$emit("refreshContainer")},searchClick:function(e){this.loadTable(this.sysAppTableGroupId,e)},loadData:function(){var e=this,t={url:this.$baseUrl+"sys/sysapp/tableAccess/tree"};this.$ajaxPost(t,!0,function(t){200===t.code?e.treeData=e._normalTreeData(t.data):e.$showMsg("error",t.message)})},_normalTreeData:function(e){return e.forEach(function(e,t){e.isFalse=!0}),e},loadTable:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o={url:this.$baseUrl+"sys/sysapp/tableAccess/list",data:{name:a,orderBy:"",roleId:this.roleId,sysAppTableGroupId:e}};this.$ajaxPost(o,!0,function(e){200===e.code?(t.tableData=t._normalTabData(e.data.data),t.tableData.length>0&&(t.total=e.data.totalCount)):t.$showMsg("error",e.message)})},_normalTabData:function(e){return e.forEach(function(e){return e.name=e.nameCn}),e},loadTabSetList:function(e){var t=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o={url:this.$baseUrl+"sys/sysapp/tableSet/list",data:{name:a,orderBy:"",roleId:this.roleId,sysAppTableGroupId:e}};this.$ajaxPost(o,!0,function(e){200===e.code?t.listData=e.data.data:t.$showMsg("error",e.message)})},nodeClick:function(e){this.sysAppTableGroupId=e.id,this.loadTabSetList(this.sysAppTableGroupId),this.sysAppId=e.sysAppId,this.loadTable(this.sysAppTableGroupId)},addRow:function(){for(var e in this.addOrUpdate=!0,this.form)this.form[e]="sysAppTableSetIds"!==e?null:[];this.form.roleId=this.roleId,this.form.sysAppId=this.sysAppId,this.form.sysAppTableGroupId=this.sysAppTableGroupId,this.formControl.visible=!0},changeSelectList:function(e){var t=[];e.map(function(e){t.push(e.id)});this.form.sysAppTableSetIds=t},searchList:function(e){this.loadTabSetList(this.sysAppTableGroupId,e)},saveTabSet:function(e){var t=this;console.log(this.form);var a=this.form.sysAppTableSetIds.length>0;if(console.log(a),a){e();var o={url:this.$baseUrl+"sys/sysapp/tableAccess/add",data:this.form};this.$ajaxPost(o,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.formControl.visible=!1,t.loadData(),t.loadTabSetList(t.sysAppTableGroupId),t.loadTable(t.sysAppTableGroupId)):t.$showMsg("error",e.message)})}},changeRow:function(e){this.addOrUpdate=!1},delRow:function(e){var t=this;!e&&this.tableData.length<1?this.$showMsg("error","请选择需要删除的数据"):this.$showConfirm("确认删除该数据？",function(){var a={url:t.$baseUrl+"sys/sysapp/tableAccess/delete",data:{ids:[e.id]}};t.$ajaxPost(a,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.loadData()):t.$showMsg("error",e.message)})})},rowClick:function(e,t,a){this.$emit("rowClick",e,t,a)},back:function(){this.$router.go(-1)}}},Go={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"infoSetTable-wrapper",attrs:{local:"infoSetTable"},on:{changeWidth:e.changeWidth}},[a("div",{staticClass:"table-title",attrs:{slot:"title"},slot:"title"},[a("span",[e._v("表的访问权限")])]),e._v(" "),a("commonTree",{attrs:{slot:"left",local:"infoSetTable",autoHeight:"",defaultChecked:"",filter:"",props:e.treeProps,options:e.treeData},on:{nodeClick:e.nodeClick},slot:"left",model:{value:e.sysAppTableGroupId,callback:function(t){e.sysAppTableGroupId=t},expression:"sysAppTableGroupId"}}),e._v(" "),a("commonTable",{staticClass:"padding",attrs:{slot:"right",autoHeight:"",defaultChecked:"",gridColumns:e.gridColumns,search:e.searchData,total:e.total,refresh:e.formControl.refresh,options:e.tableData},on:{"update:search":function(t){e.searchData=t},"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)},changeRow:e.changeRow,delRow:e.delRow,rowClick:e.rowClick},slot:"right"},[a("commonSearch",[a("el-button",{attrs:{slot:"left",size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addRow()}},slot:"left"},[e._v("添加")]),e._v(" "),a("div",{attrs:{slot:"right"},slot:"right"},[a("formInput",{staticClass:"radius large",attrs:{size:"large",placeholder:"请输入属性中文名查询",suffixIcon:"el-icon-search"},on:{iconClick:e.searchClick},model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})],1)],1)],1),e._v(" "),a("commonDialog",{attrs:{title:"系统应用表集合列表",width:"500px",visible:e.formControl.visible,refresh:e.formControl.refresh,save:e.saveTabSet},on:{"update:visible":function(t){return e.$set(e.formControl,"visible",t)},"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)}}},[a("selectListDialog",{staticClass:"addForm",attrs:{filter:"",filterText:e.searchListText,options:e.listData},on:{"update:filterText":function(t){e.searchListText=t},"update:filter-text":function(t){e.searchListText=t},change:e.changeSelectList,onSearch:e.searchList}})],1)],1)},staticRenderFns:[]};var Wo=a("C7Lr")(Ho,Go,!1,function(e){a("l/c5")},null,null).exports,Ko={name:"",props:{roleId:{type:String,default:""},sysAppRoleTableAccessId:{type:String,default:""}},data:function(){return{searchText:"",checkedTable:[],total:0,searchData:{name:"",orderBy:"",pageIndex:1,pageSize:20,sysAppRoleTableAccessId:""},AccessId:"",form:{name:"",code:""},rules:{name:{required:!0},code:{required:!0}},formControl:{refresh:!1,visible:!1},groupColumns:[{text:"字段中文名",align:"center",dataIndex:"name"},{text:"字段英文名",align:"center",dataIndex:"nameEn"},{text:"是否能读字段",align:"center",width:"120",formatter:function(e){return{checkbox:!0,limit:"read",eName:"checkClick",check:e.row.canRead}}},{text:"是否能修改字段",align:"center",width:"120",formatter:function(e){return{checkbox:!0,limit:"write",eName:"checkClick",check:e.row.canWrite}}}],options:[],url:this.$baseUrl+"sys/sysapp/fieldAccess/list",updateUrl:this.$baseUrl+"sys/sysapp/fieldAccess/modify"}},watch:{searchData:{handler:function(e){this.loadData()},deep:!0},sysAppRoleTableAccessId:function(e){this.searchData.sysAppRoleTableAccessId=e}},mounted:function(){},methods:{loadData:function(){var e=this,t={url:this.url,data:this.searchData};this.$ajaxPost(t,!0,function(t){200===t.code?(e.options=e._normalTabData(t.data.data),e.total=t.data.totalCount):e.$showMsg("error",t.message)})},_normalTabData:function(e){return e.forEach(function(e){return e.name=e.nameCn}),e},checkClick:function(e,t){var a=this;"read"==t?e.canRead=!e.canRead:e.canWrite=!e.canWrite;var o={url:this.$baseUrl+"sys/sysapp/fieldAccess/modify",data:{canRead:e.canRead,canWrite:e.canWrite,ids:[e.id]}};this.$ajaxPost(o,!0,function(e){200===e.code?a.loadData():a.$showMsg("error",e.message)})},debounce:function(e,t){var a=void 0;return function(){for(var o=this,r=arguments.length,s=Array(r),n=0;n<r;n++)s[n]=arguments[n];a&&clearTimeout(a),a=setTimeout(function(){e.apply(o,s)},t)}},onSearch:function(e){this.searchData.name=e,this.searchData.pageIndex=1},changeRow:function(e){},checkedChange:function(e){},rowClick:function(e){}}},Xo={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"infoFieldTable"},[e._m(0),e._v(" "),a("commonTable",{staticClass:"padding",attrs:{autoHeight:"",showPagination:"",defaultChecked:"",refresh:e.formControl.refresh,gridColumns:e.groupColumns,options:e.options,search:e.searchData,total:e.total},on:{"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)},checkClick:e.checkClick,changeRow:e.changeRow,rowClick:e.rowClick,checkedChange:e.checkedChange}},[a("commonSearch",[a("formInput",{staticClass:"radius large",attrs:{slot:"right",placeholder:"请输入字段中文名查询",suffixIcon:"el-icon-search"},on:{iconClick:e.onSearch},slot:"right",model:{value:e.searchText,callback:function(t){e.searchText=t},expression:"searchText"}})],1)],1)],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"table-title"},[t("span",[this._v("表字段访问权限")])])}]};var Yo={components:{InfoSetTable:Wo,infoFieldTable:a("C7Lr")(Ko,Xo,!1,function(e){a("2xZa")},null,null).exports},data:function(){return{formControl:{containerRefresh:!1},sysAppRoleTableAccessId:""}},computed:{roleId:function(){return this.$route.query.roleId},pageTitle:function(){return this.$route.query.name+"信息权限配置"}},watch:{},mounted:function(){},methods:{refreshContainer:function(){this.formControl.containerRefresh=!0},rowClick:function(e,t,a){this.$refs.AppGroupTable.searchData.pageIndex=1,this.sysAppRoleTableAccessId=e?e.id:""},clickAppGroup:function(e){},clickAppList:function(e){},clickFieldGroup:function(e){},back:function(){this.$router.go(-1)}}},Qo={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"infoSetField-wrapper",attrs:{max:"",width:"50%",local:"infoSetField",refresh:e.formControl.containerRefresh},on:{"update:refresh":function(t){return e.$set(e.formControl,"containerRefresh",t)}}},[a("commonTitle",{attrs:{slot:"title",showShadow:"",title:e.pageTitle},slot:"title"},[a("el-button",{attrs:{slot:"right",size:"mini",type:"primary",icon:"el-icon-back"},on:{click:function(t){return e.back()}},slot:"right"},[e._v("返回")])],1),e._v(" "),a("InfoSetTable",{staticClass:"border",attrs:{slot:"left",roleId:e.roleId},on:{rowClick:e.rowClick},slot:"left"}),e._v(" "),a("infoFieldTable",{ref:"AppGroupTable",staticClass:"border",attrs:{slot:"right",sysAppRoleTableAccessId:e.sysAppRoleTableAccessId,roleId:e.roleId},on:{refreshContainer:e.refreshContainer,rowClick:e.clickAppGroup},slot:"right"})],1)},staticRenderFns:[]};var Jo=a("C7Lr")(Yo,Qo,!1,function(e){a("25iv")},null,null).exports,Zo={name:"commonUseInfoSet",components:{selectListDialog:Ft},data:function(){var e=this;return{searchText:"",total:0,pageTitle:"常用信息集维护",addOrUpdate:!0,searchListText:"",listData:[],sysAppTableGroupId:"",sysAppId:"",setListData:[],searchData:{orderBy:"",pageIndex:1,pageSize:20,roleId:this.$route.query.roleId},tableData:[],formControl:{visible:!1,refresh:!1,transferVisible:!1},rpTableAddModels:[],dropStarOptions:[{text:"删除",class:"red",eName:"delRow"},{text:"上移",class:"blue",eName:"upGroup"},{text:"下移",class:"blue",eName:"dowmGroup"}],gridColumns:[{text:"表中文名",align:"center",dataIndex:"name"},{text:"表英文名",align:"center",dataIndex:"nameEN"},{text:"操作",align:"center",fixed:"right",width:"70",formatter:function(t){var a=e.$deepClone(e.dropStarOptions),o=t.$index;return 0==o?e.tableData.length<=1?a.splice(2,2):a.splice(1,1):o==e.tableData.length-1&&a.splice(2,1),{showDropDown:!0,showText:"操作",data:a}}}],url:this.$baseUrl+"sys/systable/type/findAllSysTableType"}},created:function(){this.loadTable(),this.loadTabSetList()},mounted:function(){},computed:{roleId:function(){return this.$route.query.roleId}},watch:{"formControl.refresh":function(e){e&&this.loadTable()},searchData:{handler:function(e){this.loadTable()},deep:!0}},methods:{searchClick:function(e){this.loadTable(this.sysAppTableGroupId,e)},loadTable:function(){var e=this,t={url:this.$baseUrl+"user/rolePermissionTableController/findRPTablePageList",data:this.searchData};this.$ajaxPost(t,!0,function(t){200===t.code?(e.tableData=t.data.data,e.tableData.length>0&&(e.total=t.data.totalCount)):e.$showMsg("error",t.message)})},_normalTabData:function(e){var t=this.tableData;return t.forEach(function(t,a){e.forEach(function(a,o){a.name=a.nameCn,t.tableId==a.id&&e.splice(o,1)})}),e},loadTabSetList:function(){var e=this,t=(arguments.length>0&&void 0!==arguments[0]&&arguments[0],{url:this.$baseUrl+"sys/systable/findSysTables"});this.$ajaxPost(t,!0,function(t){200===t.code?(e.listData=e._normalTabData(t.data),e.setListData=e._normalTabData(t.data)):e.$showMsg("error",t.message)})},addRow:function(){this.addOrUpdate=!0,this.rpTableAddModels=[],this.loadTabSetList(),this.formControl.visible=!0},changeSelectList:function(e){var t=this,a=[];e.map(function(e){e.roleId=t.roleId,e.tableId=e.id,e.sortNumber=e.sort,e.name=e.nameCn,e.nameEN=e.nameEn,a.push(e)});this.rpTableAddModels=a},searchList:function(e){var t=[];this.$deepClone(this.setListData).forEach(function(a){a.name.indexOf(e)>=0&&t.push(a)}),this.listData=t},upGroup:function(e){var t=e.$index,a=[];a.push(this.tableData[t].id),a.push(this.tableData[t-1].id),this.upDateGroup(a)},dowmGroup:function(e){var t=e.$index,a=[];a.push(this.tableData[t].id),a.push(this.tableData[t+1].id),this.upDateGroup(a)},upDateGroup:function(e){var t=this;if(2==e.length){var a={url:this.$baseUrl+"user/rolePermissionTableController/changeRPTableSort",data:{ids:e}};this.$ajaxPost(a,!0,function(e){200===e.code?(t.$showMsg("success","保存成功！"),t.loadTable()):t.$showMsg("error","保存失败！")})}},saveTabSet:function(e){var t=this;if(this.rpTableAddModels.length>0){e();var a={url:this.$baseUrl+"user/rolePermissionTableController/saveRPTable",data:{rpTableAddModels:this.rpTableAddModels}};this.$ajaxPost(a,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.formControl.visible=!1,t.loadTable()):t.$showMsg("error",e.message)})}},delRow:function(e){var t=this;!e&&this.tableData.length<1?this.$showMsg("error","请选择需要删除的数据"):this.$showConfirm("确认删除该数据？",function(){var a={url:t.$baseUrl+"user/rolePermissionTableController/deleteRPTable",data:{ids:[e.id]}};t.$ajaxPost(a,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.loadTable()):t.$showMsg("error",e.message)})})},rowClick:function(e,t,a){this.$emit("rowClick",e,t,a)},back:function(){this.$router.go(-1)}}},er={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"commonUseInfoSet-wrapper",attrs:{local:"commonUseInfoSet"}},[a("commonTitle",{attrs:{slot:"title",showShadow:"",title:e.pageTitle},slot:"title"}),e._v(" "),a("commonTable",{staticClass:"padding",attrs:{autoHeight:"",defaultChecked:"",showPagination:"",gridColumns:e.gridColumns,search:e.searchData,total:e.total,refresh:e.formControl.refresh,options:e.tableData},on:{"update:search":function(t){e.searchData=t},"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)},delRow:e.delRow,upGroup:e.upGroup,dowmGroup:e.dowmGroup,rowClick:e.rowClick}},[a("commonSearch",[a("el-button",{attrs:{slot:"left",size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addRow()}},slot:"left"},[e._v("添加")])],1)],1),e._v(" "),a("commonDialog",{attrs:{title:"系统应用表集合列表",width:"500px",visible:e.formControl.visible,refresh:e.formControl.refresh,save:e.saveTabSet},on:{"update:visible":function(t){return e.$set(e.formControl,"visible",t)},"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)}}},[a("selectListDialog",{staticClass:"addForm",attrs:{filter:"",filterText:e.searchListText,options:e.listData},on:{"update:filterText":function(t){e.searchListText=t},"update:filter-text":function(t){e.searchListText=t},change:e.changeSelectList,onSearch:e.searchList}})],1)],1)},staticRenderFns:[]};var tr=a("C7Lr")(Zo,er,!1,function(e){a("/4kv")},null,null).exports,ar={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"cadreSql-wrapper"},[a("commonTitle",{attrs:{slot:"title",showShadow:"",title:e.pageTitle},slot:"title"},[a("el-button",{attrs:{slot:"right",size:"mini",type:"primary",icon:"el-icon-back"},on:{click:function(t){return e.back()}},slot:"right"},[e._v("返回")])],1),e._v(" "),a("commonTable",{staticClass:"padding",attrs:{autoHeight:"",showPagination:"",gridColumns:e.gridColumns,search:e.searchData,refresh:e.formControl.refresh,total:e.total,options:e.tableData},on:{"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)},changeRow:e.changeRow,delRow:e.delRow}},[a("commonSearch",[a("el-button",{attrs:{slot:"left",size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addRow()}},slot:"left"},[e._v("新增配置项")])],1)],1),e._v(" "),a("commonDialog",{attrs:{title:"权限页面SQL配置",visible:e.formControl.visible,refresh:e.formControl.refresh,form:e.form,rules:e.rules,save:e.save},on:{"update:visible":function(t){return e.$set(e.formControl,"visible",t)},"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)}}},[a("commonForm",{attrs:{labelWidth:"150px"}},[a("formRow",{attrs:{label:"该条sql中文名称",required:"",rule:e.rules.sqlNameCn}},[a("formSelect",{attrs:{options:e.options,placeholder:"请选择sql中文名称",rule:e.rules.sqlNameCn},model:{value:e.form.sqlNameCn,callback:function(t){e.$set(e.form,"sqlNameCn",t)},expression:"form.sqlNameCn"}})],1),e._v(" "),a("formRow",{attrs:{label:"该条sql英文名称",required:"",rule:e.rules.sqlNameEn}},[a("formSelect",{attrs:{options:e.options1,placeholder:"请选择sql英文名称",rule:e.rules.sqlNameEn},model:{value:e.form.sqlNameEn,callback:function(t){e.$set(e.form,"sqlNameEn",t)},expression:"form.sqlNameEn"}})],1),e._v(" "),a("formRow",{attrs:{label:"执行sql查询的select字段名称（中文）"}},[a("formInput",{attrs:{type:"textarea",placeholder:"请输入select字段名称（中文）"},model:{value:e.form.selectListFieldsCn,callback:function(t){e.$set(e.form,"selectListFieldsCn",t)},expression:"form.selectListFieldsCn"}})],1),e._v(" "),a("formRow",{attrs:{label:"执行sql查询的select字段名称（英文）",required:"",rule:e.rules.selectListFieldsEn}},[a("formInput",{attrs:{type:"textarea",placeholder:"请输入sql查询的select字段名称（英文）",rule:e.rules.selectListFieldsEn},model:{value:e.form.selectListFieldsEn,callback:function(t){e.$set(e.form,"selectListFieldsEn",t)},expression:"form.selectListFieldsEn"}})],1),e._v(" "),a("formRow",{attrs:{label:"执行count列名",required:"",rule:e.rules.selectCountFieldEn}},[a("formInput",{attrs:{placeholder:"请输入执行count列名",rule:e.rules.selectCountFieldEn},model:{value:e.form.selectCountFieldEn,callback:function(t){e.$set(e.form,"selectCountFieldEn",t)},expression:"form.selectCountFieldEn"}})],1),e._v(" "),a("formRow",{attrs:{label:"默认排序"}},[a("formInput",{attrs:{type:"textarea",placeholder:"请输入包含下级时默认排序"},model:{value:e.form.defaultSort,callback:function(t){e.$set(e.form,"defaultSort",t)},expression:"form.defaultSort"}})],1),e._v(" "),a("formRow",{attrs:{label:"执行统计sql语句",required:"",rule:e.rules.execCountSql}},[a("formInput",{attrs:{type:"textarea",placeholder:"请输入执行统计sql语句",rule:e.rules.execCountSql},model:{value:e.form.execCountSql,callback:function(t){e.$set(e.form,"execCountSql",t)},expression:"form.execCountSql"}})],1),e._v(" "),a("formRow",{attrs:{label:"执行的sql语句",required:"",rule:e.rules.execListSql}},[a("formInput",{attrs:{type:"textarea",placeholder:"请输入执行的sql语句",rule:e.rules.execListSql},model:{value:e.form.execListSql,callback:function(t){e.$set(e.form,"execListSql",t)},expression:"form.execListSql"}})],1)],1)],1)],1)},staticRenderFns:[]};var or=a("C7Lr")({name:"cadreSql",data:function(){return{query:"",total:0,searchData:{orderBy:"",pageIndex:1,pageSize:20,roleIds:[this.$route.query.roleId]},options:[{name:"干部列表",id:"干部列表"},{name:"单位列表",id:"单位列表"}],options1:[{name:"cadreList",id:"cadreList"},{name:"departmentList",id:"departmentList"}],options2:[{name:"否",id:"0"},{name:"是",id:"1"}],form:{sqlNameCn:"",sqlNameEn:"",roleId:"",id:"",selectListFieldsCn:"",selectListFieldsEn:"",selectCountFieldEn:"",execCountSql:"",execListSql:"",defaultSort:""},rules:{sqlNameCn:{required:!0},sqlNameEn:{required:!0},roleId:{required:!0},selectListFieldsEn:{required:!0},selectCountFieldEn:{required:!0},execCountSql:{required:!0},execListSql:{required:!0}},formControl:{visible:!1,refresh:!1},gridColumns:[{text:"sql中文名称",align:"center",dataIndex:"sqlNameCn"},{text:"sql英文名称",align:"center",dataIndex:"sqlNameEn"},{text:"执行sql查询的select字段名称（中文）",align:"center",dataIndex:"selectListFieldsCn"},{text:"执行sql查询的select字段名称（英文）",align:"center",dataIndex:"selectListFieldsEn"},{text:"执行count列名",align:"center",dataIndex:"selectCountFieldEn"},{text:"执行统计sql语句",align:"center",dataIndex:"execCountSql"},{text:"执行的sql语句",align:"center",dataIndex:"execListSql"},{text:"默认排序",align:"center",dataIndex:"defaultSort"},{text:"操作",align:"center",width:"70",formatter:function(e){return{showDropDown:!0,showText:"操作",data:[{text:"修改",class:"blue",eName:"changeRow"},{text:"删除",class:"red",eName:"delRow"}]}}}],tableData:[],url:this.$baseUrl+"user/rolePermissionPageSql/findRPPageSqlPageList",addUrl:this.$baseUrl+"user/rolePermissionPageSql/saveRPPageSql",updateUrl:this.$baseUrl+"user/rolePermissionPageSql/modifyRPPageSql"}},mounted:function(){this.loadData()},computed:{roleId:function(){return this.$route.query.roleId},pageTitle:function(){return this.$route.query.name+"权限页面SQL配置"}},watch:{searchData:{handler:function(e){this.loadData()},deep:!0}},methods:{loadData:function(){var e=this,t={url:this.url,data:this.searchData};this.$ajaxPost(t,!0,function(t){200===t.code?(e.tableData=t.data.data,e.total=t.data.totalCount):e.$showMsg("error",t.message)})},searchClick:function(){this.query},addRow:function(){for(var e in this.addOrUpdate=!0,this.form)this.form[e]=null;this.form.roleId=this.roleId,this.formControl.visible=!0},changeRow:function(e){for(var t in this.addOrUpdate=!1,this.form)this.form[t]=e[t];this.form.roleId=this.roleId,this.formControl.visible=!0},delRow:function(e){var t=this;!e&&this.tableData.length<1?this.$showMsg("error","请选择需要删除的数据"):this.$showConfirm("确认删除该数据？",function(){var a={url:t.$baseUrl+"user/rolePermissionPageSql/deleteRPPageSql",data:{ids:[e.id]}};t.$ajaxPost(a,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.loadData()):t.$showMsg("error",e.message)})})},save:function(e){var t=this,a=this.addOrUpdate?this.addUrl:this.updateUrl,o=!0;if(this.rules&&(o=!!this.$validate.validRules(this.rules,this.form)),o){e();var r={url:a,data:this.form};this.$ajaxPost(r,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.formControl.visible=!1,t.loadData()):t.$showMsg("error",e.message)})}},back:function(){this.$router.go(-1)}}},ar,!1,function(e){a("8tLn")},null,null).exports,rr={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"infoConfig-wrapper"},[a("commonTitle",{attrs:{slot:"title",showShadow:"",title:e.pageTitle},slot:"title"},[a("el-button",{attrs:{slot:"right",size:"mini",type:"primary",icon:"el-icon-back"},on:{click:function(t){return e.back()}},slot:"right"},[e._v("返回")])],1),e._v(" "),a("commonTable",{staticClass:"padding",attrs:{autoHeight:"",showPagination:"",gridColumns:e.gridColumns,search:e.searchData,refresh:e.formControl.refresh,total:e.total,options:e.tableData},on:{"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)},changeRow:e.changeRow,delRow:e.delRow}},[a("commonSearch",[a("el-button",{attrs:{slot:"left",size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addRow()}},slot:"left"},[e._v("新增")]),e._v(" "),a("formInput",{staticClass:"radius large",attrs:{slot:"right",size:"large",placeholder:"请输入关键字查询",suffixIcon:"el-icon-search"},on:{iconClick:e.searchClick},slot:"right",model:{value:e.query,callback:function(t){e.query=t},expression:"query"}})],1)],1),e._v(" "),a("commonDialog",{attrs:{title:"权限页面SQL配置",visible:e.formControl.visible,refresh:e.formControl.refresh,form:e.form,rules:e.rules,save:e.save},on:{"update:visible":function(t){return e.$set(e.formControl,"visible",t)},"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)}}},[a("commonForm",{attrs:{labelWidth:"150px"}},[a("formRow",{attrs:{label:"名称",required:"",rule:e.rules.name}},[a("formInput",{attrs:{placeholder:"请输入名称",rule:e.rules.name},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("formRow",{attrs:{label:"sql",required:"",rule:e.rules.sql}},[a("formInput",{attrs:{type:"textarea",placeholder:"请输入sql",rule:e.rules.sql},model:{value:e.form.sql,callback:function(t){e.$set(e.form,"sql",t)},expression:"form.sql"}})],1),e._v(" "),a("formRow",{attrs:{label:"sql类型",required:"",rule:e.rules.type}},[a("formSelect",{attrs:{options:e.options,placeholder:"请选择sql类型",rule:e.rules.type},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}})],1),e._v(" "),a("formRow",{attrs:{label:"接口url",required:"",rule:e.rules.url}},[a("formInput",{attrs:{type:"textarea",placeholder:"请输入接口url",rule:e.rules.url},model:{value:e.form.url,callback:function(t){e.$set(e.form,"url",t)},expression:"form.url"}})],1)],1)],1)],1)},staticRenderFns:[]};var sr=a("C7Lr")({name:"infoConfig",data:function(){return{query:"",total:0,searchData:{name:"",orderBy:"",pageIndex:1,pageSize:20,url:""},options:[],format:"YYYY-MM-DD",form:{createId:"",createTime:"",modifyId:"",modifyTime:"",id:"",name:"",roleId:"",sql:"",type:"",url:""},rules:{name:{required:!0},sql:{required:!0},type:{required:!0},url:{}},formControl:{visible:!1,refresh:!1},gridColumns:[{text:"名称",align:"center",dataIndex:"name"},{text:"sql",align:"center",dataIndex:"sql"},{text:"sql类型",align:"center",dataIndex:"type"},{text:"sql类型名称",align:"center",dataIndex:"typeName"},{text:"接口url",align:"center",dataIndex:"url"},{text:"操作",align:"center",width:"70",formatter:function(e){return{showDropDown:!0,showText:"操作",data:[{text:"修改",class:"blue",eName:"changeRow"},{text:"删除",class:"red",eName:"delRow"}]}}}],tableData:[],url:this.$baseUrl+"sys/roleDataPermission/list",addUrl:this.$baseUrl+"sys/roleDataPermission/add",updateUrl:this.$baseUrl+"sys/roleDataPermission/modify"}},mounted:function(){this.loadData(),this.loadType()},computed:{roleId:function(){return this.$route.query.roleId},pageTitle:function(){return this.$route.query.name+"接口配置"}},watch:{searchData:{handler:function(e){this.loadData()},deep:!0}},methods:{loadData:function(){var e=this,t={url:this.url,data:this.searchData};this.$ajaxPost(t,!0,function(t){200===t.code?(e.tableData=t.data.data,e.total=t.data.totalCount):e.$showMsg("error",t.message)})},loadType:function(){var e=this,t={url:this.$baseUrl+"sys/roleDataPermission/sqlType"};this.$ajaxPost(t,!0,function(t){200===t.code?e.options=t.data:e.$showMsg("error",t.message)})},searchClick:function(){var e=this.query;this.searchData.name=e},addRow:function(){for(var e in this.addOrUpdate=!0,this.form)this.form[e]=null;this.form.roleId=this.roleId,this.formControl.visible=!0},changeRow:function(e){for(var t in this.addOrUpdate=!1,this.form)this.form[t]=e[t];this.formControl.visible=!0},delRow:function(e){var t=this;!e&&this.tableData.length<1?this.$showMsg("error","请选择需要删除的数据"):this.$showConfirm("确认删除该数据？",function(){var a={url:t.$baseUrl+"sys/roleDataPermission/delete",data:{ids:[e.id]}};t.$ajaxPost(a,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.loadData()):t.$showMsg("error",e.message)})})},save:function(e){var t=this,a=this.addOrUpdate?this.addUrl:this.updateUrl,o=!0;if(this.rules&&(o=!!this.$validate.validRules(this.rules,this.form)),o){e();var r={url:a,data:this.form};this.$ajaxPost(r,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.formControl.visible=!1,t.loadData()):t.$showMsg("error",e.message)})}},back:function(){this.$router.go(-1)}}},rr,!1,function(e){a("2NkV")},null,null).exports,nr={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"codeTableConfig-wrapper",attrs:{local:"codeTableConfig"}},[a("commonTitle",{attrs:{slot:"title",showShadow:"",title:e.pageTitle},slot:"title"},[a("el-button",{attrs:{slot:"right",size:"mini",type:"primary",icon:"el-icon-back"},on:{click:function(t){return e.back()}},slot:"right"},[e._v("返回")])],1),e._v(" "),a("commonTree",{attrs:{slot:"left",local:"codeTableConfig",autoHeight:"",defaultChecked:"",filter:"",showTreeBottom:"",props:e.treeProps,options:e.treeData},on:{nodeClick:e.nodeClick},slot:"left",model:{value:e.searchData.id,callback:function(t){e.$set(e.searchData,"id",t)},expression:"searchData.id"}},[a("el-button",{attrs:{slot:"bottom",size:"mini",type:"text",icon:"el-icon-setting"},on:{click:e.operate},slot:"bottom"},[e._v("码表集操作")])],1),e._v(" "),a("commonTable",{staticClass:"padding",attrs:{slot:"right",autoHeight:"",showPagination:"",gridColumns:e.gridColumns,search:e.searchData,total:e.total,refresh:e.formControl.refresh,options:e.tableData},on:{"update:search":function(t){e.searchData=t},"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)},changeRow:e.changeRow,delRow:e.delRow},slot:"right"},[a("commonSearch",[a("el-button",{attrs:{slot:"left",size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addRow()}},slot:"left"},[e._v("增加")]),e._v(" "),a("div",{attrs:{slot:"right"},slot:"right"},[a("formInput",{staticClass:"radius large",attrs:{size:"large",placeholder:"请输入属性中文名查询",suffixIcon:"el-icon-search"},on:{iconClick:e.searchClick},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}})],1)],1),e._v(" "),a("commonDialog",{attrs:{control:e.formControl,visible:e.formControl.visible,title:"信息项维护",form:e.form,rules:e.rules,save:e.save},on:{"update:control":function(t){e.formControl=t},"update:visible":function(t){return e.$set(e.formControl,"visible",t)}}},[a("commonForm",[a("formRow",{attrs:{label:"次序",required:"",rule:e.rules.ordinal}},[a("formInput",{attrs:{placeholder:"请输入次序",rule:e.rules.ordinal},model:{value:e.form.ordinal,callback:function(t){e.$set(e.form,"ordinal",t)},expression:"form.ordinal"}})],1),e._v(" "),a("formRow",{attrs:{label:"代码",required:"",rule:e.rules.code}},[a("formInput",{attrs:{placeholder:"请输入代码",rule:e.rules.code},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),e._v(" "),a("formRow",{attrs:{label:"简称",required:"",rule:e.rules.briefName}},[a("formInput",{attrs:{placeholder:"请输入简称",rule:e.rules.briefName},model:{value:e.form.briefName,callback:function(t){e.$set(e.form,"briefName",t)},expression:"form.briefName"}})],1),e._v(" "),a("formRow",{attrs:{label:"名称简拼",required:"",rule:e.rules.spell}},[a("formInput",{attrs:{placeholder:"请输入名称简拼",rule:e.rules.spell},model:{value:e.form.spell,callback:function(t){e.$set(e.form,"spell",t)},expression:"form.spell"}})],1),e._v(" "),a("formRow",{attrs:{label:"描述",required:"",rule:e.rules.description}},[a("formInput",{attrs:{placeholder:"请输入描述",rule:e.rules.description},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),e._v(" "),a("formRow",{attrs:{label:"名称",required:"",rule:e.rules.name}},[a("formInput",{attrs:{placeholder:"请输入名称",rule:e.rules.name},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("formRow",{attrs:{label:"上级代码",required:"",rule:e.rules.parentCode}},[a("formInput",{attrs:{placeholder:"请输入上级代码",rule:e.rules.parentCode},model:{value:e.form.parentCode,callback:function(t){e.$set(e.form,"parentCode",t)},expression:"form.parentCode"}})],1),e._v(" "),a("formRow",{attrs:{label:"状态",required:"",rule:e.rules.status}},[a("formSelect",{attrs:{options:e.options2,placeholder:"请选择状态",rule:e.rules.status},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}})],1),e._v(" "),a("formRow",{attrs:{label:"是否已失效",required:"",rule:e.rules.invalid}},[a("formSelect",{attrs:{options:e.options,placeholder:"请选择是否已失效",rule:e.rules.invalid},model:{value:e.form.invalid,callback:function(t){e.$set(e.form,"invalid",t)},expression:"form.invalid"}})],1),e._v(" "),a("formRow",{attrs:{label:"是否叶子",required:"",rule:e.rules.leaf}},[a("formSelect",{attrs:{options:e.options,placeholder:"请选择是否叶子",rule:e.rules.leaf},model:{value:e.form.leaf,callback:function(t){e.$set(e.form,"leaf",t)},expression:"form.leaf"}})],1),e._v(" "),a("formRow",{attrs:{label:"是否只读",required:"",rule:e.rules.readonly}},[a("formSelect",{attrs:{options:e.options,placeholder:"请选择是否只读",rule:e.rules.readonly},model:{value:e.form.readonly,callback:function(t){e.$set(e.form,"readonly",t)},expression:"form.readonly"}})],1),e._v(" "),a("formRow",{attrs:{label:"是否可选择",required:"",rule:e.rules.selectAble}},[a("formSelect",{attrs:{options:e.options,placeholder:"请选择是否可选择",rule:e.rules.selectAble},model:{value:e.form.selectAble,callback:function(t){e.$set(e.form,"selectAble",t)},expression:"form.selectAble"}})],1)],1)],1)],1)],1)},staticRenderFns:[]};var ir=a("C7Lr")({name:"infoManager",components:{},data:function(){return{query:"",total:0,pageTitle:"码表配置",addOrUpdate:!0,addUrl:this.$baseUrl+"sys/syscode/item/saveSysCodeItem",updateUrl:this.$baseUrl+"sys/syscode/item/upSysCodeItem",isFirstEnter:!1,options:[{name:"是",id:1},{name:"否",id:0}],options2:[{name:"可用",id:1},{name:"不可用",id:0}],searchData:{id:null,nameCn:"",orderBy:"",pageSize:20,pageIndex:1},treeProps:{value:"id",label:"normalName",children:"sysTableModifyModels",icon:"icon-group red",childrenIcon:"icon-biaodan blue"},treeData:[],tableData:[],formControl:{visible:!1,refresh:!1,transferVisible:!1},gridColumns:[{text:"次序",align:"center",dataIndex:"ordinal"},{text:"代码",align:"center",dataIndex:"code"},{text:"名称",align:"center",dataIndex:"name"},{text:"简称",align:"center",dataIndex:"briefName"},{text:"名称简拼",align:"center",dataIndex:"spell"},{text:"描述",align:"center",dataIndex:"description"},{text:"上级代码",align:"center",dataIndex:"parentCode"},{text:"状态",align:"center",dataIndex:"status",formatter:function(e){return{0:"不可用",1:"可用"}[e.row.status]}},{text:"是否已失效",align:"center",dataIndex:"invalid",formatter:function(e){return{0:"否",1:"是"}[e.row.invalid]}},{text:"是否叶子",align:"center",dataIndex:"leaf",formatter:function(e){return{0:"否",1:"是"}[e.row.leaf]}},{text:"是否只读",align:"center",dataIndex:"readonly",formatter:function(e){return{0:"否",1:"是"}[e.row.readonly]}},{text:"是否可选择",align:"center",dataIndex:"selectAble",formatter:function(e){return{0:"否",1:"是"}[e.row.selectAble]}},{text:"操作",align:"center",fixed:"right",formatter:function(e){return{showDropDown:!0,showText:"操作",data:[{text:"修改",class:"blue",eName:"changeRow"},{text:"删除",class:"blue",eName:"delRow"}]}}}],url:this.$baseUrl+"sys/syscode/set/getAllSysCodeSet",form:{briefName:"",code:"",codeSetId:"",description:"",invalid:"",createBy:"",createdTime:"",leaf:"",name:"",ordinal:"",parentCode:"",readonly:"",selectAble:"",spell:"",status:"",id:""},rules:{name:{required:!0},briefName:{required:!0},code:{required:!0},description:{required:!0},invalid:{required:!0},leaf:{required:!0},ordinal:{required:!0},parentCode:{required:!0},readonly:{required:!0},selectAble:{required:!0},spell:{required:!0},status:{required:!0}}}},created:function(){},mounted:function(){this.loadData()},watch:{"formControl.refresh":function(e){e&&this.loadTable()},searchData:{handler:function(e){this.loadTable()},deep:!0}},methods:{searchClick:function(e){this.searchData.pageIndex=1,this.searchData.nameCn=this.query},loadData:function(){var e=this,t={url:this.url};this.$ajaxPost(t,!0,function(t){200===t.code?e.treeData=e._normalTreeData(t.data):e.$showMsg("error",t.message)})},_normalTreeData:function(e){return e.forEach(function(e,t){e.normalName=e.nameCn+" ("+e.name+")"}),e},loadTable:function(){var e=this,t={url:this.$baseUrl+"sys/syscode/item/getSysCodeItemPageById",data:this.searchData};this.$ajaxPost(t,!0,function(t){200===t.code?(e.tableData=t.data.data,e.total=t.data.totalCount):e.$showMsg("error",t.message)})},nodeClick:function(e){this.searchData.pageIndex=1,this.searchData.id=e.id},addRow:function(){for(var e in this.addOrUpdate=!0,this.form)this.form[e]=null;this.form.codeSetId=this.searchData.id,this.formControl.visible=!0},changeRow:function(e){var t=this;this.addOrUpdate=!1;var a={url:this.$baseUrl+"sys/syscode/item/getSysCodeItemById?",data:{id:e.id}};this.$ajaxPost(a,!0,function(e){if(200===e.code)for(var a in t.form)t.form[a]=e.data[a];else t.$showMsg("error",e.message)}),this.formControl.visible=!0},delRow:function(e){var t=this;!e&&this.tableData.length<1?this.$showMsg("error","请选择需要删除的数据"):this.$showConfirm("确认删除该数据？",function(){var a={url:t.$baseUrl+"sys/syscode/item/delSysCodeItem?",data:{id:e.id}};t.$ajaxPost(a,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.loadTable()):t.$showMsg("error",e.message)})})},save:function(e){var t=this,a=this.addOrUpdate?this.addUrl:this.updateUrl,o=!0;if(this.rules&&(o=!!this.$validate.validRules(this.rules,this.form)),1==o){e();var r={url:a,data:this.form};this.$ajaxPost(r,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.formControl.visible=!1,t.loadTable()):t.$showMsg("error",e.message)})}},back:function(){this.$router.go(-1)},operate:function(){this.$router.push({path:"codeTableOperate"})}}},nr,!1,function(e){a("noWr")},null,null).exports,lr={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonBody",{staticClass:"codeTableOperate-wrapper",attrs:{local:"codeTableOperate"}},[a("commonTitle",{attrs:{slot:"title",showShadow:"",title:e.pageTitle},slot:"title"},[a("el-button",{attrs:{slot:"right",size:"mini",type:"primary",icon:"el-icon-back"},on:{click:function(t){return e.back()}},slot:"right"},[e._v("返回")])],1),e._v(" "),a("commonTable",{staticClass:"padding",attrs:{autoHeight:"",showPagination:"",gridColumns:e.gridColumns,search:e.searchData,total:e.total,refresh:e.formControl.refresh,options:e.tableData},on:{"update:search":function(t){e.searchData=t},"update:refresh":function(t){return e.$set(e.formControl,"refresh",t)},changeRow:e.changeRow,delRow:e.delRow}},[a("commonSearch",[a("el-button",{attrs:{slot:"left",size:"mini",type:"primary",icon:"el-icon-plus"},on:{click:function(t){return e.addRow()}},slot:"left"},[e._v("添加")]),e._v(" "),a("div",{attrs:{slot:"right"},slot:"right"},[a("formInput",{staticClass:"radius large",attrs:{size:"large",placeholder:"请输入名称查询",suffixIcon:"el-icon-search"},on:{iconClick:e.searchClick},model:{value:e.query,callback:function(t){e.query=t},expression:"query"}})],1)],1),e._v(" "),a("commonDialog",{attrs:{control:e.formControl,visible:e.formControl.visible,title:"信息项维护",form:e.form,rules:e.rules,save:e.save},on:{"update:control":function(t){e.formControl=t},"update:visible":function(t){return e.$set(e.formControl,"visible",t)}}},[a("commonForm",{attrs:{labelWidth:"180px"}},[a("formRow",{attrs:{label:"名称",required:"",rule:e.rules.name}},[a("formInput",{attrs:{placeholder:"请输入名称",rule:e.rules.name},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),a("formRow",{attrs:{label:"中文名称",required:"",rule:e.rules.nameCn}},[a("formInput",{attrs:{placeholder:"请输入中文名称",rule:e.rules.nameCn},model:{value:e.form.nameCn,callback:function(t){e.$set(e.form,"nameCn",t)},expression:"form.nameCn"}})],1),e._v(" "),a("formRow",{attrs:{label:"描述",required:"",rule:e.rules.description}},[a("formInput",{attrs:{placeholder:"请输入描述",rule:e.rules.description},model:{value:e.form.description,callback:function(t){e.$set(e.form,"description",t)},expression:"form.description"}})],1),e._v(" "),a("formRow",{attrs:{label:"应用标识",required:"",rule:e.rules.appId}},[a("formInput",{attrs:{placeholder:"请输入应用标识",rule:e.rules.appId},model:{value:e.form.appId,callback:function(t){e.$set(e.form,"appId",t)},expression:"form.appId"}})],1),e._v(" "),a("formRow",{attrs:{label:"状态",required:"",rule:e.rules.status}},[a("formSelect",{attrs:{options:e.options,placeholder:"请选择状态",rule:e.rules.status},model:{value:e.form.status,callback:function(t){e.$set(e.form,"status",t)},expression:"form.status"}})],1),e._v(" "),a("formRow",{attrs:{label:"类型",required:"",rule:e.rules.type}},[a("formSelect",{attrs:{options:e.typeOption,placeholder:"请选择状态",rule:e.rules.type},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}})],1),e._v(" "),a("formRow",{attrs:{label:"叶",required:"",rule:e.rules.leaf}},[a("formInput",{attrs:{placeholder:"请输入叶",rule:e.rules.leaf},model:{value:e.form.leaf,callback:function(t){e.$set(e.form,"leaf",t)},expression:"form.leaf"}})],1),e._v(" "),a("formRow",{attrs:{label:"次序",required:"",rule:e.rules.ordinal}},[a("formInput",{attrs:{placeholder:"请输入次序",rule:e.rules.ordinal},model:{value:e.form.ordinal,callback:function(t){e.$set(e.form,"ordinal",t)},expression:"form.ordinal"}})],1),e._v(" "),a("formRow",{attrs:{label:"代码最大长度",required:"",rule:e.rules.maxCodeLength}},[a("formInput",{attrs:{placeholder:"请输入代码最大长度",rule:e.rules.maxCodeLength},model:{value:e.form.maxCodeLength,callback:function(t){e.$set(e.form,"maxCodeLength",t)},expression:"form.maxCodeLength"}})],1),e._v(" "),a("formRow",{attrs:{label:"父级编号",required:"",rule:e.rules.parentId}},[a("formInput",{attrs:{placeholder:"请输入父级编号",rule:e.rules.parentId},model:{value:e.form.parentId,callback:function(t){e.$set(e.form,"parentId",t)},expression:"form.parentId"}})],1),e._v(" "),a("formRow",{attrs:{label:"版本",required:"",rule:e.rules.version}},[a("formInput",{attrs:{placeholder:"请输入版本",rule:e.rules.version},model:{value:e.form.version,callback:function(t){e.$set(e.form,"version",t)},expression:"form.version"}})],1),e._v(" "),a("formRow",{attrs:{label:"是否层次结构代码(树形)",required:"",rule:e.rules.hierarchical}},[a("formSelect",{attrs:{options:e.optionsTree,placeholder:"请选择是否层次结构代码(树形)",rule:e.rules.hierarchical},model:{value:e.form.hierarchical,callback:function(t){e.$set(e.form,"hierarchical",t)},expression:"form.hierarchical"}})],1)],1)],1)],1)],1)},staticRenderFns:[]};var cr=a("C7Lr")({name:"groupManager",components:{},data:function(){return{pageTitle:"码表类别管理",addOrUpdate:!0,addUrl:this.$baseUrl+"sys/syscode/set/saveSysCodeSet",updateUrl:this.$baseUrl+"sys/syscode/set/upSysCodeSet",deleteUrl:this.$baseUrl+"sys/syscode/set/delSysCodeSet",checkedVal:null,options:[{name:"不可用",id:0},{name:"可用",id:1}],optionsTree:[{name:"否",id:0},{name:"是",id:1}],typeOption:[{name:"毕节标准",id:0},{name:"国家标准",id:1},{name:"地方标准",id:2},{name:"企业标准",id:3},{name:"自定义标准",id:127}],searchData:{name:"",orderBy:"",pageSize:20,pageIndex:1},query:"",total:0,formControl:{visible:!1,refresh:!1,transferVisible:!1},gridColumns:[{text:"名称",align:"center",dataIndex:"name"},{text:"中文名称",align:"center",dataIndex:"nameCn"},{text:"描述",align:"center",dataIndex:"description"},{text:"应用标识",align:"center",dataIndex:"appId"},{text:"类型",align:"center",dataIndex:"type",formatter:function(e){return{0:"毕节标准",1:"国家标准",2:"地方标准",3:"行业标准",127:"自定义标准"}[e.row.status]}},{text:"状态",align:"center",dataIndex:"status",formatter:function(e){return{0:"不可用",1:"可用"}[e.row.status]}},{text:"叶",align:"center",dataIndex:"leaf"},{text:"次序",align:"center",dataIndex:"ordinal"},{text:"代码最大长度",align:"center",dataIndex:"maxCodeLength"},{text:"父级编号",align:"center",dataIndex:"parentId"},{text:"版本",align:"center",dataIndex:"version"},{text:"是否层次结构代码(树形)",align:"center",dataIndex:"hierarchical",formatter:function(e){return{1:"是",0:"否"}[e.row.hierarchical]}},{text:"操作",align:"center",fixed:"right",formatter:function(e){return{showDropDown:!0,showText:"操作",data:[{text:"修改",class:"blue",eName:"changeRow"},{text:"删除",class:"blue",eName:"delRow"}]}}}],tableData:[],url:this.$baseUrl+"sys/syscode/set/getPageSysCodeSet",form:{appId:"",createBy:"",createdTime:"",description:"",hierarchical:0,id:"",leaf:"",maxCodeLength:"",name:"",nameCn:"",ordinal:"",parentId:"",status:"",type:"",version:""},rules:{appId:{required:!0},createBy:{},createdTime:{},description:{required:!0},hierarchical:{required:!0},leaf:{required:!0,integer:!0},maxCodeLength:{required:!0,integer:!0},name:{required:!0},nameCn:{required:!0},ordinal:{required:!0,integer:!0},parentId:{required:!0,integer:!0},status:{required:!0},type:{required:!0},version:{required:!0,integer:!0}}}},mounted:function(){this.loadTable()},watch:{"formControl.refresh":function(e){e&&this.loadTable()},searchData:{handler:function(e){this.loadTable()},deep:!0}},methods:{searchClick:function(e){this.searchData.pageIndex=1,this.searchData.name=this.query},loadTable:function(){var e=this,t={url:this.url,data:this.searchData};this.$ajaxPost(t,!0,function(t){200===t.code?(e.tableData=t.data.data,e.total=t.data.totalCount):e.$showMsg("error",t.message)})},addRow:function(){for(var e in this.addOrUpdate=!0,this.form)this.form[e]=null;this.formControl.visible=!0},changeRow:function(e){for(var t in this.addOrUpdate=!1,this.form)this.form[t]=e[t];this.formControl.visible=!0},delRow:function(e){var t=this;!e&&this.tableData.length<1?this.$showMsg("error","请选择需要删除的数据"):this.$showConfirm("确认删除该数据？",function(){var a={url:t.$baseUrl+"sys/syscode/set/delSysCodeSet?",data:{id:e.id}};t.$ajaxPost(a,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.loadTable()):t.$showMsg("error",e.message)})})},save:function(e){var t=this,a=this.addOrUpdate?this.addUrl:this.updateUrl,o=!0;if(this.rules&&(o=!!this.$validate.validRules(this.rules,this.form)),1==o){e();var r={url:a,data:this.form};this.$ajaxPost(r,!0,function(e){200===e.code?(t.$showMsg("success","保存成功"),t.formControl.visible=!1,t.loadTable()):t.$showMsg("error",e.message)})}},back:function(){this.$router.go(-1)}}},lr,!1,function(e){a("4ABJ")},null,null).exports,dr={name:"cadreSql",data:function(){return{pageTitle:"测试页面",fileName:"",spread:{},excelIo:{},show:!1}},mounted:function(){var e=this;setTimeout(function(){e.spread=new GC.Spread.Sheets.Workbook(document.getElementById("excelView")),e.initData()},10)},computed:{},watch:{},methods:{initData:function(){var e=this.spread.getActiveSheet();e.name("Test"),e.addSpan(0,0,1,10),e.setRowHeight(0,40),e.setValue(0,0,"Sale Data Analysis"),e.getCell(0,0).font("bold 30px arial"),e.getCell(0,0).vAlign(GC.Spread.Sheets.VerticalAlign.center),e.addSpan(1,0,3,8),e.setValue(1,0,"Sale Data Analysis"),e.getRange(0,0,1,10).hAlign(GC.Spread.Sheets.HorizontalAlign.center)}}},ur={render:function(){var e=this.$createElement,t=this._self._c||e;return t("commonBody",{staticClass:"spreadExcl-wrapper"},[t("commonTitle",{attrs:{slot:"title",showShadow:"",title:this.pageTitle},slot:"title"}),this._v(" "),t("commonContainer",[t("div",{ref:"excelView",staticClass:"content",attrs:{id:"excelView"}})])],1)},staticRenderFns:[]};var hr=a("C7Lr")(dr,ur,!1,function(e){a("S4h3")},null,null).exports,mr=[{path:"*",name:"Common404",component:D},{path:"/access",name:"AccessLogin",component:k,meta:{title:"登陆"},children:[{path:"AccessLogin",name:"AccessLogin",component:k,meta:{title:"登陆"}}]},{path:"/",name:"CommonLayout",component:w,redirect:{name:sessionStorage.cadre_useHome},meta:{title:""},children:[{path:"Home",name:"Home",component:M,home:!0,meta:{title:"首页"}},{path:"OnlyHome",name:"OnlyHome",home:!0,component:A,meta:{title:"首页"}},{path:"TotalHome",name:"TotalHome",home:!0,component:V,meta:{title:"首页"}},{path:"Test",name:"Test",home:!0,component:hr,meta:{title:"测试"}},{path:"PlatForm",name:"PlatForm",component:l,redirect:{name:"Home"},meta:{title:"平台应用"},children:[{path:"CadreManager",name:"CadreManager",component:Ue,meta:{title:"干部综合信息管理",keepAlive:!0,isBack:!1,useKeep:["CadreDepartChange","MergeSearch","MergeSearchConfig"]}},{path:"MergeSearch",name:"MergeSearch",component:nt,meta:{title:"组合查询"}},{path:"MergeSearchConfig",name:"MergeSearchConfig",component:ct,meta:{title:"组合查询管理",keepAlive:!0,isBack:!1,useKeep:["MergeSearch"]}},{path:"DepartManager",name:"DepartManager",component:je,meta:{title:"单位综合信息管理",keepAlive:!0,isBack:!1,useKeep:["CadreDepartChange"]}},{path:"CadreDepartChange",name:"CadreDepartChange",component:Lt,meta:{title:"干部综合信息管理编辑"}},{path:"AppointManager",name:"AppointManager",component:jt,meta:{title:"任免表编辑",keepAlive:!0,isBack:!1,useKeep:["CadreDepartChange"]}},{path:"ConditionalError",name:"ConditionalError",component:zt,meta:{title:"系统数据治理"}},{path:"ConditionErrorDetail",name:"ConditionErrorDetail",component:Wt,meta:{title:"数据治理详情"}},{path:"CadreStatistics",name:"CadreStatistics",component:Yt,meta:{title:"干部统计"}},{path:"ArchivesManager",name:"ArchivesManager",component:aa,meta:{title:"干部档案管理",keepAlive:!0,isBack:!1,useKeep:["CadreDepartChange","FileManager"]}},{path:"FileManager",name:"FileManager",component:la,meta:{title:"干部档案查看"}},{path:"ViewApplication",name:"ViewApplication",component:ma,meta:{title:"档案查看申请"}},{path:"AddApply",name:"AddApply",component:ga,meta:{title:"新增/修改档案申请"}},{path:"Look",name:"Look",component:Ca,meta:{title:"预览档案"}},{path:"ApproveApply",name:"ApproveApply",component:xa,meta:{title:"档案申请审批"}},{path:"Approve",name:"Approve",component:$a,meta:{title:"档案审批"}}]},{path:"system",name:"system",component:l,redirect:{name:"Home"},meta:{title:"系统管理"},children:[{path:"InfoManager",name:"InfoManager",component:Ta,meta:{title:"信息集字段",keepAlive:!0,isBack:!1,useKeep:["UpdataInfoMsg"]}},{path:"UpdataInfoMsg",name:"UpdataInfoMsg",component:Ma,meta:{title:"信息项修改"}},{path:"LogManager",name:"LogManager",component:Pa,meta:{title:"日志管理"}},{path:"UserManager",name:"UserManager",component:Ua,meta:{title:"用户管理"}},{path:"UserGroup",name:"UserGroup",component:qa,meta:{title:"用户组管理"}},{path:"PropertyManager",name:"PropertyManager",component:Ya,meta:{title:"应用管理"}},{path:"GroupManager",name:"GroupManager",component:Za,meta:{title:"信息集类别"}},,{path:"CategoryManager",name:"CategoryManager",component:to,meta:{title:"信息集实体"}},{path:"ConditionalErrorConfig",name:"ConditionalErrorConfig",component:oo,meta:{title:"系统查错条件配置"}},{path:"TabManager",name:"TabManager",component:so,meta:{title:"标签管理"}},{path:"EditLableItem",name:"EditLableItem",component:io,meta:{title:"编辑标签项"}}]},{path:"config",name:"config",component:l,redirect:{name:"Home"},meta:{title:"系统管理"},children:[{path:"MenuGroup",name:"MenuGroup",component:uo,meta:{title:"功能权限组"}},{path:"MenuGroupConfig",name:"MenuGroupConfig",component:Co,meta:{title:"功能权限页面配置"}},{path:"AccountGroup",name:"AccountGroup",component:xo,meta:{title:"功能权限组"}},{path:"AccountGroup",name:"AccountGroup",component:xo,meta:{title:"功能权限组"}},{path:"DepartConfig",name:"DepartConfig",component:$o,meta:{title:"相关部门配置"}},{path:"RoleConfig",name:"RoleConfig",component:To,meta:{title:"角色配置"}},{path:"RoleHomeConfig",name:"RoleHomeConfig",component:So,meta:{title:"修改/添加首页统计项"}},{path:"FuncAuthorization",name:"FuncAuthorization",component:Eo,meta:{title:"修改/添加功能权限"}},{path:"InfoSetField",name:"InfoSetField",component:Jo,meta:{title:"修改/添加角色信息权限"}},{path:"CommonUseInfoSet",name:"CommonUseInfoSet",component:tr,meta:{title:"常用信息集维护"}},{path:"CadreSql",name:"CadreSql",component:or,meta:{title:"角色权限页面SQL配置"}},{path:"InfoConfig",name:"InfoConfig",component:sr,meta:{title:"接口SQL配置"}},{path:"SystemEditPageConfig",name:"SystemEditPageConfig",component:zo,meta:{title:"角色页面配置"}},{path:"CodeTableConfig",name:"CodeTableConfig",component:ir,meta:{title:"码表配置"}},{path:"CodeTableOperate",name:"CodeTableOperate",component:cr,meta:{title:"码表集操作"}}]}]}];o.default.use(n.a);for(var fr=new n.a({routes:mr}),pr=a("4gzT"),gr=a.n(pr),vr=(a("JKkS"),a("84iU")),br=a.n(vr),Cr=a("ryJa"),yr=a.n(Cr),wr=a("CtzY"),xr=a.n(wr),Dr={install:function(e){var t=this;e.prototype.$showMsg=function(t,a){e.prototype.$message({type:t,message:a})},e.prototype.$showConfirm=function(t,a,o){e.prototype.$confirm(t,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a()}).catch(function(){o&&o(),e.prototype.$showMsg("info","取消操作!")})},e.prototype.$ajaxPost=function(t,a,o){var r={method:"post",headers:{"X-Requested-With":"XMLHttpRequest"},responseType:"json",isNeedLogin:!0},s=t.url;for(var n in"?"===s.substring(s.length-1)&&(t.url=s.substring(0,s.length-1),t.data.refresh&&delete t.data.refresh,t.data=xr.a.stringify(t.data)),t)r[n]=t[n];"get"===r.method&&q()(r.data).length>0&&(r.url+="?",r.url+=r.data,r.data={},delete r.headers,delete r.responseType),console.log("请求开始++++++++++"+r.url),console.log("ajaxOption+++++"),console.log(r),a&&be.commit("updatePageLoading",++be.state.pageLoading),e.prototype.$http(r).then(function(e){console.log("请求返回++++++++++"+r.url),console.log("response++++"),console.log(e),a&&be.commit("updatePageLoading",--be.state.pageLoading),200===e.status?o&&o(e.data):o&&o()})},e.prototype.$getUserMenu=function(a){var o={url:e.prototype.$baseUrl+"sys/permission/findRoleMenuList"};e.prototype.$ajaxPost(o,!0,function(e){if(200===e.code){var o=e.data.filter(function(e){return e.children.length>0}),r=new Object,s=new Array,n=new Array;for(var i in o.forEach(function(e){var t;r[e.name]?(e.children.forEach(function(t){var a=!1;r[e.name].children.forEach(function(e){t.url===e.url&&(a=!0)}),a||n.push(t)}),(t=r[e.name].children).push.apply(t,j()(n)),n=[]):r[e.name]=e}),r)s.push(r[i]);console.log(s),localStorage.setItem(be.state.systemPrefix+"userMenu",d()(s)),be.commit("updateMenuData",s),be.commit("updateOpenMenu",!1),a&&a()}else t.$showMsg("error",e.message)})},e.prototype.mergeColumns=function(e,t){},e.prototype.$validate=new function(){var t=this;this.validateMessage={required:"必填项不能为空",number:"请输入整数或2位小数的数字",integer:"只能输入整数",float:"请输入整数或者4位小数的数字",floatCheck:"最多6位整数2位小数的数字",minlength:"请至少输入{0}位数据",maxlength:"最多只能输入{0}位数据",max:"请输入小于等于{0}的数值",min:"请输入大于等于{0}的数值",faxNum:"请输入正确的传真号格式",phoneVal:"请输入正确的座机号格式",mobileVal:"请输入正确的手机号格式",phoneAndMobile:"请输入正确的电话号码格式",identityNumber:"请输入正确的身份证号码格式"},this.methods={required:function(e){return 0===e||!1===e||!!e&&(Array.prototype.isPrototypeOf(e)?e.length:e.length||e>0)>0},number:function(e){if(""===e||null===e)return!0;var t=/^\d+(\.\d{0,2})?$/;return e>0?t.test(e/1):t.test(e/-1)},integer:function(e){if(""===e||null===e)return!0;var t=/^[1-9]+\d*?$/;return e>0?t.test(e/1):t.test(e/-1)},float:function(e,t){return""===e||null===e||("/^d+(.d{0,"+t+")?$/").test(e/1)},minlength:function(e,t){return(Array.prototype.isPrototypeOf(e)?e.length:e.trim().length)>=t},maxlength:function(e,t){return(Array.prototype.isPrototypeOf(e)?e.length:e.trim().length)<=t},max:function(e,t){return t>=e},min:function(e,t){return t<=e},faxNum:function(e){if(""===e||null===e)return!0;return/^(\d{3,4}-)?\d{7,8}$/.test(e)},phoneVal:function(e){if(""===e||null===e)return!0;return/^0\d{2,3}-\d{7,8}$/.test(e)},mobileVal:function(e){if(""===e||null===e)return!0;return/^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\d{8}$/.test(e)},phoneAndMobile:function(e){if(""===e||null===e)return!0;var t=/^(13[0-9]|14[579]|15[0-3,5-9]|16[6]|17[0135678]|18[0-9]|19[89])\d{8}$/;return t.test(e)?t.test(e):/^\d{7,8}$/.test(e)},identityNumber:function(e){if(""===e||null===e)return!0;return/(^\d{15}$)|(^\d{18}$)|(^\d{17}(\d|X|x)$)/.test(e)},existData:function(e,t){}},this.validRules=function(a,o){for(var r in a)a[r].valid&&void 0!=a[r].valid?a[r].valid=!0:(e.set(a[r],"valid",!0),e.set(a[r],"msg",""));var s=!0;for(var n in a){var i={ruleName:n,rule:a[n],form:o};s=t.checkRules(i)&&s}return s},this.checkRules=function(e){var a=e.parentName,o=e.arrayIndex,r=e.ruleName,s=e.rule,n=e.form,i=!0;for(var l in s){if(!s[l])return!0;if("function"==typeof t.methods[l]){var c=s[l],d=null;d=a?void 0!==o?t.methods[l](n[a][o][r],c):t.methods[l](n[a][r],c):t.methods[l](n[r],c);var u=r+" "+l+" result";if(a&&(u=a+" "+u),console.log(u,d),!d){s.valid=!1,i=!1,s.msg=t.validateMessage[l].replace("{0}",s[l]);break}}}return i},this.validRule=function(a,o){a.valid&&void 0!=a.valid?a.valid=!0:(e.set(a,"valid",!0),e.set(a,"msg",""));var r=!0;return r=t.checkRule(a,o)&&r},this.checkRule=function(e,a){var o=!0;for(var r in e){if(!e[r])return!0;if("function"==typeof t.methods[r]){var s=e[r];if(!t.methods[r](a,s)){e.valid=!1,o=!1,e.msg=t.validateMessage[r].replace("{0}",e[r]);break}}}return o}},e.prototype.$dataStrBeautify=function(a){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;o++;var r=e.prototype.$getType(a),s="";if("array"===r){if(s+="[\n",a.length<=0)return"[]";for(var n="",i="",l=0;l<o;l++)n+="     ",l<o-1&&(i+="     ");for(var c=0;c<a.length;c++)s+=""+n+t.$dataStrBeautify(a[c],o)+(c<a.length-1?",\n":"\n");s+=i+"]"}else{if("object"!==r)return"number"===r?a:'"'+a+'"';if(s+="{\n",q()(a).length<=0)return"{}";for(var d=0,u="",h="",m=0;m<o;m++)u+="     ",m<o-1&&(h+="     ");for(var f in a)d++,s+=u+'"'+f+'":'+e.prototype.$dataStrBeautify(a[f],o)+(d<q()(a).length?",\n":"\n");s+=h+"}"}return s},e.prototype.$getHeight=function(e,t,a){t||(t=0),a||(a=.5);var o=h()(window).height(),r=h()(e)[0].getBoundingClientRect().top;return{height:(o-r-t)*a,maxHeight:o-r-t}},e.prototype.$getShowFrame=function(t,a){var o={method:"get",url:e.prototype.$baseUrl+"sys/getSysEntityStructurefindSysEntityInfo?"};o=h.a.extend(!0,o,t),e.prototype.$ajaxPost(o,!0,function(e){a&&a(e)})},e.prototype.$loadCadreInfo=function(t,a){var o={data:{appCode:"200",tableTypeName:"CadreInfo",tableName:"",tableNamePK:"",tableNamePKValue:"",tableNameFK:"",tableNameFKValue:""},method:"get",url:e.prototype.$baseUrl+"sys/getSysTableData?"};o.data=e.prototype.$mergeObj(o.data,t,!0),e.prototype.$ajaxPost(o,!0,function(t){200===t.code?a(t.data):(e.prototype.$showMsg("error",t.message),a())})},e.prototype.$loadCadreVue=function(t,a){var o={data:{prjCode:"200",tableTypeName:"CadreInfo",tableName:""},method:"get",url:e.prototype.$baseUrl+"sys/getSysTableStructure?"};o.data=e.prototype.$mergeObj(o.data,t,!0),e.prototype.$ajaxPost(o,!0,function(t){200===t.code?a(t.data):(e.prototype.$showMsg("error",t.message),a())})},e.prototype.$downLoad=function(t){var a={data:{},url:e.prototype.$baseUrl+"export/gbhmc/generateAndExport"};for(var o in(a=e.prototype.$mergeObj(a,t)).data)a.url+=o+"="+a.data[o]+"&";a.url=a.url.substring(0,a.url.length-1),window.location.href=a.url},e.prototype.$deepClone=function(t){var a,o=e.prototype.$getType(t);if("array"===o)a=[];else{if("object"!==o)return t;a={}}if("array"===o)for(var r=0,s=t.length;r<s;r++)a.push(e.prototype.$deepClone(t[r]));else if("object"===o)for(var n in t)a[n]=e.prototype.$deepClone(t[n]);return a},e.prototype.$mergeObj=function(e,t,a){return void 0===a&&(a=!0),h.a.extend(a,e,t)},e.prototype.$diffObject=function(e,t){var a={};for(var o in e)t[o]!==e[o]&&(a[o]=t[o]);return a},e.prototype.$getType=function(e){var t=Object.prototype.toString;return e instanceof Element?"element":{"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regExp","[object Undefined]":"undefined","[object Null]":"null","[object Object]":"object"}[t.call(e)]},e.prototype.$getTimeName=function(){var t=e.prototype.$moment().hours();return t<6?"凌晨好！":t<9?"早上好！":t<12?"上午好！":t<14?"中午好！":t<17?"下午好！":t<19?"傍晚好！":t<22?"晚上好！":"夜里好！"}}},Ir=Dr,$r=a("cLQA"),kr=a.n($r),Tr=kr.a.Random,_r=[],Nr=0;Nr<10;Nr++){var Sr={name:Tr.cname(),position:"市人大财经委员会主任",beforeAdjust:Tr.natural(1,5),beforeStatus:Tr.natural(0,2),afterAdjust:Tr.natural(1,5),afterStatus:Tr.natural(0,2),afterNumber:Tr.natural(70,99),numberStatus:Tr.natural(0,2)};_r.push(Sr)}for(var Rr=kr.a.Random,Mr=[],Fr=0;Fr<30;Fr++){var Pr={a0001:Rr.cname(),a0001PY:"LiJia",a0002:Rr.image(),a0003:Rr.natural(1,2)+"",a0004:Rr.natural(1,2)+"",a0005:Rr.now("yyyy-MM-dd"),a0006:Rr.region(),a0007:"汉族",a0008:"北京市",a0008Id:Rr.natural(1,2)+"",a0009:"北京市",a0010:"北京市",a0010Id:Rr.natural(1,2)+"",a0011:"常平镇",a0012:"北京市",a0013:"健康",a0013Id:Rr.natural(1,2)+"",a0014:Rr.natural(1,2)+"",a0015:Rr.natural(1,2)+"",a0016:Rr.natural(1,2)+"",a0017:"毕节市中共委员会",a0017Id:Rr.natural(1,2)+"",a0018:Rr.natural(1,2)+"",a0019:"机关",a0019Id:Rr.natural(1,2)+"",a0020:"采矿业",a0020Id:Rr.natural(1,2)+"",a0021:"中央",a0021Id:Rr.natural(1,2)+"",a0022:Rr.now("yyyy-MM-dd"),a0023:"委员",a0023Id:Rr.natural(1,2)+"",a0024:Rr.natural(1,2)+"",a0025:Rr.now("yyyy-MM-dd"),a0026:"中共毕节市委员会",a0026Id:Rr.natural(1,2)+"",a0027:Rr.natural(1,2)+"",a0028:Rr.natural(1,2)+"",a0029:Rr.now("yyyy-MM-dd"),a0030:Rr.id()+"",a0031:Rr.natural(1,2)+"",a0032:Rr.natural(1,2)+"",a0033:Rr.id()+"",a0034:Rr.natural(1,2)+"",a0035:Rr.natural(1,2)+"",a0036:Rr.natural(1,2)+"",a0037:Rr.natural(1,2)+"",c0001:"简历",c0002:Rr.now("yyyy-MM-dd"),c0003:Rr.now("yyyy-MM-dd"),c0004:"中共毕节市组织部",c0004Id:Rr.natural(1,2)+"",c0005:"机关",c0005Id:Rr.natural(1,2)+"",c0006:"采矿业",c0006Id:Rr.natural(1,2)+"",c0007:"简历证明人"};Mr.push(Pr)}kr.a.Random;var Ar=kr.a.mock({"data|50":[{"id|+1":1,"d0003Id|1":["1","2"],"d0006Id|1":["1","2"],"e0003Id|1":["1","2"],"e0006Id|1":["1","2"],"f0001Id|1":["1","2"],"f0004Id|1":["110000","110101","110102","110105","120000","120101","120102","120103"],"f0005Id|1":["1","2"],"f0006Id|1":["1","2"],"f0007Id|1":["1","2"],"f0008Id|1":["1","2"],"f0010Id|1":["1","2"],"f0013Id|1":["1","2"],"f0015Id|1":["1","2"],startDate:"@date",endDate:"@date",organizationName:"@county(true)","dutyName|1":["部级","副部级","省级","县、处级","副县、副处级","乡、科级","副乡、副科级"],approveDepartment:"@county(true)","takeOfficeWay|1":["党委决定任职","行政命令任职","会议选举任职","聘用任职","考试录用任职","其他"],"scopeType|1":["党内职务","行政职务","其他党派职务","社会团体职务","其他"],"changeType|1":["职务变化","晋升任职","调入任职"],"changeClass|1":["新定职","逐级晋升","逐级晋升","平级增职","向下兼职"],takeOffice:"@id()","unitName|1":["中共毕节市委员会","毕节市人民代表大会常务委员会","毕节市中级人民法院","毕节市人民检察院"],"unitCode|1":'@character("upper")@natural(10000)',"InternalOrgans|1":["计划生育法庭","刑事审判第三庭","宣传信息中心","机关党建办公室","毕节市人民检察院百里杜鹃检察室","反贪污贿赂局"],"organsName|1":["部级","副部级","省级"],address:"@county(true)","addressCode|110000-999999":110012,"unitNatureType|1":["党委机关","党的纪检机关","其他机关","参照公务员管理的事业单位","其他事业单位","事业单位内设机构"],"affiliation|1":["中央","省（含自治区、直辖市）","街道、镇、乡","街道","镇","乡"],"dutyCode|1":["001A","001B","001C","002A","002K","002P"],"dutyName2|1":["书记","副书记","第一书记","委员","常务委员","候补委员"],"treatmentLevel|1":["公务员职务级别","职员级别","专业技术职务级别"],"dutyAttr|1":["正职","常务副职","副职","非领导职务正职","非领导职务助理职","特殊岗位非领导职务"],"dutyId|1":["101","102","103A","103B","104A"],"trade|1":["农业","林业","畜牧业","煤炭开采和洗选业","石油和天然气开采业","其他采矿业","国际组织"]}]}),Er=kr.a.mock({"data|50":[{"id|+1":1,"b00001Id|1":["1","2"],"b00003Id|1":["1","2"],"b00005Id|1":["110000","110101","110102","110105","120000","120101","120102","120103"],"b00006Id|1":["1","2"],"b00008Id|1":["1","2"],"b00010Id|1":["0","1"],"c00001Id|1":["1","2"],"c00003Id|1":["1","2"],"c00004Id|1":["1","2"],"c00007Id|1":["110000","110101","110102","110105","120000","120101","120102","120103"],"c00009Id|1":["0101","010101","010102","0102","010201","010202","020101","020102"],"c00014Id|1":["0","1"],"c00016Id|1":["1","2"],"educationType|1":["全日制教育","在职学习","脱产","半脱产","不脱产现场培训","党委（党组）中心组学习"],startDate:"@date",startDate2:"@date","Institution|1":["中国人民大学法学院","中国政法大学","北京大学","华东政法大学","武汉大学"],address:"@city(true)",country:"中国",endDate:"@date",endDate2:"@date","degreeName|1":["名誉博士","哲学博士学位","经济学博士学位","法学博士学位","哲学硕士学位","经济学硕士学位","法学硕士学位"],"degreeCode|1":["1","201","202","203","301","302","303"],"identity|1":["是","否"],"educationalHistoryCode|1":["11","12","13","21","22","29","9"],"educationalHistoryName|1":["博士研究生","硕士研究生","研究生","大学","第二学士学位","大学肄业","文盲或半文盲"],"educationaUnitClass|1":["全日制小学","全日制中学","全日制中专","职工大学","职工夜大学","电视大学","企业"],"facultyName|1":["文学院哲学系","经济系","数学系","中文系","法学院"],"major|1":["哲学","逻辑学","经济学","经济统计学","财政学","税收学"],"majorClass|1":["哲学类","经济学类","财政学类"],"class|1":["北京大学数学科学学院2001级本科生1班","北京大学政府管理学院2005级本科班","中国政法大学国际法学院2002级3班","中国政法大学民商经济法学院2002级8班"],"eductionalSystme|1":["普通学术教育","职业教育"],educationalHistoryNum:'@character("upper")@id',"condition|1":["毕业","结业","肄业","在训","未完成","转学校","转系","转专业","其他"]}]}),Ur=kr.a.mock({"data|50":[{"id|+1":1,"c0004Id|1-2":1,"c0005Id|1-2":1,"c0006Id|1-2":1,resume:'@cname@date("yyyy")的简历',startDate:"@date",endDate:"@date","unit|1":["中共毕节市委员会","毕节市人民代表大会常务委员会","毕节市中级人民法院","毕节市人民检察院"],"trade|1":["农业","林业","畜牧业","煤炭开采和洗选业","石油和天然气开采业","其他采矿业","国际组织"],"class|1":["正职","常务副职","副职","非领导职务正职","非领导职务助理职","特殊岗位非领导职务"],name:"@cname"}]});kr.a.Random;kr.a.setup({timeout:500}),kr.a.mock("dynasicData",{dynasicData:_r}),kr.a.mock("cadreInfo",{data:Mr}),kr.a.mock("cadreInfoById",{data:Mr[0]}),kr.a.mock("tree",{data:[{id:"1",text:"任职情况",isFalse:!0,children:[{id:"2",text:"工作经历",comName:"caregoryOther"},{id:"3",text:"衔称",comName:"caregoryOther"},{id:"4",text:"职级情况",comName:"caregoryOther"},{id:"5",text:"职务信息",comName:"caregoryDetail"},{id:"6",text:"录聘情况",comName:"caregoryOther"},{id:"7",text:"退出现役军人（武警）",comName:"caregoryOther"},{id:"8",text:"公务员登记",comName:"caregoryOther"},{id:"9",text:"试用情况",comName:"caregoryOther"}]},{id:"10",text:"专业技术",isFalse:!0,comName:"caregoryOther"},{id:"11",text:"学习教育",isFalse:!0,comName:"caregoryOther"},{id:"12",text:"特殊经历",isFalse:!0,comName:"caregoryOther"}]}),kr.a.mock("tableData",{data:Ar}),kr.a.mock("educationTableData",{data:Er}),kr.a.mock("workTableData",{data:Ur});var Vr=a("nzrW"),Lr=a.n(Vr),qr=a("ARhN"),Or=a.n(qr),jr={name:"formItem",props:{labelWidth:String,msgWidth:String,labelRound:{type:Boolean,default:!1},center:{type:Boolean,default:!1},msgPosition:{type:String,default:"right"}},data:function(){return{id:"inp"+(this.$moment().format("x")+parseInt(Math.random()*(1e8+1)))}},computed:{},mounted:function(){this.initWidth()},watch:{labelWidth:function(){this.initWidth()}},methods:{initWidth:function(){var e=this;this.$nextTick(function(){var t=e.labelWidth,a=e.msgWidth;e.labelWidth&&h()("#"+e.id).find(".form-label").width(t),e.labelWidth&&h()("#"+e.id).find(".form-msg").width(a),e.labelRound||h()("#"+e.id).find(".roundAlign").removeClass("roundAlign")})}}},Br={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{class:["common-form-wrapper",{alignCenter:this.center},{msgBottom:"right"!==this.msgPosition}],attrs:{id:this.id}},[this._t("default")],2)},staticRenderFns:[]};var zr=a("C7Lr")(jr,Br,!1,function(e){a("ZfLF")},null,null).exports,Hr={props:{local:String,width:{type:String,default:"250px"},refresh:{type:Boolean,default:!1},min:{type:[Number,String],default:200},max:{type:Boolean,default:!1}},data:function(){return{id:"bodyX"+(this.$moment().format("x")+parseInt(Math.random()*(1e8+1))),baseOffset:10,leftOffset:0,userPage:this.$store.getters.userPage}},computed:{localName:function(){return this.local?this.local+"-left":null},leftStyle:function(){var e={minWidth:this.min+"px"};return this.width&&(e.width=this.width),this.localName&&this.userPage[this.localName]&&(e.width=this.userPage[this.localName]+"px"),e},rightStyle:function(){var e=0;return this.width&&(e=this.width),this.localName&&this.userPage[this.localName]&&(e=this.userPage[this.localName]+"px"),{width:"calc(100% - "+e+" - "+this.leftOffset+"px - "+this.baseOffset+"px)"}}},watch:{refresh:function(e){this.addMove(),this.$emit("update:refresh",!1)}},mounted:function(){this.addMove()},methods:{addMove:function(){var e=this,t=this;setTimeout(function(){var a,o=!1,r=h()("#"+e.id+">.main-container"),s=r.find(">.main-content-side>.left-content"),n=s.find(">.dragE"),i=r.width();e.leftOffset=r.offset().left,n.bind("mousedown",function(e){o=!0,n.find(".dragP").css({backgroundColor:"#666"})}),h()(document).mousemove(function(e){if(o){a=e.pageX;var r=t.min,n=(h()(document).width()-t.leftOffset)/3;t.max&&(n=h()(document).width()-t.leftOffset-r);var l=a-t.leftOffset;l>=n&&(l=n),l<=r&&(l=r),s.width(l+"px"),s.next().width("calc("+i+"px - "+l+"px - "+t.leftOffset+"px - "+t.baseOffset+"px "),t.localName&&t.$store.commit("updateUserPage",[t.localName,l]),t.$emit("changeWidth",l)}}),h()(document).mouseup(function(e){o=!1,e.cancelBubble=!0,n.find(".dragP").css({backgroundColor:"#bbb"})})},100)}}},Gr={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"commonBody-wrapper",attrs:{id:e.id}},[e._t("title"),e._v(" "),a("div",{staticClass:"main-container"},[a("div",{staticClass:"main-content"},[e._t("default")],2),e._v(" "),a("div",{staticClass:"main-content-side"},[a("div",{staticClass:"left-content",style:e.leftStyle},[e._t("left"),e._v(" "),e._m(0)],2),e._v(" "),a("div",{ref:"rightContent",staticClass:"right-content",style:e.rightStyle},[e._t("right")],2)]),e._v(" "),e._t("footer")],2)],2)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"dragE"},[t("span",{staticClass:"iconfont icon-tuozhuaiX"})])}]};var Wr=a("C7Lr")(Hr,Gr,!1,function(e){a("yqqR")},null,null).exports,Kr={name:"commonFooter",props:{collectData:Array,icon:String,hint:String,button:String,container:{type:Boolean,default:!1}},data:function(){return{}},computed:{},mounted:function(){},watch:{},methods:{btnClick:function(){this.$emit("click")},hintClick:function(){this.$emit("hintClick")}}},Xr={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["common-footer-wrapper",{"container-footer-wrapper":e.container}]},[a("div",{staticClass:"content lightGray"},[e._t("content",[e._t("default",[a("span",{class:["hint","iconfont",e.icon],on:{click:e.hintClick}},[e._v(e._s(e.hint))])]),e._v(" "),e._t("collectData",[e.collectData?a("span",{staticClass:"collectData"},e._l(e.collectData,function(t,o){return a("span",{key:o},[t.name?a("span",[e._v(e._s(t.name))]):e._e(),e._v(" "),a("span",{class:t.class},[e._v(e._s(t.count))]),e._v(" "),a("span",[e._v(e._s(t.unit))]),e._v(" "),o<e.collectData.length-1?a("span",[e._v(",")]):e._e()])}),0):e._e()])])],2),e._v(" "),a("div",{staticClass:"other"},[e._t("button",[e._t("more"),e._v(" "),e.button?a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.btnClick()}}},[e._v(e._s(e.button))]):e._e()])],2)])},staticRenderFns:[]};var Yr=a("C7Lr")(Kr,Xr,!1,function(e){a("FA56")},null,null).exports,Qr={props:{title:String,statusData:Object,statusBtn:Object,options:Array,height:String,showBack:{type:Boolean,default:!1},showShadow:{type:Boolean,default:!1},border:{type:Boolean,default:!1},hint:Number,icon:String},data:function(){return{}},computed:{titleStyle:function(){var e={};return this.showShadow||(e.minHeight="35px"),this.height&&(e.height=this.height),this.border&&(e.borderBottom="1px solid #ddd"),e}},methods:{}},Jr={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["common-title-wrapper",{showShadow:e.showShadow}],style:e.titleStyle},[a("div",{staticClass:"titleInfo"},[e.title?a("div",{staticClass:"titleHead"},[a("div",{staticClass:"title"},[e._t("left",[e.icon?a("span",{class:["iconfont",e.icon]}):a("span",{staticClass:"bg-icon-block"})]),e._v(" "),e._t("name",[e.title?a("label",{staticClass:"titleName"},[e._v(e._s(e.title))]):e._e()]),e._v(" "),a("span",{staticClass:"titleSign"},[e._t("default")],2),e._v(" "),e.statusData&&e.statusData.text?a("span",{class:["showMsg",e.statusData.class]},[e._v(" ("+e._s(e.statusData.text)+")")]):e._e(),e._v(" "),e.statusBtn&&e.statusBtn.name?a("span",{class:["status",e.statusBtn.class]},[e._v(e._s(e.statusBtn.name))]):e._e(),e._v(" "),e.hint?a("span",{class:["circleBtn bgred"]},[e._v(e._s(e.hint))]):e._e(),e._v(" "),e._t("options",[e.options?a("span",{staticClass:"options"},[e._v("\n                        ( "),e._l(e.options,function(t,o){return a("span",{key:o},[t.name?a("span",[e._v(e._s(t.name))]):e._e(),e._v(" "),a("span",{class:t.class},[e._v(e._s(t.count))]),e._v(" "),a("span",[e._v(e._s(t.unit))]),e._v(" "),o<e.options.length-1?a("span",[e._v(",")]):e._e()])}),e._v(")\n                    ")],2):e._e()])],2),e._v(" "),a("div",{staticClass:"titleOther search-wrapper"},[e._t("right")],2)]):e._e(),e._v(" "),a("div",{staticClass:"titleContent"},[e._t("content")],2)]),e._v(" "),e._t("button",[e.showBack?a("div",{staticClass:"backBtn"},[e._t("more-button"),e._v(" "),a("el-button",{staticClass:"iconfont icon-fanhui",attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.$router.back(-1)}}},[e._v("返回")])],2):e._e()]),e._v(" "),a("br")],2)},staticRenderFns:[]};var Zr=a("C7Lr")(Qr,Jr,!1,function(e){a("I5cf")},null,null).exports,es=a("HiC/"),ts={name:"pageLoading",components:{vueLoading:a.n(es).a},props:["type","color","text"],data:function(){return{}},computed:{Type:function(){return this.color?this.type:"spiningDubbles"},Color:function(){return this.color?this.color:"#198fff"}},methods:{},created:function(){}},as={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"page-loading"},[a("div",{staticClass:"page-loading-back"}),e._v(" "),a("div",{staticClass:"page-loading-container"},[e._t("customContent",[a("vue-loading",{attrs:{type:e.Type,color:e.Color,size:{width:"60px",height:"60px"}}}),e._v(" "),a("span",{staticClass:"page-loading-text"},[e._v(e._s(e.text))])])],2)])},staticRenderFns:[]};var os=a("C7Lr")(ts,as,!1,function(e){a("YDn5")},null,null).exports,rs={name:"columnConfig-dialog",props:{value:Array,options:Array,visible:Boolean},data:function(){return{checkedVal:[],checkedData:[],treeData:[],treeProps:{value:"dataIndex",label:"text",icon:"icon-biaodan",children:""}}},computed:{showVisible:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}}},watch:{},mounted:function(){},methods:{open:function(){this.treeData=this.$deepClone(this.options),this.checkedVal=this.value.map(function(e){if(!1!==e.show)return e.dataIndex})},checkedChange:function(e,t,a){this.checkedVal=t,this.checkedData=a},saveForm:function(){this.$emit("save",this.checkedVal,this.checkedData)}}},ss={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonDialog",{staticClass:"columnConfig-dialog",attrs:{title:"表格列配置",width:"400px",visible:e.showVisible,save:e.saveForm},on:{"update:visible":function(t){e.showVisible=t},open:e.open}},[a("commonTree",{ref:"commonTree",attrs:{selectable:"",multiple:"",filter:"",height:"450px",options:e.treeData,props:e.treeProps},on:{checkedChange:e.checkedChange},model:{value:e.checkedVal,callback:function(t){e.checkedVal=t},expression:"checkedVal"}})],1)},staticRenderFns:[]};var ns=a("C7Lr")(rs,ss,!1,function(e){a("+sF2")},null,null).exports,is=a("7p8Y"),ls=a.n(is),cs={name:"commonTable",components:{columnConfig:ns},props:{rowIndex:Number,search:{type:Object,default:function(){return{}}},sortName:{type:String,default:"序号"},showSelect:{type:Boolean,default:!1},showIndex:{type:Boolean,default:!0},showPagination:{type:Boolean,default:!1},autoHeight:{type:Boolean,default:!1},height:String,offset:{type:Number,default:0},defaultChecked:{type:Boolean,default:!1},autoOperate:{type:Boolean,default:!1},dragable:{type:Boolean,default:!1},method:String,url:String,options:[Array,Object],gridColumns:Array,refresh:Boolean,rowClass:Function,returnForData:Function,customSpanMethod:Function,sizeLimit:Array,local:String,total:Number,layout:String},data:function(){return{isFrist:!0,refName:"ref_"+this.$moment().format("x"),offsetTop:0,offsetBottom:5,data:[],columns:[],columnConfigVisible:!1,totalCount:0,hightlight:!0,checked:!0}},computed:{refreshHeight:function(){return this.$store.state.refreshHeight&&this.initTableHeight(),this.$store.state.refreshHeight},tableHeight:function(){if(this.height)return this.height;if(this.autoHeight){var e=0+this.offset;return h()(".container-footer-wrapper").height()&&(e+=h()(".container-footer-wrapper").height()),(this.showPagination||h()(".container-pagination-wrapper").height())&&(e+=h()(".common-pagination-wrapper").height()),this.refreshHeight&&this.$store.commit("updateRefreshHeight",!1),"calc(100vh - "+this.offsetTop+"px - "+this.offsetBottom+"px - "+e+"px)"}},pageSize:{get:function(){return this.search.pageSize},set:function(e){this.search.pageSize=e}},pageIndex:{get:function(){return this.search.pageIndex},set:function(e){this.search.pageIndex=e}},localConfig:function(){return this.local?this.$store.getters.userTable[this.local]:null}},watch:{search:{handler:function(e){console.log("this.search重载"),console.log(e),this.$emit("update:search",e),this.loadTableData(e)},deep:!0},options:{handler:function(){var e=this;this.options&&"array"===this.$getType(this.options)&&setTimeout(function(){e.data=e.$deepClone(e.options),e.initChecked()},10)},deep:!0},gridColumns:{handler:function(){this.initColumns()},deep:!0},refresh:function(e){e&&(this.loadTableData(),this.$emit("update:refresh",!1))}},mounted:function(){if(this.options&&"array"===this.$getType(this.options)?(this.data=this.$deepClone(this.options),this.initChecked()):this.url&&this.loadTableData(),this.dragable){var e=this,t=h()(this.$refs[this.refName].bodyWrapper).find("tbody")[0];ls.a.create(t,{onEnd:function(t){var a=t.newIndex,o=t.oldIndex;e.$emit("dragEnd",a,o)}})}this.local||this.initColumns(),this.initTableHeight()},methods:{initChecked:function(){var e=this;this.isFrist&&this.initColumns(),this.defaultChecked&&setTimeout(function(){e.data.length>0&&(e.$refs[e.refName].setCurrentRow(e.data[0]),e.rowClick(e.data[0]))},10)},checkedSelect:function(e,t){var a=this;e.length>0&&setTimeout(function(){a.data.length>0&&e.forEach(function(e){a.$refs[a.refName].toggleRowSelection(a.data[e],t)})},100)},toggleSelection:function(e){var t=this;e?e.forEach(function(e){t.$refs[t.refName].toggleRowSelection(e)}):this.$refs[this.refName].clearSelection()},initTableHeight:function(){var e=this;setTimeout(function(){e.$refs.tableBody&&(e.offsetTop=e.$refs.tableBody.getBoundingClientRect().top)},100)},initColumns:function(){var e=this,t=new Array;if(this.local&&(!this.localConfig||0===this.localConfig.length)){var a=this.gridColumns.map(function(e){return{text:e.text,dataIndex:e.dataIndex}});this.$store.commit("updateUserTable",[this.local,a])}this.gridColumns.forEach(function(a,o){var r=e.$deepClone(a);if(te[r.dataIndex]&&(r=te[r.dataIndex]),e.localConfig){var s=e.localConfig.filter(function(e){return e.dataIndex===r.dataIndex});r.show=!1,s.length>0&&(r.show=!0,r=e.$mergeObj(r,s[0]))}t.push(r)}),this.autoOperate&&t.push(te.operate),this.columns=this.$deepClone(t)},loadTableData:function(e){var t=this;if(this.url){e||(e=this.search);var a=!0;for(var o in e)null===e[o]&&(a=!1);if(a){var r={url:this.url,data:e,method:this.method?this.method:"post"};this.data=new Array,this.$ajaxPost(r,!0,function(e){console.log("表格数据res++++++"),console.log(e),200===e.code?(t.returnForData&&(e.data=t.returnForData(e.data)),void 0!==e.data.totalCount?(t.totalCount=e.data.totalCount,t.data=e.data.data):t.data=t.$deepClone(e.data),t.initChecked()):t.$showMsg("error",e.message)})}}},retenSpan:function(e){var t=e.row,a=e.column,o=e.rowIndex,r=e.columnIndex;if(this.customSpanMethod)return this.customSpanMethod({row:t,column:a,rowIndex:o,columnIndex:r});if(!t.spanList)return{rowspan:1,colspan:1};for(var s=0;s<t.spanList.length;s++)if(r===t.spanList[s].colIndex)return{rowspan:t.spanList[s].rowspan,colspan:t.spanList[s].colspan}},runBtnClick:function(e,t,a){"function"==typeof this.$parent[e]?this.$parent[e](t,this.data,a):"function"==typeof this[e]?this[e](t,this.data,a):this.$emit(e,t,this.data,a)},dropClick:function(e){this.runBtnClick(e.eName,e.row)},handleSelectionChange:function(e){"function"==typeof this.$parent.checkedChange?this.$parent.checkedChange(e):this.$emit("checkedChange",e)},handleSelectChange:function(e,t){"function"==typeof this.$parent.checkedChangeRow?this.$parent.checkedChangeRow(e):this.$emit("checkedChangeRow",e,t)},rowClick:function(e,t,a){this.$emit("rowClick",e,t,a)},rowDbClick:function(e,t,a){this.$emit("rowDbClick",e,t,a)},columnDrag:function(e,t,a,o){if(this.localConfig){for(var r=a.property,s=this.$deepClone(this.localConfig),n=0;n<s.length;n++)s[n].dataIndex===r&&(s[n].width=e);this.$store.commit("updateUserTable",[this.local,s])}},trClass:function(e){var t=e.row,a=e.rowIndex;return t.$index=a,this.rowIndex||0===this.rowIndex?(this.hightlight=!1,this.rowIndex===a?"checked-row":""):this.customSpanMethod?"hideTrBg":this.rowClass?this.rowClass(t,a):""},showTr:function(e,t){var a=!e._parent||e._parent._expanded&&e._parent._show;return e._show=a,a?"height:35px":"display:none;"},handleCurrentChange:function(e){this.$emit("handleCurrentChange",e)},configColumns:function(){this.columnConfigVisible=!0},saveColumn:function(e,t){var a=this;this.columnConfigVisible=!1;var o=new Array;t.forEach(function(e){a.localConfig[e.dataIndex]?o.push(localConfig[e.dataIndex]):o.push({dataIndex:e.dataIndex,text:e.text})}),this.$store.commit("updateUserTable",[this.local,o]),this.initColumns()}}},ds={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["common-table-wrapper",{showPagination:e.showPagination}]},[e._t("default"),e._v(" "),a("div",{ref:"tableBody",staticClass:"tableBody",style:{height:e.tableHeight}},[a("span",{directives:[{name:"show",rawName:"v-show",value:e.local&&e.gridColumns.length>0,expression:"local&&gridColumns.length>0"}],staticClass:"configColumns iconfont icon-shezhi",attrs:{title:"列配置"},on:{click:function(t){return e.configColumns()}}}),e._v(" "),a("el-table",{directives:[{name:"show",rawName:"v-show",value:e.gridColumns.length>0,expression:"gridColumns.length>0"}],ref:e.refName,attrs:{border:"","row-key":"EMP_ID",data:e.data,"empty-text":" ","row-style":e.showTr,"row-class-name":e.trClass,height:e.tableHeight,"span-method":e.retenSpan,"highlight-current-row":e.hightlight},on:{"row-click":e.rowClick,"row-dblclick":e.rowDbClick,"current-change":e.handleCurrentChange,"selection-change":e.handleSelectionChange,select:e.handleSelectChange,"header-dragend":e.columnDrag}},[e._t("selection",[e.showSelect?a("el-table-column",{attrs:{fixed:"",type:"selection",align:"center",width:"30"}}):e._e()]),e._v(" "),e.showIndex?a("el-table-column",{attrs:{type:"index",align:"center",label:e.sortName,width:"60"}}):e._e(),e._v(" "),e._l(e.columns,function(t,o){return!1!==t.show?a("el-table-column",{key:o,attrs:{fixed:t.fixed,width:t.width,align:t.align,label:t.text,prop:t.dataIndex},scopedSlots:e._u([{key:"default",fn:function(o){return t.children?void 0:[t.formatter?e._e():a("span",{attrs:{title:o.row[t.dataIndex]}},[e._v(e._s(o.row[t.dataIndex]))]),e._v(" "),t.formatter?a("div",{staticClass:"formatter"},[a("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[e._v(e._s(e.tdData=t.formatter(o)||""))]),e._v(" "),"array"!==e.$getType(e.tdData)&&"object"!==e.$getType(e.tdData)?a("div",{attrs:{title:e.tdData}},[e._v(e._s(e.tdData))]):e._e(),e._v(" "),e.tdData.showBtn?a("el-button",{class:e.tdData.class,style:{textAlign:t.align},attrs:{circle:e.tdData.circle,title:e.tdData.title,type:e.tdData.type,size:e.tdData.size?e.tdData.size:"mini",disabled:e.tdData.disabled},on:{click:function(a){e.runBtnClick(t.formatter(o).eName,o.row,t.formatter(o).limit)}}},[e._v(e._s(e.tdData.text)+"\n                        ")]):e._e(),e._v(" "),e.tdData.showText?a("div",{class:e.tdData.class,style:e.tdData.style,attrs:{title:e.tdData.text}},[e._v(e._s(e.tdData.text))]):e._e(),e._v(" "),e.tdData.showIcon?a("i",{staticClass:"iconfont",class:e.tdData.class,style:e.tdData.style}):e._e(),e._v(" "),e.tdData.checkbox?a("el-checkbox",{class:e.tdData.class,style:e.tdData.style,attrs:{disabled:e.tdData.disabled},nativeOn:{change:function(a){e.runBtnClick(t.formatter(o).eName,o.row,t.formatter(o).limit)}},model:{value:e.tdData.check,callback:function(t){e.$set(e.tdData,"check",t)},expression:"tdData.check"}}):e._e(),e._v(" "),e.tdData.showInput?a("formInput",{staticClass:"noBorder",attrs:{type:e.tdData.type,min:e.tdData.min,max:e.tdData.max,placeholder:e.tdData.placeholder?e.tdData.placeholder:" "},on:{change:e.tdData.change},model:{value:e.tdData.value,callback:function(t){e.$set(e.tdData,"value",t)},expression:"tdData.value"}}):e._e(),e._v(" "),e.tdData.showSwitch?a("formSwitch",{attrs:{activeText:e.tdData.showRight,text:e.tdData.showLeft},on:{change:function(a){e.runBtnClick(t.formatter(o).eName,o.row,t.formatter(o).limit)}},model:{value:o.row[t.dataIndex],callback:function(a){e.$set(o.row,t.dataIndex,a)},expression:"scope.row[column.dataIndex]"}}):e._e(),e._v(" "),e.tdData.showDropDown?a("formDropDown",{attrs:{type:"text primary",title:e.tdData.showText,trigger:"click",placement:"left-start"},on:{click:e.dropClick}},[a("template",{slot:"dropdown"},e._l(e.tdData.data,function(t,r){return a("el-dropdown-item",{key:t.text,class:[t.class,{last:e.tdData.data.length-1===r}],attrs:{command:{eName:t.eName,row:o.row},disabled:t.disabled}},[e._v("\n                                    "+e._s(t.text)+"\n                                ")])}),1)],2):e._e()],1):e._e()]}}],null,!0)}):e._e()})],2)],1),e._v(" "),e.showPagination?a("commonPagination",{attrs:{sizeLimit:e.sizeLimit,layout:e.layout,size:e.pageSize,page:e.pageIndex,total:e.total?e.total:e.totalCount},on:{"update:size":function(t){e.pageSize=t},"update:page":function(t){e.pageIndex=t}}}):e._e(),e._v(" "),e._t("bottom"),e._v(" "),a("columnConfig",{attrs:{visible:e.columnConfigVisible,options:e.gridColumns},on:{"update:visible":function(t){e.columnConfigVisible=t},save:e.saveColumn},model:{value:e.localConfig,callback:function(t){e.localConfig=t},expression:"localConfig"}})],2)},staticRenderFns:[]};var us=a("C7Lr")(cs,ds,!1,function(e){a("vDEn")},null,null).exports,hs={props:{border:{type:Boolean,default:!1},showMore:{type:Boolean,default:!1},dialog:{type:Boolean,default:!1},form:{type:Object,default:function(){return{}}},colspan:String},data:function(){return{showMoreSearch:!1}},mounted:function(){},methods:{clickMore:function(){var e=this;this.showMoreSearch=!this.showMoreSearch,this.$emit("clickMore"),setTimeout(function(){e.$store.commit("updateRefreshHeight",!0)},300)},reset:function(){for(var e in this.form)this.form[e]=null;this.$emit("reset")},search:function(){this.$emit("search")},save:function(){this.$emit("save")}}},ms={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["common-search-wrapper","col_"+e.colspan,{border:!0===e.border}]},[e._t("default",[a("div",{staticClass:"main"},[a("div",{staticClass:"search-left"},[e._t("left")],2),e._v(" "),a("div",{staticClass:"search-right"},[e._t("right"),e._v(" "),e.showMore?a("el-button",{class:["moreBtn","right",{open:e.showMoreSearch}],attrs:{size:"mini",type:"text primary"},on:{click:function(t){return e.clickMore()}}},[e._v("\n                    高级搜索\n                    "),a("i",{staticClass:"el-icon-arrow-down"})]):e._e(),e._v(" "),e._t("most-right")],2)])]),e._v(" "),e.dialog?a("commonDialog",{attrs:{visible:e.showMoreSearch,title:"高级搜索",save:e.save},on:{"update:visible":function(t){e.showMoreSearch=t}}},[e._t("more")],2):e._e(),e._v(" "),a("el-collapse-transition",[e.showMoreSearch&&!e.dialog?a("div",{staticClass:"other"},[e._t("more"),e._v(" "),a("div",{staticClass:"right moreOperate"},[a("el-button",{staticClass:"el-icon-refresh",attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.reset()}}},[e._v(" 重置")]),e._v(" "),a("el-button",{staticClass:"el-icon-search",attrs:{size:"mini",type:"primary"},on:{click:function(t){return e.search()}}},[e._v(" 搜索")])],1)],2):e._e()])],2)},staticRenderFns:[]};var fs=a("C7Lr")(hs,ms,!1,function(e){a("7OtF")},null,null).exports,ps={name:"commonDialog",props:{title:String,appendBody:{type:Boolean,default:!1},showClose:{type:Boolean,default:!0},visible:{type:Boolean,default:!1},form:{type:Object,default:function(){return{}}},fullscreen:{type:Boolean,default:!1},url:String,updateUrl:String,rules:Object,save:Function,beforeSave:Function,width:{type:String,default:"750px"},height:String},data:function(){return{id:"dialog"+(this.$moment().format("x")+parseInt(Math.random()*(1e8+1))),saveDisabled:!1}},computed:{showVisible:{get:function(){return this.visible||(this.saveDisabled=!1),this.visible},set:function(e){this.initRules(),this.$emit("update:visible",e)}},heightStyle:function(){return this.fullscreen?{}:this.height?{height:this.height,minHeight:"0px"}:{}}},watch:{},methods:{saveForm:function(){var e=this;this.beforeSave&&this.beforeSave();var t=!0;if(this.rules&&(t=this.$validate.validRules(this.rules,this.form)),t){if(this.saveDisabled=!0,this.save)return void this.save(function(){e.saveDisabled=!1});if(this.url||this.updateUrl){var a={url:this.url,data:this.form};a.data.id&&this.updateUrl&&(a.url=this.updateUrl),this.$ajaxPost(a,!0,function(t){e.saveDisabled=!1,200===t.code?(e.showVisible=!1,e.$emit("update:refresh",!0),e.$showMsg("success","保存成功")):e.$showMsg("error",t.message)})}else this.showVisible=!1,this.$emit("update:refresh",!0)}},initRules:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rules,t=this.$getType(e);if("array"===t&&e.forEach(function(t,a){delete e[a].valid}),"object"===t)for(var a in e){e[a];void 0!=e[a].valid&&(e[a].valid=!0),this.initRules(e[a])}},open:function(){h()("#"+this.id+" .dialog-form").animate({scrollTop:0},100),this.$emit("open")}}},gs={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{staticClass:"common-dialog-wrapper",attrs:{fullscreen:e.fullscreen,id:e.id,title:e.title,visible:e.showVisible,"append-to-body":e.appendBody,"close-on-click-modal":!1,"close-on-press-escape":!1,"show-close":e.showClose,width:e.width},on:{"update:visible":function(t){e.showVisible=t},open:e.open}},[e._t("title",null,{slot:"title"}),e._v(" "),a("form",{staticClass:"dialog-form",style:e.heightStyle,attrs:{model:e.form}},[e._t("default")],2),e._v(" "),a("div",{staticClass:"dialog-footer"},[a("div",{staticClass:"foot-content"},[e._t("foot")],2),e._v(" "),a("div",{staticClass:"foot-btn"},[e._t("footer",[e.showClose?e._t("cancel",[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.showVisible=!1}}},[e._v("取消")])]):e._e(),e._v(" "),e._t("more"),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary",disabled:e.saveDisabled},on:{click:e.saveForm}},[e._v("确定")])])],2)])],2)},staticRenderFns:[]};var vs=a("C7Lr")(ps,gs,!1,function(e){a("HNIz")},null,null).exports,bs={name:"commonTabPane",props:{type:String,value:[String,Number],position:{type:String,default:"top"},searchData:{type:Object,default:function(){return{}}},options:{type:Array,default:function(){return[]}}},data:function(){return{data:[]}},computed:{tabClass:function(){return"top"===this.position||"bottom"===this.position?"positionX":"positionY"},selectedVal:{get:function(){return this.value?this.value+"":"0"},set:function(e){this.$emit("input",parseInt(e))}}},watch:{options:{handler:function(){this.data=this.$deepClone(this.options)},deep:!0}},mounted:function(){this.data=this.$deepClone(this.options)},methods:{handleClick:function(e,t){this.$emit("change",e,parseInt(this.selectedVal))}}},Cs={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["common-tabPane-wrapper",e.tabClass]},[a("el-tabs",{class:["main"],attrs:{type:e.type,"tab-position":e.position},on:{"tab-click":e.handleClick},model:{value:e.selectedVal,callback:function(t){e.selectedVal=t},expression:"selectedVal"}},e._l(e.data,function(t,o){return a("el-tab-pane",{key:o,attrs:{label:t.name,name:""+o}},[a("span",{attrs:{slot:"label"},slot:"label"},[a("i",{class:["iconfont",t.class,t.icon]}),e._v("\n                "+e._s(t.name)+"\n                "),t.count?a("span",{staticClass:"count"},[e._v(e._s(t.count))]):e._e(),e._v(" "),t.valid?a("span",{staticClass:"validError el-icon-warning"}):e._e()]),e._v(" "),e._t("default",null,{item:t})],2)}),1),e._v(" "),a("div",{staticClass:"other"},[e._t("other")],2)],1)},staticRenderFns:[]};var ys=a("C7Lr")(bs,Cs,!1,function(e){a("GY2Z")},null,null).exports,ws={name:"commonTablistY",props:{width:String,height:Number,options:Array,value:{type:Number,default:0},add:String},data:function(){return{data:[],loading:!0}},mounted:function(){this.options&&this.initData(this.options)},computed:{style:function(){var e={};return this.width&&(e.width=this.width),e}},watch:{options:{handler:function(){this.initData(this.options)},deep:!0}},methods:{initData:function(e){this.data=e.map(function(e){if(!1!==e.show)return e}),this.loading=!1},choose:function(e,t){this.$emit("input",parseInt(e)),this.$emit("change",t,e)},addClick:function(){this.$emit("add")}}},xs={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"common-tablistY-wrapper"},[a("div",{staticClass:"tabs-main"},[a("div",{class:["tabsColumn left"]},[a("commonContainer",{style:e.style,attrs:{height:e.height?e.height:void 0}},[e.data.length>0?a("ul",e._l(e.data,function(t,o){return a("li",{key:o,class:["e_navbar_item",{active:o===e.value}],on:{click:function(a){return e.choose(o,t)}}},[a("span",{staticClass:"tabs-title"},[a("i",{class:["iconfont",t.class,t.icon]}),e._v(" "),a("a",[e._v(e._s(t.name))])]),e._v(" "),!1===t.valid?a("span",{staticClass:"validError el-icon-warning"}):e._e(),e._v(" "),e._t("default",null,{tab:t})],2)}),0):e._e(),e._v(" "),e.add?a("div",{staticClass:"addBtn"},[a("el-button",{attrs:{size:"small",type:"text primary",icon:"el-icon-plus"},on:{click:function(t){return e.addClick()}}},[e._v(e._s(e.add))])],1):e._e(),e._v(" "),e._t("bottom")],2)],1),e._v(" "),a("div",{staticClass:"tabsContent left"},[e._t("components")],2),e._v(" "),a("div",{staticClass:"clearfloat"}),e._v(" "),e.loading?a("pageLoading"):e._e()],1)])},staticRenderFns:[]};var Ds=a("C7Lr")(ws,xs,!1,function(e){a("pPTL")},null,null).exports,Is={props:{offsetBottom:{type:Number,default:0},height:{type:[Number,String]},real:{type:Boolean,default:!1}},data:function(){return{id:"inp"+(this.$moment().format("x")+parseInt(Math.random()*(1e8+1))),offsetTop:"",baseOffsetBottom:0}},mounted:function(){var e=this;this.$nextTick(function(){e.updateOffsetTop()}),this.real&&h()(window).resize(function(){e.updateOffsetTop()})},computed:{Height:function(){if(this.height)return"number"===this.$getType(this.height)?this.height+"px":this.height;var e=0;return h()(".container-footer-wrapper").height()&&(e+=h()(".container-footer-wrapper").height()),h()(".container-pagination-wrapper").height()&&(e+=h()(".container-pagination-wrapper").height()+5),"calc(100vh - "+(this.offsetTop+this.offsetBottom+this.baseOffsetBottom+e+"px")+")"}},methods:{updateOffsetTop:function(){this.offsetTop=this.$refs.commonContainer.getBoundingClientRect().top}}},$s={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{ref:"commonContainer",staticClass:"common-container-wrapper",style:{height:this.Height},attrs:{id:this.id}},[this._t("default")],2)},staticRenderFns:[]};var ks=a("C7Lr")(Is,$s,!1,function(e){a("xg5U")},"data-v-8851d028",null).exports,Ts={name:"commonPagination",props:{total:{type:Number,default:0},page:{type:Number,default:1},size:{type:Number,default:10},sizeLimit:{type:Array,default:function(){return[10,20,30,50,100]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},container:{type:Boolean,default:!1}},data:function(){return{pageSize:10,pageIndex:1}},computed:{},watch:{total:function(){this.initPage()},page:function(){this.initPage()},size:function(){this.initPage()}},mounted:function(){this.initPage()},methods:{initPage:function(){this.pageSize=this.size,this.page>1?this.total>0&&(this.pageIndex=this.page):this.pageIndex=1},changePageSize:function(e){this.pageSize=e,this.$emit("update:size",e),this.$emit("changeSize",e)},turnPage:function(e){this.pageIndex=e,this.$emit("update:page",e),this.$emit("changePage",e)}}},_s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["common-pagination-wrapper",{"container-pagination-wrapper":e.container}]},[a("el-pagination",{attrs:{background:"","pager-count":5,"page-sizes":e.sizeLimit,"current-page":e.pageIndex,"page-size":e.pageSize,layout:e.layout,total:e.total},on:{"size-change":e.changePageSize,"current-change":e.turnPage}})],1)},staticRenderFns:[]};var Ns=a("C7Lr")(Ts,_s,!1,function(e){a("KkRl")},"data-v-575d9586",null).exports,Ss={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"common-breadcrumb-wrapper"},[a("el-breadcrumb",{attrs:{separator:">"}},e._l(e.breadcrumbData,function(t,o){return a("el-breadcrumb-item",{key:o,nativeOn:{click:function(a){return e.click(t)}}},[e._v("\n            "+e._s(t.title)+"\n        ")])}),1),e._v(" "),a("div",{staticClass:"slot"},[e._t("default")],2),e._v(" "),a("div",{staticClass:"slot-right"},[e._t("right")],2)],1)},staticRenderFns:[]};var Rs=a("C7Lr")({name:"common-breadcrumb",data:function(){return{breadcrumbData:[]}},computed:{currentRoute:function(){return this.$route},currentBreadcrumb:function(){return this.$store.state.currentBreadcrumb}},watch:{},mounted:function(){this.getBreadcrumb()},methods:{getBreadcrumb:function(){var e=[];this.$route.matched.forEach(function(t,a){t.meta&&e.push({title:t.meta.title,name:t.name})}),(e[e.length-1].name="Home")&&(e[0].title="工作台"),this.breadcrumbData=e},click:function(e){this.$router.push({name:e.name})}}},Ss,!1,function(e){a("Q+mD")},null,null).exports,Ms={name:"CommonUpload",components:{},props:{name:{type:String,default:"photo"},value:{type:[String,Array],default:""},showType:{type:String,default:"button"},avatar:{type:Boolean,default:!0},url:{type:String,default:"cadre/uploadPhoto?empId="},accept:String,loadImg:Function},computed:{uploadUrl:function(){return this.$baseUrl+this.url+this.value}},data:function(){return{imgUrl:"@/static/img/defaultAvatar.jpg",formatX:this.$moment().format("x")}},created:function(){},methods:{handleExceed:function(e,t){this.$message.warning("当前限制选择 "+this.limit+" 个文件，本次选择了 "+e.length+" 个文件，共选择了 "+(e.length+t.length)+" 个文件")},beforeUpload:function(e){if(this.accept){var t=!1;return this.accept.split(",").forEach(function(a){switch(a){case"img":case"png":case"jpg":case"gif":"图片;";break;case"word":"word;";break;case"xls":"xls;";break;case"xmls":"xmls;";break;case"doc":"doc;"}(a=e.type)&&(t=!0)}),t||this.$showMsg("error",""),t}return!0},onSuccess:function(e,t,a){200===e.code?(this.formatX=this.$moment().format("x"),this.$showMsg("success","上传成功"),this.$emit("success",e,t)):this.$showMsg("error",e.message)},initImg:function(){return this.loadImg?this.loadImg()+"&code="+this.formatX:this.$baseUrl+"cadre/photo?empId="+this.value+"&code="+this.formatX},downLoad:function(){var e=this.$baseUrl+"cadre/photo?empId="+this.value+"&code="+this.formatX;window.location.href=e}}},Fs={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"common-upload-wrapper"},[e.avatar?a("div",{staticClass:"avatar"},[a("img",{staticClass:"img",attrs:{src:e.initImg(),onerror:"this.src='static/img/defaultAvatar.jpg'",title:"点击下载",alt:""},on:{click:function(t){return e.downLoad()}}})]):e._e(),e._v(" "),a("el-upload",{staticClass:"uploadFile",attrs:{name:e.name,"show-file-list":!1,action:e.uploadUrl,drag:"drag"===e.showType,"before-upload":e.beforeUpload,"on-success":e.onSuccess,"on-exceed":e.handleExceed}},["text"===e.showType?a("span",{staticClass:"blue underline"},[e._v("点击上传")]):e._e(),e._v(" "),"icon"===e.showType?a("i",{staticClass:"icon el-icon-plus avatar-uploader-icon"}):e._e(),e._v(" "),"button"===e.showType?a("el-button",{attrs:{size:"mini",type:"primary"}},[e._v("点击上传")]):e._e(),e._v(" "),"drag"===e.showType?a("div",{staticClass:"drag"},[a("i",{staticClass:"el-icon-upload"}),e._v(" "),a("div",{staticClass:"el-upload__text"},[e._v("将文件拖到此处，或"),a("em",[e._v("点击上传")])])]):e._e()],1)],1)},staticRenderFns:[]};var Ps=a("C7Lr")(Ms,Fs,!1,function(e){a("A/54")},null,null).exports,As={props:{value:Array,options:Array,search:Object,funcRender:Function,leftChecked:Array,rightChecked:Array,props:{type:Object,default:function(){return{label:"name",key:"id",disabled:"disabled"}}},format:{type:Object,default:function(){return{}}},titles:{type:Array,default:function(){return["未选择","已选择"]}},buttonTexts:{type:Array,default:function(){return[]}},filter:{type:Boolean,default:!0}},data:function(){return{data:[]}},computed:{inputVal:{get:function(){return this.value?this.value:[]},set:function(e){this.$emit("input",e)}}},mounted:function(){this.options?this.data=this.$deepClone(this.options):this.url&&this.loadData()},watch:{search:{handler:function(){this.loadData()},deep:!0},options:{handler:function(){this.data=this.$deepClone(this.options)},deep:!0}},methods:{loadData:function(){var e=this;this.url,this.search;this.$ajaxPost(function(t){200===t.code?e.data=t.data:e.$showMsg("error",t.message)})},renderFunc:function(e,t){return this.funcRender?this.funcRender(e,t):e("span",[t[this.props.label]])},filterMethod:function(e,t){return t[this.props.label].indexOf(e)>-1},change:function(e,t,a){var o=this;this.inputVal=e;var r=this.options.filter(function(t){if(~e.indexOf(t[o.props.key]))return t});this.$emit("change",e,r)}}},Es={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-transfer",{staticClass:"common-transfer-wrapper",attrs:{filterable:e.filter,"filter-method":e.filterMethod,"filter-placeholder":"请输入关键字搜索",data:e.data,props:e.props,format:e.format,titles:e.titles,"button-texts":e.buttonTexts,"render-content":e.renderFunc,"left-default-checked":[],"right-default-checked":[]},on:{change:e.change},model:{value:e.inputVal,callback:function(t){e.inputVal=t},expression:"inputVal"}},[e._t("left-footer"),e._v(" "),e._t("right-footer")],2)},staticRenderFns:[]};var Us=a("C7Lr")(As,Es,!1,function(e){a("TMr/")},null,null).exports,Vs={render:function(){var e=this.$createElement;return(this._self._c||e)("div",{ref:"empty",staticClass:"commonEmpty-wrapper",style:{height:this.height}},[this._m(0)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("img",{attrs:{src:a("w+73"),alt:""}}),this._v(" "),t("span",[this._v("暂无数据...")])])}]};var Ls=a("C7Lr")({data:function(){return{height:""}},mounted:function(){},methods:{}},Vs,!1,function(e){a("nq1l")},null,null).exports,qs={name:"formRow",props:{hint:String,rule:Object,width:String,label:String,labelWidth:String,sortNumber:[Number],required:{type:Boolean,default:!1},group:{type:Boolean,default:!1},round:{type:Boolean,default:!1},otherWidth:{type:String,default:"0px"},msgWidth:{type:String,default:"20%"},rowspan:[Number,String],colspan:[Number,String],top:{type:Boolean,default:!1}},data:function(){return{id:"formRow"+(this.$moment().format("x")+parseInt(Math.random()*(1e8+1))),showHint:!1}},computed:{style:function(){var e={};return this.width?e.width=this.width:e.width="100%",void 0!==this.rowspan&&(e.minHeight=30*this.rowspan+(this.rowspan-1>0?6*this.rowspan:0)+"px"),e},message:{get:function(){if(this.rule){if(!1===this.rule.valid)return this.rule.msg;var e=new Array;for(var t in this.rule)!1===this.rule[t].valid&&e.push(this.rule[t].msg);return e.length>0?e[0]:null}return null}}},watch:{hint:function(){this.initShowHint()}},created:function(){this.initShowHint()},methods:{initShowHint:function(){this.hint?"原："===this.hint||~this.hint.indexOf("undefined")||~this.hint.indexOf("null")?this.showHint=!1:this.showHint=!0:this.showHint=!1}}},Os={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["formRow",{group:e.group}],style:e.style,attrs:{id:e.id}},[e._t("content",[a("div",{staticClass:"itemContent"},[e.label?a("div",{class:["form-label",{top:e.top}],style:{width:e.labelWidth?e.labelWidth:"120px"}},[a("div",{class:[{"round-align":e.round}]},[a("span",{staticClass:"label"},[a("span",{staticClass:"mark"},[e._v(e._s(e.required?"*":" "))]),e._v("\n                        "+e._s(e.label)+"\n                    ")])])]):e._e(),e._v(" "),a("div",{ref:"formContent",staticClass:"form-input"},[e._t("default"),e._v(" "),a("div",{staticClass:"ms-message"},[a("span",[e._v(e._s(e.message))])])],2),e._v(" "),a("div",{staticClass:"form-other",style:{width:e.otherWidth}},[e._t("other")],2),e._v(" "),a("div",{staticClass:"form-msg",style:{width:e.msgWidth}},[e.showHint?a("div",{staticClass:"hint lightGray"},[e._v("("+e._s(e.hint)+")")]):e._e(),e._v(" "),null!==e.message?a("div",{staticClass:"message"},[e._v(e._s(e.message))]):e._e()])])])],2)},staticRenderFns:[]};var js=a("C7Lr")(qs,Os,!1,function(e){a("L6rZ")},null,null).exports,Bs={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["formTags",{"invalid-input":e.validInput}]},[e.Options.length<1?a("span",{staticClass:"placeholder"},[e._v(e._s(e.placeholder))]):e._e(),e._v(" "),e._l(e.Options,function(t,o){return a("el-tag",{key:o,attrs:{size:e.size,closable:""},on:{close:function(a){return e.tagClose(t,o)}}},[e._v(e._s(t[e.Props.label]))])})],2)},staticRenderFns:[]};var zs=a("C7Lr")({name:"formTags",props:["size","options","placeholder","showProps","rule"],data:function(){return{prop:{val:"id",label:"name"},data:[]}},computed:{Options:{get:function(){return this.options?this.options:this.data},set:function(e){this.$emit("update:options",e)}},Props:function(){return this.showProps?this.showProps:this.prop},validInput:{get:function(){return!!this.rule&&!1===this.rule.valid}}},watch:{Options:{handler:function(e,t){var a=!0;null!==e&&0!==e.length&&e||null!==t&&0!==t.length&&t||(a=!1),a&&this.options&&this.rule&&this.$validate.validRule(this.rule,this.Options)},deep:!0}},methods:{tagClose:function(e,t){this.Options.splice(t,1),this.options&&this.rule&&this.$validate.validRule(this.rule,this.Options),this.$emit("tagClose",e)}}},Bs,!1,function(e){a("bd+5")},null,null).exports,Hs={name:"formInput",props:{value:[String,Number],type:String,placeholder:{type:String,default:"请选择时间"},format:{type:String,default:"YYYY-MM"},pickerOptions:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},rule:[Object,Array]},data:function(){return{pickerOptions1:{disabledDate:function(e){return e.getTime()<Date.now()-864e5}}}},computed:{useType:function(){if(this.type)return this.type;var e="date";switch(this.format){case"YYYY-MM-DD":e="date";break;case"YYYY-MM":e="month";break;case"YYYY":e="year";break;case"YYYY-MM-DD hh:mm:ss":e="datetime"}return e},inputValue:{get:function(){return this.value?this.$moment(this.value).format(this.format):null},set:function(e){e=this.$moment(e).format(this.format),"X"!==this.format&&"x"!==this.format||(e=parseInt(e)),this.$emit("input",e)}},validInput:{get:function(){return!!this.rule&&!1===this.rule.valid}}},methods:{blur:function(){this.rule&&this.validRule(this.inputValue)},change:function(e){this.validRule(e),this.$emit("change",e)},validRule:function(e){var t="";e&&"Invalid date"!==e&&(t=e),this.rule&&this.$validate.validRule(this.rule,t)}}},Gs={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["formDate",{"invalid-input":e.validInput}]},[a("el-date-picker",{attrs:{"picker-options":e.pickerOptions?e.pickerOptions1:"",disabled:e.disabled,type:e.useType,placeholder:e.placeholder,clearable:e.clearable},on:{change:e.change,blur:function(t){return e.blur()}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}})],1)},staticRenderFns:[]};var Ws=a("C7Lr")(Hs,Gs,!1,function(e){a("znSQ")},null,null).exports,Ks={name:"formInput",props:{value:[String,Number],min:Number,max:Number,type:String,size:String,step:{type:Number,default:1},placeholder:{type:String,default:"请输入"},rows:{type:Number,default:3},autosize:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},mustlower:{type:Boolean,default:!1},suffixIcon:String,clearable:{type:Boolean,default:!1},rule:[Array,Object],showRule:{type:Boolean,default:void 0},search:String},data:function(){return{}},computed:{inputValue:{get:function(){return this.value},set:function(e){this.ruleVal(),this.change(e),this.mustlower&&(e=e.toLowerCase()),"number"===this.type&&(e=parseFloat(e)),this.$emit("input",e)}},validInput:{get:function(){return!1!==this.showRule&&(!!this.rule&&!1===this.rule.valid)}}},methods:{clear:function(){this.$emit("clear")},blur:function(){this.ruleVal(),this.$emit("blur")},focus:function(){this.$emit("focus")},handleIconClick:function(){this.$emit("iconClick",this.inputValue)},change:function(e){this.$emit("change",e)},searchClick:function(){this.$emit("search")},ruleVal:function(){var e=this;setTimeout(function(){e.rule&&e.$validate.validRule(e.rule,e.inputValue)})}}},Xs={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"formInput"},[a("el-input",{class:[{"invalid-input":e.validInput}],attrs:{clearable:e.clearable,disabled:e.disabled,readonly:e.readonly,type:e.type,size:"size",min:e.min,max:e.max,placeholder:e.placeholder,rows:e.rows,step:e.step,autosize:e.autosize},on:{blur:function(t){return e.blur()},focus:function(t){return e.focus()},clear:function(t){return e.clear()}},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleIconClick()}},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}},[a("i",{class:["el-input__icon",e.suffixIcon],attrs:{slot:"suffix"},on:{click:e.handleIconClick},slot:"suffix"})]),e._v(" "),e.search?a("el-button",{staticClass:"searchBtn",attrs:{disabled:e.disabled,size:"mini",type:"primary"},on:{click:e.searchClick}},[e._v(e._s(e.search))]):e._e(),e._v(" "),e._t("default")],2)},staticRenderFns:[]};var Ys=a("C7Lr")(Ks,Xs,!1,function(e){a("HwCO")},null,null).exports,Qs={name:"formRadio",props:{options:Array,type:String,value:[String,Boolean,Number],props:{type:Object,default:function(){return{label:"label",value:"value"}}},button:{type:Boolean,default:!1},size:{type:String,default:"mini"},defaultChecked:{type:Boolean,default:!1}},data:function(){return{whether:[{label:"是",value:"1"},{label:"否",value:"0"}],enabled:[{label:"启用",value:"1"},{label:"停用",value:"0"}],visible:[{label:"显示",value:"1"},{label:"隐藏",value:"0"}],gender:[{label:"男",value:"1"},{label:"女",value:"0"}],marriage:[{label:"已婚",value:"1"},{label:"未婚",value:"0"}]}},mounted:function(){},computed:{data:function(){return this.options?this.options:this[this.type]?this[this.type]:[]},radioValue:{get:function(){var e=this.value;return!0===e||"true"===e?"1":!1===e||"false"===e?"0":e?e.toString():void(this.defaultChecked&&this.$emit("input",this.data[0][this.props.value]))},set:function(e){this.$emit("input",e)}}},methods:{change:function(e){this.$emit("change",e)}}},Js={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-radio-group",{class:["formRadio",e.size,{button:e.button}],attrs:{size:e.size},on:{change:e.change},model:{value:e.radioValue,callback:function(t){e.radioValue=t},expression:"radioValue"}},[e.button?a("div",e._l(e.data,function(t){return a("el-radio-button",{key:t[e.props.value],attrs:{label:t[e.props.value],clearable:""}},[e._v("\n             "+e._s(t[e.props.label])+"\n         ")])}),1):a("div",{staticClass:"group"},e._l(e.data,function(t){return a("el-radio",{key:t[e.props.value],attrs:{label:t[e.props.value],clearable:""}},[e._v(e._s(t[e.props.label]))])}),1)])},staticRenderFns:[]};var Zs=a("C7Lr")(Qs,Js,!1,function(e){a("pSQe")},null,null).exports,en={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-input-number",{class:["formInputNumber",{"invalid-input":e.validInput}],attrs:{size:e.size,label:e.label,max:e.max,min:e.min,disabled:e.disabled},on:{change:e.change},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}})},staticRenderFns:[]};var tn=a("C7Lr")({name:"formNumber",props:["value","size","label","disabled","max","min","clearable","rule"],data:function(){return{}},computed:{inputValue:{get:function(){return this.value},set:function(e){this.$emit("input",e)}},isDisabled:{get:function(){return!(!this.disabled||1==this.disabled)},set:function(e){e||1==e?this.$emit("update:disabled",!1):this.$emit("update:disabled",!0)}},validInput:{get:function(){return!!this.rule&&!1===this.rule.valid}}},methods:{change:function(e){this.rule&&this.$validate.validRule(this.rule,e)}}},en,!1,function(e){a("UYrV")},null,null).exports,an={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"formSwitch"},[a("el-switch",{attrs:{"active-text":e.activeText,"inactive-text":e.text},on:{change:e.change},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}})],1)},staticRenderFns:[]};var on=a("C7Lr")({name:"formSwitch",props:["value","activeText","text"],data:function(){return{}},computed:{inputValue:{get:function(){return!0===this.value||1===this.value||"1"===this.value},set:function(e){this.$emit("input",e)}}},methods:{change:function(e){this.$emit("change",e)}}},an,!1,function(e){a("OXsB")},null,null).exports,rn={name:"formSelect",props:{codeKey:String,value:[String,Array,Number,Boolean],label:String,placeholder:String,type:String,rule:Object,options:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},defaultChecked:{type:Boolean,default:!1},filterable:{type:Boolean,default:!0},clearable:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},createable:{type:Boolean,default:!1},pullLoad:{type:Boolean,default:!1},props:{type:Object,default:function(){return{label:"name",value:"id"}}}},data:function(){return{data:[],pass:[{name:"同意",id:"1"},{name:"不同意",id:"2"}],whether:[{name:"是",id:"1"},{name:"否",id:"2"}]}},computed:{inputValue:{get:function(){if(this.initDefaultChecked(),this.multiple){if(!this.value)return[];if("string"===this.$getType(this.value))return~this.value.indexOf(",")?this.value.split(","):[this.value]}return this.createable&&null===this.value?"":this.value},set:function(e){var t=this;if(this.multiple||this.createable)this.$emit("input",e);else{var a=this.data.filter(function(a){return e===a[t.showProps.value]});a=a.length>0?a[0]:{},this.$emit("input",a[this.showProps.value]),this.$emit("update:label",a[this.showProps.label])}}},validInput:{get:function(){return!!this.rule&&!1===this.rule.valid}},codeData:function(){return this.$store.getters.codeData},tagData:function(){return this.$store.getters.tagData},showProps:function(){var e=this.props;return this.codeKey&&(e={label:"name",value:"code"}),e}},watch:{options:{handler:function(e){this.data=this.$deepClone(e)},deep:!0},type:function(){this.data=this[this.type]}},mounted:function(){var e=this;if(this.codeKey)return this.tagData[this.codeKey]?void(this.data=this.tagData[this.codeKey]):void(this.data=this.codeData[this.codeKey].sysCodeItemModels.map(function(t){var a=e.$deepClone(t);return a.name="["+a.code+"] "+a.name,a}).sort(function(e,t){return e.ordinal-t.ordinal}));this[this.type]?this.data=this[this.type]:this.options&&(this.data=this.$deepClone(this.options))},methods:{initDefaultChecked:function(){var e=this;setTimeout(function(){if(e.data.length>0&&e.defaultChecked){("array"===e.$getType(e.value)?e.value.length>0:void 0!==e.value&&""!==e.value&&null!==e.value)||(e.multiple?(e.$emit("input",[e.data[0][e.showProps.value]]),e.change([e.data[0][e.showProps.value]])):(e.$emit("input",e.data[0][e.showProps.value]),e.change(e.data[0][e.showProps.value])))}},10)},change:function(e){var t=this;this.checkRule(e);var a=this.data.filter(function(a){return t.multiple?~e.indexOf(a[t.showProps.value]):e===a[t.showProps.value]});this.multiple||(a=a[0]?a[0]:{}),this.$emit("change",e,a)},blur:function(){this.checkRule(this.inputValue)},onVisibleChange:function(e){this.$emit("visibleChange",e)},checkRule:function(e){this.rule&&this.$validate.validRule(this.rule,e)}}},sn={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["formSelect",{"invalid-input":e.validInput}]},[a("el-select",{ref:"formSelect",attrs:{showKey:e.showProps,disabled:e.disabled,placeholder:e.placeholder,multiple:e.multiple,filterable:e.filterable,clearable:e.clearable,"allow-create":e.createable,"default-first-option":e.createable},on:{change:e.change,"visible-change":e.onVisibleChange,blur:e.blur},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}},[e._t("option",[e._l(e.data,function(t,o){return a("el-option",{directives:[{name:"show",rawName:"v-show",value:!1!==t.show,expression:"item.show!==false"}],key:o,attrs:{label:t[e.showProps.label],disabled:t.disabled,value:t[e.showProps.value]}},[e._t("default",[a("span",{staticClass:"label left"},[e._v(e._s(t[e.showProps.label]))]),e._v(" "),e._t("other",null,{row:t})],{row:t})],2)}),e._v(" "),e._t("extraOption")])],2),e._v(" "),e._t("right")],2)},staticRenderFns:[]};var nn=a("C7Lr")(rn,sn,!1,function(e){a("Z9kk")},null,null).exports,ln={name:"formDropDown",props:{icon:String,title:String,type:{type:String,default:""},trigger:{type:String,default:"click"},placement:{type:String,default:"bottom-end"},options:{type:Array,default:function(){return[]}},propsData:Object,props:{type:Object,default:function(){return{label:"name",val:"id"}}}},data:function(){return{}},computed:{},watch:{},created:function(){},mounted:function(){},methods:{handleCommand:function(e){if(this.propsData){var t=Na()(e,this.propsData);this.$emit("click",t)}else this.$emit("click",e)}}},cn={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"formDropDown"},[e._t("default"),e._v(" "),a("el-dropdown",{attrs:{trigger:e.trigger,placement:e.placement,size:"medium"},on:{command:e.handleCommand}},[a("span",{staticClass:"el-dropdown-link",on:{click:function(e){e.stopPropagation()}}},[e._t("link",[e._t("left"),e._v(" "),a("el-button",{class:["iconfont",e.icon],attrs:{size:"mini",type:e.type}},[e._v("\n                    "+e._s(e.title)+"\n                    "),e._t("right",[a("i",{staticClass:"el-icon-arrow-down el-icon--right"})])],2)])],2),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},[e._t("dropdown",e._l(e.options,function(t,o){return a("el-dropdown-item",{key:o,class:[t.class,t.icon,"iconfont",{last:o===e.options.length-1}],attrs:{command:t}},[a("span",{staticClass:"label"},[e._v(e._s(t[e.props.label]))]),e._v(" "),t.children&&t.children.length>0?a("span",{staticClass:"el-icon-caret-right"}):e._e(),e._v(" "),t.children&&t.children.length>0?a("ul",{staticClass:"moreList"},e._l(t.children,function(t,o){return a("li",{key:o,on:{click:function(a){return a.stopPropagation(),e.handleCommand(t)}}},[a("span",{class:t.icon}),e._v(" "),a("span",{staticClass:"label"},[e._v(e._s(t[e.props.label]))])])}),0):e._e()])}))],2)],1)],2)},staticRenderFns:[]};var dn=a("C7Lr")(ln,cn,!1,function(e){a("fXvi")},null,null).exports,un={name:"formCheckbox",props:{value:[String,Array],className:String,options:{type:Array,default:function(){return[]}},border:{type:Boolean,default:!1},radio:{type:Boolean,default:!1},props:{type:Object,default:function(){return{value:"id",label:"name",hint:"hint"}}}},data:function(){return{}},computed:{data:function(){return this.options.filter(function(e){return!1!==e.show})},inputVal:{get:function(){return"string"===this.$getType(this.value)?this.value.split(","):this.value},set:function(e){this.$emit("input",e)}}},mounted:function(){},methods:{change:function(e,t){var a=this,o=new Array;e.forEach(function(e){var t=a.options.filter(function(t){return t[a.props.value]===e});o.push.apply(o,j()(t))}),this.$emit("change",e,o)}}},hn={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"formCheckbox"},[a("el-checkbox-group",{attrs:{size:"small"},on:{change:e.change},model:{value:e.inputVal,callback:function(t){e.inputVal=t},expression:"inputVal"}},e._l(e.options,function(t,o){return a("el-checkbox",{key:o,class:e.className,attrs:{label:t[e.props.value],border:e.border,disabled:t.disabled}},[e._v("\n            "+e._s(t[e.props.label])+"\n            "),a("span",{staticClass:"hint"},[e._v(e._s(t.hint))])])}),1)],1)},staticRenderFns:[]};var mn=a("C7Lr")(un,hn,!1,function(e){a("+1x3")},null,null).exports,fn={render:function(){var e=this,t=e.$createElement;return(e._self._c||t)("el-checkbox",{staticClass:"formCheckedbox",on:{change:e.change},model:{value:e.inputVal,callback:function(t){e.inputVal=t},expression:"inputVal"}},[e._t("default",[e._v(e._s(e.label))])],2)},staticRenderFns:[]};var pn=a("C7Lr")({name:"formCheckbox",props:["value","label"],data:function(){return{}},computed:{inputVal:{get:function(){return this.value},set:function(e){this.$emit("input",e)}}},watch:{},mounted:function(){},methods:{change:function(e){this.$emit("change",e)}}},fn,!1,function(e){a("tkuS")},null,null).exports,gn={name:"formInput",props:["start","end","type","format","clearable","rule","disabled"],data:function(){return{}},computed:{Format:function(){return this.format?this.format:"YYYY"},inputValue:{get:function(){var e=new Array;return this.start&&(e.push(this.start),e.push(this.end)),"X"!==this.Format&&"x"!==this.Format||(e[0]=parseInt(e[0]),e[1]=parseInt(e[1])),e},set:function(e){var t="",a="";null!==e&&(t=this.$moment(e[0]).format(this.Format),a=this.$moment(e[1]).format(this.Format),"X"!==this.Format&&"x"!==this.Format||(t=parseInt(t),a=parseInt(a))),this.$emit("update:start",t),this.$emit("update:end",a)}},validInput:{get:function(){return!!this.rule&&!1===this.rule.valid}}},methods:{blur:function(){this.rule&&this.validRule(this.inputValue)},change:function(e){this.validRule(e),this.$emit("change",e)},validRule:function(e){var t="";e&&"Invalid date"!==e&&(t=e),this.rule&&this.$validate.validRule(this.rule,t)}}},vn={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["formDateRange",{"invalid-input":e.validInput}]},[a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",disabled:e.disabled},model:{value:e.inputValue,callback:function(t){e.inputValue=t},expression:"inputValue"}})],1)},staticRenderFns:[]};var bn=a("C7Lr")(gn,vn,!1,function(e){a("MJt7")},null,null).exports,Cn={name:"formBreadcrumb",props:{options:{type:Array,default:function(){return[]}}},data:function(){return{}},computed:{},created:function(){}},yn={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"form-breadcrumb-wrapper"},e._l(e.options,function(t,o){return a("span",{key:o},[a("span",{class:[t.titleClass]},[e._v(e._s(t.title))]),e._v(" "),a("span",{staticClass:"text"},[e._v(e._s(t.text)+" ")])])}),0)},staticRenderFns:[]};var wn=a("C7Lr")(Cn,yn,!1,function(e){a("+3VY")},null,null).exports,xn={props:["value","isMultiple","placeholder","url","disabled","options","refresh","addOptions","searchInit","analyticData","rule"],data:function(){return{searchTxt:"",pageIndex:1,pageSize:10,totalCount:0,data:[],selectLoading:!1,isOnloadMore:!1}},computed:{IsMultiple:function(){return void 0!==this.isMultiple&&!1!==this.isMultiple},inputVal:{get:function(){return this.value},set:function(e){this.$emit("input",e)}},validInput:{get:function(){return!!this.rule&&!1===this.rule.valid}}},mounted:function(){this.options?this.data=this.options:this.remoteMethod()},watch:{refresh:function(e){e&&this.remoteMethod()}},methods:{getRemoteData:function(e,t){var a=this,o={name:e,paginationVO:{pageIndex:this.pageIndex,pageSize:this.pageSize}};this.searchInot&&(o=this.searchInit({text:e,pageIndex:this.pageIndex,pageSize:this.pageSize}));var r={url:this.url,data:o};this.$ajaxPost(r,function(e){a.selectLoading=!1,a.isOnloadMore=!1,200===e.code?t(e.data):a.$message.error("数据获取失败")})},remoteMethod:function(e){var t=this;e=e||"",this.pageIndex=1,this.getRemoteData(e,function(e){e=t.analyticData?t.analyticData(e):e,t.totalCount=e.totalElements,t.totalCount=e.paginationVO.countNumber,t.data=e.content,t.checkAddOptions()})},loadMore:function(){var e=this;this.pageIndex*this.pageSize<this.totalCount&&(this.isOnloadMore=!0,this.pageIndex++,this.getRemoteData(this.searchTxt,function(t){t=e.analyticData?e.analyticData(t):t,e.checkAddOptions(t.content)}))},checkAddOptions:function(e){var t=this;e?e.forEach(function(a){var o=!1;t.data.forEach(function(r,s){r.id===a.id&&(t.$set(t.data,s,a),e.readOnly&&t.$set(t.data[s],"show",!1),o=!0)}),o||t.data.push(a)}):this.addOptions&&this.addOptions.forEach(function(e){var a=!1;t.data.forEach(function(t){e.id===t.id&&(a=!0)}),a||(e.show=!1,t.data.push(e))})},change:function(e){var t=this;this.checkRule(e);var a=new Array;this.isMultiple?e.forEach(function(e){t.data.forEach(function(t){e===t.id&&a.push(t)})}):a=this.data.filter(function(t){return t.id===e})[0],this.$emit("change",e,a,this.data)},checkRule:function(e){this.rule&&this.$validate.validRule(this.rule,e)}}},Dn={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["formRemoteSelect",{"invalid-input":e.validInput}]},[a("el-select",{attrs:{multiple:e.isMultiple,filterable:"",remote:"","reserve-keyword":"",placeholder:e.placeholder,"remote-method":e.remoteMethod},on:{change:e.change},model:{value:e.inputVal,callback:function(t){e.inputVal=t},expression:"inputVal"}},[e._l(e.data,function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.id}},[e._t("itemContent",null,{row:t})],2)}),e._v(" "),e.pageIndex*e.pageSize<e.totalCount?a("li",{staticClass:"loadmore",on:{click:function(t){return e.loadMore()}}},[a("a",[e._v(e._s(e.isOnloadMore?"正在加载...":"加载更多"))])]):e._e()],2),e._v(" "),e._t("default")],2)},staticRenderFns:[]};var In=a("C7Lr")(xn,Dn,!1,function(e){a("tpAW")},null,null).exports,$n={name:"formSelectInput",props:{label:[String,Number],value:[String,Number],disabled:{type:Boolean,default:!1},options:Array,codeKey:String,placeholder:String,rule:Object,props:{type:Object,default:function(){return{value:"code",label:"name",children:"children",icon:"iconfont icon-biaodan blue",childrenIcon:"iconfont icon-biaodan blue"}}}},data:function(){return{dialogVisible:!1,treeId:null,treeName:null,checkedData:null,data:[],treeData:[]}},computed:{name:function(){var e=this;if(this.value&&this.treeData.length>0){var t=this.data.filter(function(t){return t.code===e.value});if(t.length>0)return t[0].name}return this.label?this.label:""},inputVal:{get:function(){return this.label?this.label:this.name},set:function(e){this.$emit("input",label)}},codeData:function(){return this.$store.state.codeData},tagData:function(){return this.$store.getters.tagData}},watch:{options:{handler:function(){this.treeData=this.$deepClone(this.options)}}},created:function(){var e=this;if(this.codeKey){if(this.tagData[this.codeKey]){this.treeData=this.tagData[this.codeKey];var t=new Array;return this.initData(this.treeData,t),void(this.data=t)}var a=[this.codeKey];"DM123"===this.codeKey&&a.push.apply(a,["1","2"]),this.data=this.codeData[this.codeKey].sysCodeItemModels.map(function(t){var a=e.$deepClone(t);return a.name="["+a.code+"] "+a.name,a}).sort(function(e,t){return e.ordinal-t.ordinal});var o={},r=[];for(var s in this.data.forEach(function(e){~a.indexOf(e.parentCode)?r.push(e):(o[e.parentCode]||(o[e.parentCode]=[]),o[e.parentCode].push(e))}),o)this.initTreeData(r,s,o);this.treeData=r}this.options&&(this.treeData=this.$deepClone(this.options))},methods:{initData:function(e,t){var a=this;e.forEach(function(e){t.push(e),e.children&&e.children.length>0&&a.initData(e.children,t)})},initTreeData:function(e,t,a){var o=this;e.forEach(function(e){var r;e.children&&e.children.length>0?o.initTreeData(e.children,t,a):(e.children=[],e.code===t&&((r=e.children).push.apply(r,j()(a[t])),delete a[t]))})},search:function(){this.treeId=this.value,this.dialogVisible=!0},nodeClick:function(e){this.treeId=e[this.props.value],this.treeName=e[this.props.label],this.checkedData=e},blur:function(){this.$emit("blur")},save:function(){this.$refs.formInput.ruleVal(),this.$emit("update:label",this.treeName),this.$emit("input",this.treeId),this.$emit("save",this.treeId,this.checkedData),this.dialogVisible=!1},clear:function(){this.treeId=null,this.treeName=null,this.checkedData=null}}},kn={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"formSelectInput"},[a("formInput",{ref:"formInput",attrs:{disabled:e.disabled,readonly:"",placeholder:e.placeholder,search:"选择",rule:e.rule},on:{search:e.search,blur:e.blur},model:{value:e.inputVal,callback:function(t){e.inputVal=t},expression:"inputVal"}}),e._v(" "),a("commonDialog",{staticClass:"filter",attrs:{title:e.placeholder?e.placeholder:"代码集选择",appendBody:"",visible:e.dialogVisible,save:e.save,width:"600px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[e.dialogVisible?a("commonTree",{attrs:{filter:"",props:e.props,options:e.treeData},on:{nodeClick:e.nodeClick},model:{value:e.treeId,callback:function(t){e.treeId=t},expression:"treeId"}}):e._e(),e._v(" "),a("el-button",{attrs:{slot:"more",size:"mini",type:"primary"},on:{click:function(t){return e.clear()}},slot:"more"},[e._v("清空")])],1)],1)},staticRenderFns:[]};var Tn=a("C7Lr")($n,kn,!1,function(e){a("ntLg")},null,null).exports,_n={name:"commonTree",props:{rule:Object,options:Array,url:String,nodeUrl:String,showTreeBottom:{type:Boolean,default:!1},openAll:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},drag:{type:Boolean,default:!1},selectedDisabled:{type:Boolean,default:!1},selectable:{type:Boolean,default:!1},checkStrictly:{type:Boolean,default:!1},filter:{type:Boolean,default:!1},autoHeight:{type:Boolean,default:!1},value:{type:[Array,String,Number],default:function(){return[]}},search:{type:Object,default:function(){return{}}},props:{type:Object,default:function(){return{value:"id",label:"treeName",children:"subTreeNode",hasChildren:"hasChild",isLeaf:"leaf",isFalse:"isFalse"}}},expandNode:{type:Boolean,default:!1},defaultChecked:{type:Boolean,default:!1},loading:{type:Boolean,default:!0},render:Function,filterStr:String,height:[Number,String],returnForData:Function,returnForNodeData:Function,loadForNode:Function,customLoadNode:Function},data:function(){return{id:"tree"+(this.$moment().format("x")+parseInt(Math.random()*(1e8+1))),filterText:"",treeData:[],lazyData:[],setDisabledData:[],checkedData:[],opentree:!0,offsetBottom:0,offsetTop:0,treeLoading:!1,firstNode:null,firstCallback:null,isFirst:!0}},computed:{treeHeight:function(){if(this.height)return this.height;if(this.autoHeight){var e=0;return h()(".container-footer-wrapper").height()&&(e+=h()(".container-footer-wrapper").height()),h()(".container-pagination-wrapper").height()&&(e+=h()(".container-pagination-wrapper").height()),h()("#"+this.id+" >.treeBottom").height()&&(e+=h()("#"+this.id+" >.treeBottom").height()),"calc(100vh - "+this.offsetTop+"px - "+this.offsetBottom+"px - "+e+"px)"}},validInput:{get:function(){return!!this.rule&&!1===this.rule.valid}}},watch:{filterStr:function(e){this.filterText=e},filterText:function(e){this.$refs.tree.filter(e),this.$emit("update:filterStr",e)},options:{handler:function(){this.treeData=this.$deepClone(this.options),this.lazy||(this.initData(),this.initDefaultChecked())},deep:!0},search:{handler:function(){this.lazy||this.loadTreeData()},deep:!0},value:function(e,t){this.setChecked(!1)}},created:function(){if(this.treeLoading=this.loading,this.options)return this.treeData=this.$deepClone(this.options),this.lazy||(this.initData(),this.initDefaultChecked()),void(this.treeLoading=!1);this.url&&!this.lazy&&this.loadTreeData()},methods:{initDefaultChecked:function(e){var t=this;if(e||(e=this.treeData),e.length>0&&this.defaultChecked){var a=!1;this.value&&(a=!0),"array"===this.$getType(this.value)&&(a=this.value.length>0),a?setTimeout(function(){var e=t.$refs.tree.getNode(t.value);return t.selectable?t.checkClick(e.data):t.nodeClick(e.data)},10):this.initSetChecked(e)}setTimeout(function(){t.initCheckedData(),t.setChecked(t.isFirst),t.offsetTop=t.$refs.mainTree.getBoundingClientRect().top,t.isFirst&&(t.isFirst=!t.isFirst)},100)},initSetChecked:function(e){for(var t=0;t<e.length;t++){if(!e[t].isFalse)return this.selectable?this.checkClick(e[t]):this.nodeClick(e[t]);if(e[t][this.props.children]&&e[t][this.props.children].length>0)return this.initSetChecked(e[t][this.props.children])}},setChecked:function(e){var t=this;setTimeout(function(){t.lazy?t.selectable?t.multiple?t.$refs.tree.setCheckedKeys(t.value?t.value:[]):t.$refs.tree.setCheckedKeys([t.value]):t.$refs.tree.setCurrentKey(t.value):t.selectable?t.$refs.tree.setCheckedKeys(t.value):t.$refs.tree.setCurrentKey(t.value),!1!==e&&t.initScroll(),t.$emit("renderAfter",t.$refs.tree)})},initScroll:function(){var e=this;setTimeout(function(){if(e.value&&(!e.multiple||0!==e.value.length)){var t=h()("#"+e.id+" >.main-tree").offset().top,a=h()("#"+e.id+" >.main-tree").find(".is-current");if(e.selectable&&(a=h()("#"+e.id+" >.main-tree").find(".is-checked")),0!==a.length){var o=a.offset().top-t;h()("#"+e.id+" >.main-tree").animate({scrollTop:o},o>500?500:o)}}},100)},loadTreeData:function(){var e=this,t={data:this.search,url:this.url};this.treeLoading=!0,this.$ajaxPost(t,!1,function(t){t.success||t.data||"200"===t.code?(e.returnForData?e.treeData=e.returnForData(t.data):t.data instanceof Array?e.treeData=t.data:e.treeData=[t.data],e.initData(e.treeData),e.initDefaultChecked(),e.treeLoading=!1):e.$showMsg("error",t.errMsg)})},loadNode:function(e,t){var a=this;if(this.treeData&&this.treeData.length>0)return this.initDefaultChecked(this.treeData),void t(this.treeData);if(0===e.level&&(this.treeData=new Array,this.firstNode=e,this.firstCallback=t),this.customLoadNode)this.customLoadNode(e,t);else{if(e.level>0){var o=e.data[this.props.value],r=this.lazyData.filter(function(e){return e[a.props.value]===o});if(r.length>0)return void t(r[0][this.props.children])}this.loadForNode&&this.loadForNode(e,function(){a.treeLoading=!0;e.data[a.props.value];setTimeout(function(){var o={data:a.nodeUrl.indexOf("parentId")>-1?{}:a.search,url:a.nodeUrl};a.$ajaxPost(o,!1,function(o){if(200===o.code){var r=o.data;a.returnForNodeData?r=a.returnForNodeData(o.data,e):0===e.level?"object"===a.$getType(r)&&(r=[r]):1===e.level&&"object"===a.$getType(r)&&(r=r[a.props.children]),0===e.level&&(a.lazyData=new Array,1===r.length&&(a.value&&0!==a.value.length&&a.value!==r[0][a.props.value]||(a.checkedData=a.checkedData.length>0?a.checkedData:[r[0][a.props.value]]))),a.initData(r),a.initDefaultChecked(r),a.treeLoading=!1,t(r)}else a.$showMsg("error",o.errMsg)})},300)})}},initData:function(e,t){var a=this;e||(e=this.treeData),e||(e=new Array);var o=this.props.children;e.forEach(function(e,r){if(t&&a.$set(e,"parentData",t),a.selectable&&a.selectedDisabled){var s=!1;a.$set(e,"disabled",!1),a.setDisabledData.forEach(function(t){e[a.props.value]&&e[a.props.value]==t&&(s=!0)}),s&&a.$set(e,"disabled",!0)}if(a.lazy){a.props.isLeaf&&a.$set(e,a.props.isLeaf,!1),"0"!==e[a.props.hasChildren]&&!1!==e[a.props.hasChildren]||a.$set(e,a.props.isLeaf,!0);var n=!0;if(a.multiple&&a.value)0===a.value.filter(function(t){return e[a.props.value]===t}).length&&(n=!1);else e[a.props.value]!==a.value&&(n=!1);n&&a.initCheckedDataForLazy(e)}if(e[o]&&e[o].length>0){var i=new Object;for(var l in e)i[l]=e[l];a.initData(e[o],i)}})},initCheckedDataForLazy:function(e,t){this.lazy&&e&&(t&&(this.lazyData.push(e),this.checkedData.push(e[this.props.value])),this.setDisabledData.push(e[this.props.value]),e.parentData&&null!==e.parentData&&this.initCheckedDataForLazy(e.parentData,!0))},initCheckedData:function(){this.lazy||(this.multiple?this.checkedData=this.value:this.checkedData=this.value?[this.value]:[])},getCheckedData:function(e){var t=this,a=new Array,o=new Array;return e.forEach(function(e){var r=!0;t.props.isFalse&&!1===e[t.props.isFalse]&&"1"===e[t.props.isFalse]&&(r=!1),r&&(a.push(e),o.push(e[t.props.value]),e.children&&e.children.length>0&&t.getCheckedData(e.children))}),{checkedNodes:a,checkedKeys:o}},checkClick:function(e,t){if(this.multiple){this.rule&&this.$validate.validRule(this.rule,t.checkedKeys);var a=this.getCheckedData(t.checkedNodes);this.$emit("checkedChange",e,a.checkedKeys,a.checkedNodes)}else this.rule&&this.$validate.validRule(this.rule,[e[this.props.value]]),this.setChecked(!1),this.$emit("checkedChange",e,e[this.props.value],e)},nodeClick:function(e,t){this.$emit("nodeClick",e)},filterNode:function(e,t){return!e||-1!==t[this.props.label].indexOf(e)},renderContent:function(e,t){var a=t.node,o=t.data,r=t.store;if(this.render)return this.render(e,{node:a,data:o,store:r});this.iconName;var s={iconfont:!0,blue:!0,"icon-homeclose":!1};switch(a.level){case 1:s=["iconfont",this.props.icon?this.props.icon:"icon-homeclose blue"];break;default:s=["iconfont",this.props.childrenIcon?this.props.childrenIcon:"icon-homeopen blue"]}return e("div",{class:"commonTreeNode",attrs:{title:a.label}},[e("i",{class:s},[" "]),e("span",{class:"nodeName"},[" ",a.label])])},openTree:function(e,t,a){this.opentree=!0},closeTree:function(e,t,a){this.opentree=!1},dropCheck:function(e,t,a){return"inner"!==a},dropSuccess:function(e,t,a,o){this.treeData.forEach(function(e,t){e.sortNumber=++t});var r={url:this.dragUrl,data:this.treeData};this.$ajaxPost(r)},removeNode:function(e){this.$refs.tree.remove(e)},getNode:function(e){return this.$refs.tree.getNode(e)}}},Nn={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["common-tree-wrapper",{"invalid-input":e.validInput}],attrs:{id:e.id}},[e._t("default"),e._v(" "),e.treeLoading?a("pageLoading"):e._e(),e._v(" "),e.filter?e._t("filter",[a("div",[a("formInput",{staticClass:"filterInput radius",attrs:{suffixIcon:"el-icon-search",placeholder:"请输入搜索关键字"},model:{value:e.filterText,callback:function(t){e.filterText=t},expression:"filterText"}})],1)]):e._e(),e._v(" "),a("div",{ref:"mainTree",staticClass:"main-tree",style:{height:e.treeHeight}},[a("el-tree",{ref:"tree",staticClass:"tree",attrs:{"empty-text":"",lazy:e.lazy,props:e.props,data:e.treeData,load:e.loadNode,draggable:e.drag,"node-key":e.props.value,"allow-drop":e.dropCheck,"show-checkbox":e.selectable,"default-expand-all":e.openAll,"highlight-current":!e.selectable,"render-content":e.renderContent,"filter-node-method":e.filterNode,"default-expanded-keys":e.checkedData,"check-strictly":e.checkStrictly,"expand-on-click-node":e.expandNode},on:{check:e.checkClick,"node-click":e.nodeClick,"node-expand":e.openTree,"node-drop":e.dropSuccess,"node-collapse":e.closeTree}})],1),e._v(" "),e.showTreeBottom?a("div",{staticClass:"treeBottom"},[e._t("bottom")],2):e._e()],2)},staticRenderFns:[]};var Sn=a("C7Lr")(_n,Nn,!1,function(e){a("2HpU")},null,null).exports,Rn={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonSearch",{staticClass:"customSearch-wrapper"},[a("formInput",{staticClass:"radius small",attrs:{placeholder:"搜索...",suffixIcon:"el-icon-search"}}),e._v(" "),a("formInputSelect",{staticClass:"mini",attrs:{useInput:"",placeholder:"查询..."}}),e._v(" "),a("formSelect",{staticClass:"mini",attrs:{placeholder:"表单..."}}),e._v(" "),a("formSelect",{staticClass:"mini",attrs:{placeholder:"名册..."}}),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"}},[e._v("修改")]),e._v(" "),a("el-button",{attrs:{size:"mini",type:"primary"}},[e._v("排序")]),e._v(" "),e._t("default")],2)},staticRenderFns:[]};var Mn=a("C7Lr")({props:{},data:function(){return{}},computed:{},methods:{}},Rn,!1,function(e){a("jOrA")},null,null).exports,Fn={name:"departDialog",props:{label:String,value:[String,Array],rowData:[Object,Array],placeholder:{type:String,default:"请选择"},disabled:{type:Boolean,default:!1},useInput:{type:Boolean,default:!1},selectable:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},visible:{type:Boolean,default:!1},rule:Object},data:function(){return{inputVal:"",treeName:"",dialogVisible:!1,searchStr:null,checkedVal:null,checkedData:null,searchData:{organizationId:"",dataOrganizationId:""},treeProps:{value:"id",label:"name",children:"subTreeNode",isLeaf:"leaf",hasChildren:"hasChildren"},treeData:[],nodeUrl:this.$baseUrl+"organization/lstTreeNode"}},computed:{selectedCount:function(){return null===this.checkedVal?0:"string"==typeof this.checkedVal&&""!==this.checkedVal?1:this.checkedVal.length}},watch:{label:function(e){e&&(this.inputVal=this.label,this.treeName=this.label)}},mounted:function(){this.inputVal=this.label,this.treeName=this.label},methods:{searchClick:function(e){this.multiple?this.checkedVal=this.value?this.value.split(","):[]:this.checkedVal=this.value,this.searchData.organizationId=this.value,this.searchStr=e?this.inputVal:"",this.treeData=new Array,e||(this.dialogVisible=!0)},search:function(e){var t=this;if(e||null!==!this.searchStr){var a={data:{name:this.searchStr},url:this.$baseUrl+"organization/findOrganizationByName?"};this.$ajaxPost(a,!0,function(a){if(200===a.code){var o=a.data.map(function(e){return e[t.treeProps.isLeaf]=!0,e});t.treeData=o,t.checkedVal=t.value,e&&e()}else t.$showMsg("error",a.message)})}else{var o=this.$refs.commonTree;o.loadNode(o.firstNode,o.firstCallback)}},blur:function(){var e=this;this.useInput&&(this.inputVal!==this.treeName&&(this.checkedData=null,this.checkedVal=null,this.save()),setTimeout(function(){e.searchClick(!0),e.search(function(){e.treeData.length>0?e.dialogVisible=!0:(e.checkedData=null,e.checkedVal=null,e.save())})},10))},loadForNode:function(e,t){e.level>0?this.nodeUrl=this.$baseUrl+"organization/findOrganizationByParentId?parentId="+e.data.id:this.nodeUrl=this.$baseUrl+"organization/lstTreeNode",t()},nodeClick:function(e){this.selectable||(this.checkedVal=e[this.treeProps.value],this.checkedData=e)},checkedChange:function(e,t,a){this.checkedVal=t,this.multiple?this.checkedData=a:this.checkedData=e},save:function(){var e=this;this.checkedData&&(this.multiple?this.inputVal=this.checkedData.map(function(t){return t[e.treeProps.label]}).join(","):this.inputVal=this.checkedData[this.treeProps.label]),this.rule&&this.$validate.validRule(this.rule,this.inputVal),this.$emit("input",this.checkedVal),this.$emit("update:label",this.inputVal),this.$emit("save",this.checkedVal,this.checkedData),setTimeout(function(){var t=e.$parent.hint.replace("原：","");t===e.inputVal||!t||~e.hint.indexOf("undefined")||~e.hint.indexOf("null")?e.$parent.showHint=!1:e.$parent.showHint=!0},100),this.dialogVisible=!1},clear:function(){this.checkedVal=new Array,this.checkedData=new Array,this.$refs.commonTree.lazyData=new Array}}},Pn={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"department-dialog"},[a("formInput",{attrs:{readonly:!e.useInput,placeholder:e.placeholder,search:"选择",rule:e.rule},on:{search:e.searchClick,blur:e.blur},model:{value:e.inputVal,callback:function(t){e.inputVal=t},expression:"inputVal"}}),e._v(" "),a("commonDialog",{staticClass:"departDialog",attrs:{title:"单位树",appendBody:"",visible:e.dialogVisible,save:e.save,width:"600px"},on:{"update:visible":function(t){e.dialogVisible=t}}},[e.dialogVisible?a("commonTree",{ref:"commonTree",attrs:{lazy:"",checkStrictly:"",multiple:e.multiple,selectable:e.selectable,options:e.treeData,props:e.treeProps,search:e.searchData,nodeUrl:e.nodeUrl,loadForNode:e.loadForNode},on:{nodeClick:e.nodeClick,checkedChange:e.checkedChange},model:{value:e.checkedVal,callback:function(t){e.checkedVal=t},expression:"checkedVal"}},[a("formInput",{staticClass:"filterInput radius",attrs:{suffixIcon:"el-icon-search",placeholder:"请输入搜索关键字"},on:{iconClick:function(t){return e.search()}},model:{value:e.searchStr,callback:function(t){e.searchStr=t},expression:"searchStr"}})],1):e._e(),e._v(" "),a("div",{attrs:{slot:"foot"},slot:"foot"},[e._v("\n            已选中 "),a("span",{staticClass:"blue"},[e._v(e._s(e.selectedCount))]),e._v(" 个单位\n        ")]),e._v(" "),a("el-button",{attrs:{slot:"more",size:"mini",type:"primary"},on:{click:function(t){return e.clear()}},slot:"more"},[e._v("清空")])],1)],1)},staticRenderFns:[]};var An=a("C7Lr")(Fn,Pn,!1,function(e){a("Nbu5")},null,null).exports,En={name:"departTree",props:{value:[String,Array],multiple:{type:Boolean,default:!1},selectable:{type:Boolean,default:!1},checkStrictly:{type:Boolean,default:!1},showContain:{type:Boolean,default:!1},local:String},data:function(){return{refresh:null,isFirst:!0,isContain:!0,searchStr:"",checkedVal:null,treeProps:{value:"id",label:"name",children:"subTreeNode",isLeaf:"leaf",hasChildren:"hasChildren"},searchData:{organizationId:""},showMore:!1,userTree:this.$store.getters.userTree,nodeUrl:this.$baseUrl+"organization/lstTreeNode"}},mounted:function(){this.local&&void 0!==this.userTree[this.local]&&(this.isContain=this.userTree[this.local],this.$emit("changeContain",this.isContain)),this.checkedVal=this.value},watch:{value:function(){this.checkedVal=this.value}},methods:{search:function(){var e=this,t=this.$refs.commonTree;if(""===this.searchStr||null===this.searchStr)t.treeData=[],t.loadNode(t.firstNode,t.firstCallback);else{var a={data:{name:this.searchStr},url:this.$baseUrl+"organization/findOrganizationByName?"};this.$ajaxPost(a,!0,function(a){if(200===a.code){var o=a.data.map(function(t){return t[e.treeProps.isLeaf]=!0,t});t.treeData=o}else e.$showMsg("error",a.message)})}},loadForNode:function(e,t){e.level>0?this.nodeUrl=this.$baseUrl+"organization/findOrganizationByParentId?parentId="+e.data.id:this.nodeUrl=this.$baseUrl+"organization/lstTreeNode",t()},nodeClick:function(e){this.selectable||(this.checkedVal=e[this.treeProps.value],this.checkedData=e,this.$emit("input",this.checkedVal),this.multiple||this.$emit("update:label",this.checkedData[this.treeProps.label]),this.$emit("nodeClick",e))},checkedChange:function(e,t,a){this.checkedVal=t,this.multiple?this.checkedData=a:this.checkedData=e,this.$emit("input",this.checkedVal),this.$emit("checkedChange",e,t,a)},changeContain:function(e){this.local&&this.$store.commit("updateUserTree",[this.local,e]),this.$emit("changeContain",e)},renderTree:function(){if(this.isFirst)this.isFirst=!1;else{this.searchStr="";var e=this.$refs.commonTree;e.loadNode(e.firstNode,e.firstCallback)}},getNode:function(e){return this.$refs.commonTree.getNode(e)},removeNode:function(e){console.log(222),console.log(e),this.$refs.commonTree.removeNode(e)},initScroll:function(){this.$refs.commonTree.initScroll()}}},Un={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonTree",{ref:"commonTree",staticClass:"depart-tree-wrapper",attrs:{defaultChecked:"",autoHeight:"",showTreeBottom:"",lazy:"",selectable:e.selectable,props:e.treeProps,search:e.searchData,nodeUrl:e.nodeUrl,loadForNode:e.loadForNode},on:{nodeClick:e.nodeClick,checkedChange:e.checkedChange},model:{value:e.checkedVal,callback:function(t){e.checkedVal=t},expression:"checkedVal"}},[e._t("default"),e._v(" "),a("formInput",{staticClass:"filterInput radius",attrs:{suffixIcon:"el-icon-search",placeholder:"请输入搜索关键字"},on:{iconClick:function(t){return e.search()}},model:{value:e.searchStr,callback:function(t){e.searchStr=t},expression:"searchStr"}}),e._v(" "),a("formCheckedBox",{attrs:{slot:"bottom",name:"bottom",label:"包含下级"},on:{change:e.changeContain},slot:"bottom",model:{value:e.isContain,callback:function(t){e.isContain=t},expression:"isContain"}})],2)},staticRenderFns:[]};var Vn=a("C7Lr")(En,Un,!1,function(e){a("RSay")},null,null).exports,Ln={props:{value:Array,options:Array,props:Object,visible:{type:Boolean,default:!1},title:{type:String,default:"穿梭框"}},data:function(){return{checkedData:null,leftChecked:[],rightChecked:[]}},computed:{dialogVisible:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}},inputVal:{get:function(){return this.value?this.value:[]},set:function(e){this.$emit("input",e)}}},mounted:function(){this.options?this.data=this.$deepClone(this.options):this.url&&this.loadData()},watch:{search:{handler:function(){this.loadData()},deep:!0},options:{handler:function(){this.data=this.$deepClone(this.options)},deep:!0}},methods:{change:function(e,t){this.checkedData=t},save:function(){this.$emit("save",this.inputVal,this.checkedData),this.dialogVisible=!1}}},qn={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("commonDialog",{attrs:{visible:e.dialogVisible,title:e.title,save:e.save},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("commonTransfer",{ref:"commonTransfer",attrs:{props:e.props,options:e.options,leftChecked:e.leftChecked,rightChecked:e.rightChecked},on:{change:e.change},model:{value:e.inputVal,callback:function(t){e.inputVal=t},expression:"inputVal"}})],1)},staticRenderFns:[]};var On=a("C7Lr")(Ln,qn,!1,function(e){a("Fzdt")},null,null).exports,jn={name:"formInputSelect",props:{rule:Object,codeKey:String,label:[String,Number],value:[String,Array,Number],options:{type:Array,default:function(){return[]}},multiple:{type:Boolean,default:!1},props:{type:Object,default:function(){return{value:"code",label:"name"}}}},data:function(){return{data:[],inputVal:"",selectVal:"",onlyReadData:[]}},computed:{showSelect:function(){return!this.multiple||0!==this.data.length},codeData:function(){return this.$store.state.codeData}},watch:{codeKey:function(){this.initData()},value:function(){this.initData()},label:function(){this.initData()}},created:function(){this.initData()},methods:{initData:function(){var e=this;if(this.codeKey?(this.onlyReadData=this.codeData[this.codeKey].sysCodeItemModels.sort(function(e,t){return e.ordinal-t.ordinal}),this.data=this.onlyReadData.map(function(t){var a=e.$deepClone(t);return a[e.props.label]="["+a[e.props.value]+"]"+a[e.props.label],a})):(this.onlyReadData=this.$deepClone(this.options),this.data=this.$deepClone(this.options)),this.value&&this.showSelect){var t=this.data.filter(function(t){return e.multiple?~e.value.indexOf(t[e.props.value]):e.value===t[e.props.value]});t.length>0?this.multiple?this.inputVal=t.map(function(t){return t[e.props.label]}).join(","):this.inputVal=t[0][this.props.label]:this.multiple?this.inputVal=this.label?this.label:this.value.join(","):this.inputVal=this.label?this.label:this.value,this.selectVal=this.value}else this.inputVal=this.label?this.label:null,this.selectVal=null},changeInput:function(e){var t=this;this.$emit("input",e),this.$emit("update:label",e),this.data=e?this.onlyReadData.map(function(a){var o=t.$deepClone(a);return o[t.props.label].substring(0,e.length)!==e&&(o.show=!1),o}):this.$deepClone(this.onlyReadData),this.data.length>0&&(this.$refs.select.$refs.formSelect.visible=!0)},changeSelect:function(e,t){var a=this;this.multiple?this.inputVal=t.map(function(e){return e[a.props.label]}).join(","):this.inputVal=t[this.props.label],this.selectVal=e,this.$emit("input",e),this.$emit("update:label",this.inputVal)}}},Bn={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{class:["formInputSelect"]},[a("formInput",{directives:[{name:"show",rawName:"v-show",value:!e.multiple&&0===e.data.length,expression:"!multiple && data.length===0"}],staticClass:"input",on:{change:e.changeInput},model:{value:e.inputVal,callback:function(t){e.inputVal=t},expression:"inputVal"}}),e._v(" "),a("formSelect",{ref:"select",staticClass:"select",attrs:{multiple:e.multiple,props:e.props,options:e.data,rule:e.rule},on:{change:e.changeSelect},model:{value:e.selectVal,callback:function(t){e.selectVal=t},expression:"selectVal"}})],1)},staticRenderFns:[]};var zn=a("C7Lr")(jn,Bn,!1,function(e){a("NTSK")},null,null).exports,Hn={name:"commonTreeTable",props:{search:{type:Object,default:function(){return{}}},lazySearch:{type:Object,default:function(){return{}}},tableTitle:{type:String,default:""},showSelect:{type:Boolean,default:!1},showIndex:{type:Boolean,default:!1},showPagination:{type:Boolean,default:!1},autoHeight:{type:Boolean,default:!1},offset:{type:Number,default:0},rowKey:{type:String,default:"id"},lazy:{type:Boolean,default:!0},method:String,url:String,loadUrl:String,options:[Array,Object],gridColumns:Array,refresh:Boolean,rowClass:Function,returnForData:Function,customSpanMethod:Function,beforeLazyLoad:Function,beforeLazySearchLoad:Function,normalResult:Function,sizeLimit:Array,local:String,total:Number,layout:String},data:function(){return{refName:"ref_"+this.$moment().format("x"),offsetTop:0,offsetBottom:15,treeTabledata:[],columns:[],totalCount:0,hightlight:!0,checked:!0,callback:function(){},isLoad:!1}},mounted:function(){this.initColumns(),this.options&&"array"===this.$getType(this.options)?this.treeTabledata=this.options:this.url&&this.loadTableData(),this.initTableHeight()},watch:{search:{handler:function(e){console.log("this.search重载"),this.$emit("update:search",this.search),this.isLoad?this.loadTableData(this.search,this.callback):this.loadTableData(this.search)},deep:!0}},computed:{tableHeight:function(){var e=0;return h()(".container-footer-wrapper").height()&&(e+=h()(".container-footer-wrapper").height()),(this.showPagination||h()(".container-pagination-wrapper").height())&&(e+=h()(".common-pagination-wrapper").height()),"calc(100vh - "+this.offsetTop+"px - "+this.offsetBottom+"px - "+e+"px)"}},methods:{initTableHeight:function(){var e=this;setTimeout(function(){e.$refs.tableTreeBody&&(e.offsetTop=e.$refs.tableTreeBody.getBoundingClientRect().top)},100)},initColumns:function(e){e||(this.columns=this.gridColumns)},loadTableData:function(e,t){var a=this;if(this.url){e||(e=this.search);var o=!0;for(var r in e)null===e[r]&&(o=!1);if(o){console.log(e);var s={url:this.url,data:e,method:this.method?this.method:"post"};this.$ajaxPost(s,!0,function(e){if(200===e.code){var o=void 0;a.normalResult?o=a.normalResult(e):(o=e.data[0].items,a.$emit("update:tableTitle",e.data[0].title)),t?t(o):a.treeTabledata=o}else a.$showMsg("error",e.message)})}}},load:function(e,t,a){var o=this;this.loadUrl?(console.log("loadUrl is true"),this.beforeLazySearchLoad(e,function(e){var t={url:o.loadUrl,data:e,method:o.method?o.method:"post"};o.$ajaxPost(t,!0,function(e){if(200===e.code){var t=void 0;o.normalResult?(t=o.normalResult(e),console.log(t)):t=e.data[0].items,a(t)}else o.$showMsg("error",e.message)})})):this.beforeLazyLoad(e,function(e){o.loadTableData(e,a)})},rowClick:function(e,t,a){this.$emit("rowClick",e,t,a)},rowDbClick:function(e,t,a){this.$emit("rowDbClick",e,t,a)},columnDrag:function(e,t,a,o){},handleCurrentChange:function(e){this.$emit("handleCurrentChange",e)},handleSelectionChange:function(e){"function"==typeof this.$parent.checkedChange?this.$parent.checkedChange(e):this.$emit("checkedChange",e)}}},Gn={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"common-tree-table-wrapper padding"},[e._t("default"),e._v(" "),a("div",{ref:"tableTreeBody",staticClass:"tableTreeBody"},[a("el-table",{ref:e.refName,attrs:{data:e.treeTabledata,"row-key":e.rowKey,lazy:e.lazy,load:e.load,border:"",height:e.tableHeight,"highlight-current-row":e.hightlight},on:{"row-click":e.rowClick,"row-dblclick":e.rowDbClick,"current-change":e.handleCurrentChange,"selection-change":e.handleSelectionChange,"header-dragend":e.columnDrag}},[e._t("selection",[e.showSelect?a("el-table-column",{attrs:{fixed:"",type:"selection",align:"center",width:"30"}}):e._e()]),e._v(" "),e.showIndex?a("el-table-column",{attrs:{type:"index",align:"center",label:"序号",width:"50"}}):e._e(),e._v(" "),e._l(e.columns,function(t,o){return a("el-table-column",{key:o,attrs:{fixed:t.fixed,width:t.width,align:t.align,label:t.text,prop:t.dataIndex},scopedSlots:e._u([{key:"default",fn:function(o){return t.children?void 0:[t.formatter?e._e():a("span",{attrs:{title:o.row[t.dataIndex]}},[e._v(e._s(o.row[t.dataIndex]))]),e._v(" "),t.formatter?a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[e._v(e._s(e.tdData=t.formatter(o)||""))]),e._v(" "),"array"!==e.$getType(e.tdData)&&"object"!==e.$getType(e.tdData)?a("div",{attrs:{title:e.tdData}},[e._v(e._s(e.tdData))]):e._e(),e._v(" "),e.tdData.showBtn?a("el-button",{class:e.tdData.class,attrs:{circle:e.tdData.circle,title:e.tdData.title,type:e.tdData.type,size:e.tdData.size?e.tdData.size:"mini",disabled:e.tdData.disabled},on:{click:function(a){e.runBtnClick(t.formatter(o).eName,o.row,t.formatter(o).limit)}}},[e._v(e._s(e.tdData.text)+"\n                        ")]):e._e(),e._v(" "),e.tdData.showText?a("div",{class:e.tdData.class,attrs:{title:e.tdData.text}},[e._v(e._s(e.tdData.text))]):e._e(),e._v(" "),e.tdData.showIcon?a("i",{staticClass:"iconfont",class:e.tdData.class,style:e.tdData.style}):e._e(),e._v(" "),e.tdData.checkbox?a("el-checkbox",{class:e.tdData.class,style:e.tdData.style,attrs:{disabled:e.tdData.disabled},nativeOn:{change:function(a){e.checkClick(t.formatter(o).type,o.row,t.formatter(o).limit)}},model:{value:e.tdData.check,callback:function(t){e.$set(e.tdData,"check",t)},expression:"tdData.check"}}):e._e(),e._v(" "),e.tdData.showSwitch?a("formSwitch",{attrs:{activeText:e.tdData.showRight,text:e.tdData.showLeft},on:{change:function(a){e.runBtnClick(t.formatter(o).eName,o.row,t.formatter(o).limit)}},model:{value:o.row[t.dataIndex],callback:function(a){e.$set(o.row,t.dataIndex,a)},expression:"scope.row[column.dataIndex]"}}):e._e(),e._v(" "),e.tdData.showDropDown?a("formDropDown",{attrs:{type:"text primary",title:e.tdData.showText,trigger:"click",placement:"left-start"},on:{click:e.dropClick}},[a("template",{slot:"dropdown"},e._l(e.tdData.data,function(t,r){return a("el-dropdown-item",{key:t.text,class:[t.class,{last:e.tdData.data.length-1===r}],attrs:{command:{eName:t.eName,row:o.row},disabled:t.disabled}},[e._v("\n                                    "+e._s(t.text)+"\n                                ")])}),1)],2):e._e(),e._v(" "),e.tdData.showProgress?a("el-progress",{class:["paddingX",e.tdData.class],attrs:{"text-inside":!e.tdData.textInside||e.tdData.textInside,"stroke-width":e.tdData.strokeWidth?e.tdData.strokeWidth:18,percentage:e.tdData.data}}):e._e()],1):e._e()]}}],null,!0)})})],2)],1),e._v(" "),e.showPagination?a("commonPagination",{attrs:{sizeLimit:e.sizeLimit,layout:e.layout,size:e.pageSize,page:e.pageIndex,total:e.total?e.total:e.totalCount},on:{"update:size":function(t){e.pageSize=t},"update:page":function(t){e.pageIndex=t}}}):e._e(),e._v(" "),e._t("bottom")],2)},staticRenderFns:[]};var Wn=a("C7Lr")(Hn,Gn,!1,function(e){a("dHFe")},null,null).exports;o.default.config.productionTip=!1,o.default.use(gr.a),o.default.use(Ir),o.default.use(Lr.a),o.default.prototype.$moment=yr.a,o.default.prototype.$moment.locale("zh-cn"),o.default.prototype.$http=br.a,o.default.prototype.$echarts=Or.a,br.a.defaults.withCredentials=!0,o.default.prototype.$baseUrl="/",br.a.interceptors.response.use(function(e){return e},function(e){return o.default.prototype.$showMsg("error","服务器请求错误，请联系管理员！"),"服务器请求错误，请联系管理员！"}),fr.beforeEach(function(e,t,a){switch(console.log(e),console.log(t),console.log("from+++"),e.name){case"AccessLogin":break;default:window.sessionStorage.getItem(be.state.systemPrefix+"isLogin")||(o.default.prototype.$showMsg("warning","请先登录进入本系统！"),fr.push({name:"AccessLogin"}))}a()});t.default=br.a;o.default.component("commonBody",Wr),o.default.component("commonForm",zr),o.default.component("commonTitle",Zr),o.default.component("pageLoading",os),o.default.component("commonTable",us),o.default.component("commonHeader",b),o.default.component("commonSearch",fs),o.default.component("commonFooter",Yr),o.default.component("commonDialog",vs),o.default.component("commonTablistX",ys),o.default.component("commonTablistY",Ds),o.default.component("commonContainer",ks),o.default.component("commonPagination",Ns),o.default.component("commonBreadcrumb",Rs),o.default.component("commonUpload",Ps),o.default.component("commonTransfer",Us),o.default.component("commonEmpty",Ls),o.default.component("formRow",js),o.default.component("formTags",zs),o.default.component("formDate",Ws),o.default.component("formInput",Ys),o.default.component("formRadio",Zs),o.default.component("formSelect",nn),o.default.component("formSwitch",on),o.default.component("formNumber",tn),o.default.component("formCheckbox",mn),o.default.component("formCheckedBox",pn),o.default.component("formDropDown",dn),o.default.component("formDateRange",bn),o.default.component("formBreadcrumb",wn),o.default.component("formRemoteSelect",In),o.default.component("formSelectInput",Tn),o.default.component("commonTree",Sn),o.default.component("customSearch",Mn),o.default.component("departDialog",An),o.default.component("departTree",Vn),o.default.component("dialogTransfer",On),o.default.component("formInputSelect",zn),o.default.component("commonTreeTable",Wn),o.default.filter("fmtDate",function(e){if(!e)return"-";var t=new Date(e);return t.getFullYear()+"."+(t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"."+(t.getDate()<10?"0"+t.getDate():t.getDate())}),o.default.filter("fmtAge",function(e){return e?parseInt(yr()().format("YYYY"))-parseInt(yr()(e).format("YYYY")):"-"}),o.default.filter("fmtSex",function(e){return e?"1"===e?"男":"女":"-"}),o.default.filter("fmtBirth",function(e){return e?yr()(e).format("YYYY-MM"):"-"}),o.default.prototype.$moment.locale("zh-cn"),new o.default({el:"#app",router:fr,store:be,components:{App:s},template:"<App/>"})},NTSK:function(e,t){},Nbu5:function(e,t){},Np9k:function(e,t){},O2yp:function(e,t){},OQ8B:function(e,t){},OXsB:function(e,t){},PcWh:function(e,t){},"Q+mD":function(e,t){},RSay:function(e,t){},S4h3:function(e,t){},SMEv:function(e,t){},SWWC:function(e,t){},"TMr/":function(e,t){},TXZl:function(e,t){},TcLd:function(e,t){},Tkp9:function(e,t){},TqOk:function(e,t){},U5HR:function(e,t){},UYrV:function(e,t){},VX7d:function(e,t){},Wjtx:function(e,t){},X1Jv:function(e,t){},YDn5:function(e,t){},YsRD:function(e,t){},Z9kk:function(e,t){},"ZN+w":function(e,t){},ZfLF:function(e,t){},aJtJ:function(e,t){},b3rI:function(e,t){},bHDZ:function(e,t){},bagb:function(e,t){},"bd+5":function(e,t){},cNoJ:function(e,t){},cSi4:function(e,t){},dHFe:function(e,t){},dbuF:function(e,t){},eH4i:function(e,t){},edGZ:function(e,t){},fSkL:function(e,t,a){var o={"./af":"1OrJ","./af.js":"1OrJ","./ar":"bHl5","./ar-dz":"qFyv","./ar-dz.js":"qFyv","./ar-kw":"OhBR","./ar-kw.js":"OhBR","./ar-ly":"3AjD","./ar-ly.js":"3AjD","./ar-ma":"sFwh","./ar-ma.js":"sFwh","./ar-sa":"gg0N","./ar-sa.js":"gg0N","./ar-tn":"lqw4","./ar-tn.js":"lqw4","./ar.js":"bHl5","./az":"xLUF","./az.js":"xLUF","./be":"NWv/","./be.js":"NWv/","./bg":"G9eV","./bg.js":"G9eV","./bm":"zaEJ","./bm.js":"zaEJ","./bn":"/icp","./bn.js":"/icp","./bo":"UyM9","./bo.js":"UyM9","./br":"G5xs","./br.js":"G5xs","./bs":"9h8A","./bs.js":"9h8A","./ca":"8ccl","./ca.js":"8ccl","./cs":"TEiJ","./cs.js":"TEiJ","./cv":"7EVA","./cv.js":"7EVA","./cy":"H6w8","./cy.js":"H6w8","./da":"MSIt","./da.js":"MSIt","./de":"Rl+D","./de-at":"30Vd","./de-at.js":"30Vd","./de-ch":"KKU8","./de-ch.js":"KKU8","./de.js":"Rl+D","./dv":"+DOJ","./dv.js":"+DOJ","./el":"8nDw","./el.js":"8nDw","./en-SG":"1hne","./en-SG.js":"1hne","./en-au":"ZsCN","./en-au.js":"ZsCN","./en-ca":"rHyc","./en-ca.js":"rHyc","./en-gb":"ehFk","./en-gb.js":"ehFk","./en-ie":"Hxoc","./en-ie.js":"Hxoc","./en-il":"oEKo","./en-il.js":"oEKo","./en-nz":"SfkL","./en-nz.js":"SfkL","./eo":"UhWX","./eo.js":"UhWX","./es":"JJW5","./es-do":"LWvi","./es-do.js":"LWvi","./es-us":"RzRn","./es-us.js":"RzRn","./es.js":"JJW5","./et":"pjM/","./et.js":"pjM/","./eu":"oBFE","./eu.js":"oBFE","./fa":"z8Fc","./fa.js":"z8Fc","./fi":"j+B7","./fi.js":"j+B7","./fo":"MuUW","./fo.js":"MuUW","./fr":"CZ8n","./fr-ca":"nDiE","./fr-ca.js":"nDiE","./fr-ch":"T2mj","./fr-ch.js":"T2mj","./fr.js":"CZ8n","./fy":"+eCN","./fy.js":"+eCN","./ga":"6KMf","./ga.js":"6KMf","./gd":"Osat","./gd.js":"Osat","./gl":"3uJi","./gl.js":"3uJi","./gom-latn":"kQyN","./gom-latn.js":"kQyN","./gu":"C85o","./gu.js":"C85o","./he":"Uaie","./he.js":"Uaie","./hi":"KLVO","./hi.js":"KLVO","./hr":"/AQ7","./hr.js":"/AQ7","./hu":"neNx","./hu.js":"neNx","./hy-am":"HL0q","./hy-am.js":"HL0q","./id":"fVYV","./id.js":"fVYV","./is":"pUHy","./is.js":"pUHy","./it":"N5fZ","./it-ch":"KCG7","./it-ch.js":"KCG7","./it.js":"N5fZ","./ja":"bVIB","./ja.js":"bVIB","./jv":"NpB+","./jv.js":"NpB+","./ka":"8RqC","./ka.js":"8RqC","./kk":"pcbE","./kk.js":"pcbE","./km":"o5og","./km.js":"o5og","./kn":"BKte","./kn.js":"BKte","./ko":"vztA","./ko.js":"vztA","./ku":"OmHn","./ku.js":"OmHn","./ky":"gQFs","./ky.js":"gQFs","./lb":"sJOA","./lb.js":"sJOA","./lo":"Wg2E","./lo.js":"Wg2E","./lt":"N5Ie","./lt.js":"N5Ie","./lv":"Z/KU","./lv.js":"Z/KU","./me":"6nQR","./me.js":"6nQR","./mi":"dZ9v","./mi.js":"dZ9v","./mk":"8ttA","./mk.js":"8ttA","./ml":"TFUT","./ml.js":"TFUT","./mn":"Rtcs","./mn.js":"Rtcs","./mr":"ZrND","./mr.js":"ZrND","./ms":"Uszi","./ms-my":"B+3a","./ms-my.js":"B+3a","./ms.js":"Uszi","./mt":"f+DN","./mt.js":"f+DN","./my":"7hhd","./my.js":"7hhd","./nb":"O+uN","./nb.js":"O+uN","./ne":"xB1H","./ne.js":"xB1H","./nl":"pyzp","./nl-be":"6XY9","./nl-be.js":"6XY9","./nl.js":"pyzp","./nn":"wWYI","./nn.js":"wWYI","./pa-in":"khMS","./pa-in.js":"khMS","./pl":"J+lf","./pl.js":"J+lf","./pt":"imZp","./pt-br":"yh7C","./pt-br.js":"yh7C","./pt.js":"imZp","./ro":"/ydL","./ro.js":"/ydL","./ru":"XA72","./ru.js":"XA72","./sd":"K+sy","./sd.js":"K+sy","./se":"HXCg","./se.js":"HXCg","./si":"JhyT","./si.js":"JhyT","./sk":"QL3+","./sk.js":"QL3+","./sl":"KbOk","./sl.js":"KbOk","./sq":"jkQm","./sq.js":"jkQm","./sr":"vGLH","./sr-cyrl":"lZcv","./sr-cyrl.js":"lZcv","./sr.js":"vGLH","./ss":"ikBz","./ss.js":"ikBz","./sv":"gbWe","./sv.js":"gbWe","./sw":"YR+a","./sw.js":"YR+a","./ta":"otVD","./ta.js":"otVD","./te":"3YuF","./te.js":"3YuF","./tet":"IJME","./tet.js":"IJME","./tg":"iKfg","./tg.js":"iKfg","./th":"v87T","./th.js":"v87T","./tl-ph":"otiP","./tl-ph.js":"otiP","./tlh":"L/GK","./tlh.js":"L/GK","./tr":"phcV","./tr.js":"phcV","./tzl":"rgrh","./tzl.js":"rgrh","./tzm":"1pHS","./tzm-latn":"q7e0","./tzm-latn.js":"q7e0","./tzm.js":"1pHS","./ug-cn":"tsGA","./ug-cn.js":"tsGA","./uk":"01SB","./uk.js":"01SB","./ur":"jayG","./ur.js":"jayG","./uz":"k3sX","./uz-latn":"nmSA","./uz-latn.js":"nmSA","./uz.js":"k3sX","./vi":"KTvP","./vi.js":"KTvP","./x-pseudo":"dccK","./x-pseudo.js":"dccK","./yo":"IAhR","./yo.js":"IAhR","./zh-cn":"5Spc","./zh-cn.js":"5Spc","./zh-hk":"ECSc","./zh-hk.js":"ECSc","./zh-tw":"hH/4","./zh-tw.js":"hH/4"};function r(e){return a(s(e))}function s(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}r.keys=function(){return Object.keys(o)},r.resolve=s,e.exports=r,r.id="fSkL"},fXvi:function(e,t){},gALX:function(e,t){},gxVg:function(e,t){},jOrA:function(e,t){},k7gc:function(e,t){},kG65:function(e,t){},kPjT:function(e,t){},"l/c5":function(e,t){},mNRB:function(e,t){},noWr:function(e,t){},nq1l:function(e,t){},ntLg:function(e,t){},ntgo:function(e,t){},pPTL:function(e,t){},pSQe:function(e,t){},"s+PA":function(e,t){},tkuS:function(e,t){},tpAW:function(e,t){},uq4z:function(e,t){},"v/SH":function(e,t){},v0sX:function(e,t){},vDEn:function(e,t){},vN3U:function(e,t){},vbMY:function(e,t){},vqnf:function(e,t){},"w+73":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAALQAAAB/CAYAAABG4uhFAAAePklEQVR4Xu2dCZBcV3WG//N6756eRSPJkmwZJFs22IGwmFRBUlCOwUACZl/CkrJxWCtsRaAKsNlsIEWFAKYIYTE4KbMZMGsCZgkUCVQKbMJmsC3bsixjydKMZjQzvXffk/pf95WeWtPq19Ovu1+P3q0azWjmvXvvO/fr884999xzBSMsu3fv3iQir1LVXwO4adeuXZURdsdX06oqhw4hl8sV87FYNmuc2kbT0LMFeBAgZ4jIVjW6WQXTojqlkAwEcUcQZwNGUYeiLtCSihwRxaI4clBV9wN6nwJ7nZjc6ZjEXKNRLBYK2eVNm1AQEfXVwVP8Ihnl899xxx07Hcf5moh8bWFh4QMXXHBBcZT96dS2qqYATFQqmKrXK+fAkYdD5E9FcC5UNwIO/54ENAkgAbjwxnw+SwNAHUANkCqAKmAqEJlTxe3gh93ob+Jx3FGtVpfy+fyyiIT+g+/z2QO/bOhAU8PdcsstmYmJiVgsFjtbRG5U1a8nEokPlMvllf3795cuvPBCDvBICyFeWVmZEkltlTgeK0b/wog8SqAzECcjqlltwjuwIkBNRYpQU1LIogP8Uo35H1XnZ6qJ/RMTOBLBfbz4hw70gQMHcisrK08HcJaIbFLVl4jI740xPxWReRH55s6dO3eP4hWrqs6RI0emMpmpLXWtPQGQi6H6SFVMiWCipX0HBrCPimuqWBHBEYj8CtDvxSXx41LpyIGpqSnCbXzUsa4vGTrQN99889T09PTLVfWRjuNMqerjAdwH4HYAhwB84qyzzvrlMIFW1UShUJgF4o+QmPMMBS4UxWYIJnswHYYNSgOKJRUcFODHKvJ11OO/yuVApVAbdmfC0t7QgaYWvO+++6YLhUI6Ho/vAHA9gG9Xq9VrMpnMMoDFHTt2lIchIIJ8uFQ6LSXxC0Xk+VA8SkQ3qCI9jPaDakMEZVVdgDi3qOoNFa3/aEMm88CpCPbQgfYO4t69e3fWarX/BPCVVCr13u3bt5eCGuST1aOqsWIRpzlO7YkN4G+h4ARvJsTa2K9YGqpYgODXMeDfjUn8IJsFwebE85QoIwX6nnvu2Vqv198B4H9jsdiXhqGZl5Z0Np5qPF5VX65GHyOCDQCcdTbaRhWHxZFfiMin6pXYTyYnZX6dPeOqjzNSoG+44YbYwx72sOlGo1E5//zzB+prVdVMsVb7E9PAKxzoXwOyeR1o5G6MNgA9aCD/EVN8KpNJ/FZEhvIW7NaxQf19pEAP6qG89dJNWAK2mVLlBeI4l0NxFgD6jU+lUlHo3VD9tJNJfSkD3D/MSfcwBb2ugaYveblUvyAG8yaFXCiC6WEKN2xtaXNV8kdi8MFMJn7zevRh+wZaVZOlUmlTVYSrYWsuSdVqJpM5JOKuig2s0FaWZO25juK1AM5trd4NrL0xqpiLVrcbwUe1mvjKoGzrUfHiC+hm56rPVJE3ALqlv8GTA6L64Uwm+fVBQE0To1Kp7DRwXqeKFwKgrRyVEyVwUARfdGCuSaVSdwdpgoySF19AF4vF0xXxr0LwZwB83XMSghSKnwvqz8lms38MkjS645ZKtQvikCvEwV+qajbI+tdbXSJSVIP/qkOvnswkaIIE4t4bJS++4Ay8g8DPRYMF2l3tq1QuctR5lwKPjkwM3x+/ugC3GDHvyqVSPwxiMWaUvPgCuvUKeZZC3gDR03yLarULVfYL9CNBmhyqmm6ZRFcCeMg69Cv3JXIfNzMG5DZRvao1Ln2t1I6SF19AUyBBGfkJk65ks5gLyn6mWVEo154vwBUAdgZgEvkY/3V5CeOt71bg6lw6cQPNkX6eclS8+Aa6n4cb1L2M3MtPbXgRgLfBDbDv274fVFfHpV5CvRfA+7LpxOdFpDAuHbf9HFug9+3bl5nZeNoLBfoOQB48boIPc38FuEeBqw7PPfCFYcXXBCWPsQSaE8BSqfpcFbkqMjOCQuG4eprmh+o7cpnkl4OYKA6kl6tUOnZAM/y0UKlfRF82gIdGZsbAUFEI/kBHQC4Vp/djLDYPjBXQblxGqfYYCD6icH3i6y1KbmB0rrFiI8DPoXh9JpNg5F7oN+qOFdDlcvksg9iHVfWpp0Ck3BoZDPy2hoh8x0H8Dem03BV47QFXODZALy8vb3ISqSsFcnm0AhgwBV2qc1cUodeaWuWqfD7PbXKhLWMBNKPmipXapVB5N9Dnwk5ohyLsHZMHIPrObCpxXZij9EIPdNNurj9WRT/VdRIooX+c8FKrXc1jXvCHhsor8pn4z8JqT4eegGKxeIY6iWugekm73ayqXMFsQcKfw8tL2HvW1AVNHETE/Vql0J7+Jkztddlsljv1Q1dCDTS3TRVK9VeLo1dA3U2sRwtBLpeKqNeYREhQr9dRq9eipcI1IEY9kIgnEI8z4ZMikUwhlc6uDrVgQY1cncvEPx7G7VyhBdq66NTBdVA34Oi4vtZrVRQKy1DTcDVzpVJBo9HopFnWMMynzi1UDrFYDKlUClTM4sSQm8gjHl91Lwf907eJwaVhdOWFFuilpaWNsUT6HwG8tJk37lgxxqBYWAahZqnVaqhWqyd7VZ46dK7hSa3plkwmkUg0s5vFkylksxNwnFVd/VUFrs+lE29htqtOTVIp7d+/P7N169Z6UMFo3R4vtEAXCpVnwnE+Bui2dlOjVq24QNuBKJfL7s8d7L5uMoj+3oymdOWXTqdbisFBNjfhmh+ry1XuhyOvyaXi3+gkwLvuuouZsV6qqr87++yzfzKM1cYTgFbViWIRecdBsoLySFbiEiY2A0ffB8iT2lcDjRqUCyuuzczXo1c7R2T2JwFCbbU0zbh4Io40tbSsioEB9Psw8raa01hob5nb6svl+vbFxbmPG2O+v3nz5k/E4/FyEGlTU4AxxlQLhcLy5s2bV7xtHwV6925Nbd1aPUcEzxVHHq/QM0a4GhcHhHsXT8juqWpQq5SOejdoOzfh7jgz72+UT5G77duOE0Pa0iyUaSKVgawOtGvtAXqglQ74uAm7QNBo1BOH5+e2JlPpwsTk5IIjwqV0VtyXVAVSN8B9AvmxNszX9u9P3rFrVzPFsFszV97K5drzjOKNEDdvRS6sQT9NoMuAGnB27gW6LylFN7tKwgLdBM9BIkUTxP+LmuNTLpdQr9WpRlEuFRCPJ1zThfZ4OpNx/x9AURGsKHC3o/hQOp1gVGBRuApXKNf+RqDvBCT0QfIWaH63E8LIuxEAHi07mt4OOzEkyD0DbQwKhRXUalX3A1KplBGPxRCLJ+DEYshmc65ZE+xeDL1HIe/OpRNfkGKx9jh19ONQPDwYsQy2lnago8lgsPL2ynNNQHsWu+r1GhYPzyOVSiOXn3Q19MBMQ8FvxMhrpFCsXgPBy1pmRrDSGUBt7UAPoImoypYE1gK0FR7BJdDzcweRTmeRn5xygT62shusmLldTI3+m6yUKr8TyHkBvwOC7a2ntgjogYn2hIr7AZqVmUYDS8tHkEomkc7kBu1W5ZTqNimWq0uqyA9PTP21tBrQ3k/+oDRAf70O993Wz8zvnMgd07K929DeJ7WeE3f1sYeJ5VqlJSLL6wLotQoguu/kEuhXQw9bvgosSaFc/S0U54+jyUGNsry8jGKx6L7O6HKyM/RIU3fHyWpmLk7Rl0+ZZbNZ5PP51sphfxq6ew8CvYIxJr8fy0lhtVKGoLlUe+jQISwuLroTDsLcDLCRgU0+Ah2CEVdm5URfPqGmuTE9PY1NmzY1wwogSPbohx7VIx2dFI6j245AA8Zdkp2bm8ORI0cioNdA0mpAT01NYePGjWCIAfcgjwvQsG67toWV0Cds4aTQC/T8/PwJQK9hbE/pW7wamkDPzs6OGdCehRWOZGvp+/mtpW/mhwv10ncEdLCfvzEFurn0bbDHEfzz0aVvKxoGJ515Js6p16sMTnpCKzjJ/yL+2mQsqpJvHanmq61IQ69N0Ce7K2CgeQLXgojyzMmBbIpTSM0B9in0v+NO8sZ778XxwUltvsOJIpB3yoMPH3UcJ+U0cJmIvIaHw/sZqghoP1Lq7ZqAgV5R1X8xMXzWGBNEtOgJD8Pw0UY6XSkeOrTSMXy0NxEEc/Vh1alUufYhAC9u35XSqYUI6GBk760lYKC5jehzlXTijRtEjgTf2y6+82E36G3P3dGN+NcgbsZ9X0GyEdDBj1jAQNPfd4ug/qxR7Az3BVHwImzWWKnoeXXjHo3MsFVfJQLal5h6uihgoNn23riT+KtUSn7fU0cCuHhkQHMDZbHSeCrUfAaA72MuIqADGPW2KgYA9AMQc3k2lfrOMPYReh9nlECnisXay1Tw3paXw9dIRUD7ElNPFwUOtMgCoFdmU4lPDztt2MiAPnToUD47Mf1mEX2jqj8PB0cpAronVn1dHDjQAGOTr8llk+9nBJyvTgR00ciAPqK6IV6ufQDAS3o5ezsCOqCR91QzAKDp6bi+nk68eUrkcPA97lzjyIBeXl7e7MSSn4DI03vZXR4BHTweAwCa6ay+ZRrVV+bz+YPB9ziEQBcKha3iJK5X4EK/LrvI5BgMGgMAWgX4sZrai3O53P7B9Hr1WkemoZtZRePfgOJRvTxwNw3d3FEclV4kwDRqNnw0sOAkwf+JqV8ybF/0KIE+00j8Jmme/Oq7dAKaFTAW2qayigL8u4vUho8ylRq1NEtQQAtwG7T+5Gw2e2/3ngR3xQiB1jMhte8rcE4vj7Ma0AsLC+5ulcnJSRfqCGb/EiXUhHlpacndtTIzMxNI+KhCd8dgnpTJZHiQ59DKyIBeLJV2JBH7gTaPM/ZdvEAz3RTjobljhTDbrUMR0L7FeTRPBreyEWruWGE8NNev+wnwF+BuQeKiTEbu8d+b/q8cGdDFom6H1H6kcFOP+S4WaG7BYuEWLNp/fFVyG5Z317LvSk/xC63cuPOH29i4BYulny1YAtwFTVyYzcq+YYp3YEDffLMmzj0X07EYMlUpx9ofKhmPb0Fd6eXoWUMzt51NBbay0kw+yYE4/oiKYYpxvNuy2YyoGFgmJpqRvP3t+tY9os5LqlJf1cuR1HQjk0EJYOy01IOS4ECAVtXpUqn6FAWeJ46cx21eq3S4Y4bRkz2cNy+H17SIzIz+kfDmgW5C3teu71Uzk9pecklcIbeKMV+uZJI3zYgs9v8EPkM2e2loUXUmUa6/HsDlAt3CNMO93N/t2vZEM+0Z5iOwu0nwxL+3JzS3ZlufQHftiAB1hTAd77W1dPwj024MSH8lUA3tHipfbTxbTeODgJzeX9dWv9sCbUzDvYBAW6gtzBHU/iXvzZrEuwizBdpxYj1nH/XfsvdK/aMo/iGTSX5VRJp2zxpLoEAvL+smJ1b/V4g+c1DncHs1NAeDSWboR2VhKtjmSU5R6UUCdNcxJTEL/fhMNtPMQtqXydFLFwxUvm4a8Vfl89LXSbWBAl0sur7lm7THxZJentzr5bCJZuiHtnmNOSBR6U0CVAicEBJq+qFHkWhGBLfBJJ6czUpfCzFjC3SUaKY3aFe7OkyJZhR6u6PJi0MF9LBMjigvR/8we2sYQHBSrx0Mp8nhTgpL1eeo4J8GOSmMgO6Vl5NfP3qgQzoppNiG4baLgF4fQIfebWfFfGxhxXmeiJ6v0E4xnTERZ5apyPzGRHcLH7VHkgU75Ou7toA1tPI0KlXDE2abrpNVikCqqnKrwHw5k0l+V8K6sGL7zqXvRz8a04vlclYY5bJKicdik46Rt0P1Gdp2/HEnQURAB//hChJoAXhG9TeMo++tNxpLHccRMNPpdPGWW7B4wQX9+Z69bQTq5ehV1LtVU1tL9ddC9EoBJv3cHwHtR0q9XRMk0MyiD5Wr9mfiH90lzcMwh1lGCjRzcxQq9YtFcR2gPDm2a4mA7iqini8IEmhADqjgslwqfpOIDCRZ48kecKRAs2Plsu6sa+3brZ0rXfsTAd0zr11vCBBoRpzeFkPiaem03N214QFc0BWgAbR5XJWqOlsq165hZN5qZ3u3tx8BHfyIBAh0TVW/YjLJ106KcFI49DJyoPfs0fTmrbXL1OB9IpjuJoFegGY8AgNtuCLWHpXXrZ1T6e9BAa2KRXHw1oP7E9ft2CHNAJshl5EDzeddqVYf4TRwowI7uj2/X6CbJ5nWwTgP/swYhQjq1aUbFNAC7DENPHtiIvmrbuM4qL+HAmhV3VSs1D8J1aehS/y0X6ApMGpo7pU7ePCgG3DDfYftsb+DEuw41RsQ0HWIfDubir9CpL+IuX5kFwqgXbNjc+1yFVzdzezoBWgKhiYHT8riVq1t27Yhk8kMbVf4uBwvFwTQrrmhuOLgwcS1ozI3ON6hAJodWV6unCdxuVGaaQ069qsb0Ew04wWJPzM0kjvDuVeO4aX2KOVBbASwbwB+kBiOyf8ztNX7ZhhEu2vRalZOASSaUQXu0Lo+O59PDT0ntPfZQwP0woJOJ9O19wO4lHHmnQaoE9AcHMLcKR6agBEkDh6vtQd0rgWEbveUSiU3JQA1H4Plab/bc7TDuAGB8dCUC+WzxkQznABeVy0n3jozE8zewG4y7vT30ACtqk6xWHmyilwrIlvXAnQul3MBsvbzcZ9cEVdjPvDAAygUCjjttNNcjR2kTc26CPO9997r7pxhnhD2h2YO2zx8+LCb88Luql7roAV1n3127vph/9YKtKruF9XLs9kUF1N4YufISmiAdr0dK7pFnOqnIfLUTlu4OmVOonamJmQ6g5Pl5qDWPHDggLt1a+vWrUfzeQRhBrAOmjbMb8EPjH1bEBxqwPvvv9/dLrZ9+3bwwxeGQvOLJhm9QezjGjIn8dX3HTXJv5uYcDe8jrSECuibVRPnl6svMHA+BOjG1STTDjQnfL1kTrJwMeMSAaT3gzautav7HQ3r+7Z2s/2g2JRbhJq/I9Q2l0i/bfZzv83J4c2c1NvRyDLnwLzx1nTySxf0ucG1n+ew94YKaHaqWNQzILXrWml2T4jSa8+cRKD5mqdm4Wveb+Yk7+5malTa1DQPCOJatTXvo1nTPgk8KmyRo27EM844IzR5+Phhtj57mkcE2jXbuh9ebwT4ETRxaTYr9wUBZL91hA5o7noplGsvguKDIphtf8B2oKlpCSft0l4yJ1nNxIGk1qSG4odiw4YN7uSyV6+E1fz79u1zgbA+7+bu6WNi5v/ZZpgmh1YWdG0Sbtr5foBWxTwEb8qlE5/vN/1AvyCHVkM3tXTxdHUSXGh5Srst3Z5ohoNASPoBhIBRS/PDQU19+umnHzVB2k2HToK3QHNCSPt48+bNrqZ2wWh5V2g/n8wTE9SgrrUeyoHP4TMVGGMKbhJTe3k2m/3jWtsM+r7QaegWAE6xWL0EjvMxQLd5H7o9FZjVyu2asBdBWZea3cpP6Oh248zfek5o71J7WW1m67ft24SH9KJwgrVjxw53Usg6WRc9HKyPpgbfAkHZ7L0858mutfKzz9f8frK8HHJ/Q83f5zPJb4zas+F9rlAC3YJ6tlCufUCahwod3cLVrqHtANgBWav9yzataWCXzAmnta+ptZlqloBaTUYo+WagJrbJWnj9nj17sHPnTvfVzTqYIZVaz7rsrOYOCsZ+67ELLPb7sYlsR6CrClyfSyfeIiOKquv4puxXGIO6n8H/pVLtMergOqib5d/98LWnAmv3UPQD9PFvgqatS1cWTQVqW5ojtLcZG2IXcuj6o+3NySn/RrcgtTmX2W3CFk4UCX4/ZtGg5Oz9INs3lc2i1CEVmBvzLAaXZjKJX4wiiP9ksgithm5p6UyhVH+1OHoFFDNeoG06XQJkV/+oMfvxUhz36nJfuU3xeD0n1NBsj7Dzw2OPweDv+GUzOPEeTjS58kbPgV2pDOoDFxTgfEYCbPtHc8tuNF7N5KCrHZCrlxYPfXzbtm3FoPoRVD2hBpoPycOF4CSuUdVLmL6uPRWY9UMTZg7EoA8N8po47XB67U+7gMPf0dQIc4oyfhDZX0JNs4peGnducKLbjsEp35JU/LVZCYebrv2DEHqgaXosl+qPi4l+EiIPVdMQb14OAk27lUDzVW9jNMKgCQkJ7Wdqc64cUlMPMjCqVy1nbeb2aLsOCyvcH/iHhsor85n4T8NmathnDz3QLdMjVazULgPkXWoap41TohlqP5oehJlamq93axr1CuCgrvcZPnoQgndmU4nPDvv87l6eeyyA5gMtLy9vchKZK6GNyyvlUtYma6TvuF1D9yKAYVxrPTCEm3EkfJPYE7usn9vrYRlGn7xtdAPacWJFNfoZ06i8J5/P95XudtDPNjZAUxDlsp5VN5UP16rlp6iauCOOuxgSdqDtIBJs+qLZXwZH0ZXHBRi79Eyo25fNhwF6F6Abgth367XGG6am0ncOGsh+6x8roJv2dOnP6+XKFwE9nSCME9B2sGhT25NbaYowFoXPQbce/88ve96i3eTrnXB6XW3eD4v9fa/zh5MA3UikUr+IxWOvzyTC56JbDf6xApoPcLhYPFMqle+r6jnjCnS7O5B2NZfwbaA9bW16RggaIwnthNdm1+f19sQqq9VtYBb/RpPGGz/STeutCrRhWLPsT2Xzl2dTsZHHOXd7hrGaFHof5vDhw2cCoIAfwkEbRw292uDYsFOrkWl60OYm6HZJnkDTrUZzxZ7PyLpoj9N0oTlDeXB5ne5Lv5q6E9CqujuTyTxx2Mcb+4V3fWjow4fPVNXvOY5z7noC+qiGETkKojdOxU4sbcwINbEF1i7B232MQWjoVtu3AXjyhg0b+jomoh9Ae713/EyOdQ70qlqntWLp1bjtJsWx+ItjHwi/MKymoVtvjNtF5OIIaL+SXMN1NDnWs4Zeg0j6viUCum8Rrr2CCOi1y67TnRHQwcvUd40R0P5E1ckkWe3uCGh/Mh3IVRHQx8Tq9VF7hW33S3qD9u2Ju6t5PiKgB4Kqv0ojoJtysnsTuUhjs0HxZ5vkht/tRgT+nauS/KK/2u68sfXY0Fd+EGyimWhS6I/Hvq/qBnR7KrC+GwxpBTQp6J/m1i5u6SKM9E1z+5eN1famEibElA2BtXEkNhur3YUTAT2Cwe4ENAfYGz46gq4NvUn6ogk0tSmhZCgtzQfKwrvZwQbve39PWXGJ3Qb02zhyws5VykhDD2k4OwHN5plXo1MqsCF1b6jNEFCuGu7du9d9bpoZ/D8LgeUXAefvvfsFvauRTFfG+GerrSOTY6hDCGqkE/zQfM1y8LgsbJd8/S77Drn7gTZnt0/ZfY40PQgoZcAYbG7QtRqbv6OtTJhpR/Neyoubf/l/RgBSy9tUYJGGDnSoOlfWDrTdgpXP53VyclLscvGQujPyZggmYzhuvfVWd/MAoeYXNTXTJ9i3FoOceB3NDILM3zNFg90/uLS0pMvLy+LdgmWMiVYKBz3CXqDZFoEuFApKzZJMJsVvKrBB93NY9RNoTgJpdti8edTG9GjQHqbG5oecmprfGfREjcy/2dx6NDeq1aryTZfL5cSmAouAHsIotgGtc3Nz2mg0zOTkZIzx0qeCqdEuZkJNO/nOO+90tbLd5uV10RFaauctW7a4MHtzg7RirXVpaakRi8WcjRs3MsaHyiHS0INm2gItIoy2M0tLS1VjTCyZTMZPZaApd0JtTTCvvUyQ+QbzuuvaA5246bVardYdx2lMTk4mma9bVSOghwk01xcajQbPxmMSuWYiuVO82Bwb1vTyuup8pB9riAi1dIIaOgJ6CDB5NTSbcxwqEh27MNhBicpu1fLWb7WxH3OMmtoYZsl1VyMjDT2ogbL1tgM96PZO5fojoIcw+m02dM0Yc4+IHKA9PSJN7ahKknlumNua5yyKCM0fd2LV/OI3+xbhge7ume78x/1S1QaAOnMsG4MazVlmIBuCOI82Qc3cspu3OI7zYD5LBPQQRqBNQy+o6rsB3JhOp+tDaP6EJorFotjSTGDaLK0Lj5pC9nekxlNJk+xW8fyo2WzWe91QHq1cLscBPFtE3glgJgJ6CGJv09DzjUbjTbOzs9dzMjOE5td1E5xcz8/PvyQWi31QVWcjoIcw3O0a2nGctx46dOi6Xbt2VYbQ/LpuYvfu3alNmzZdaozheZGRhh7GaNs0BoCbM3oBwNtmZmZCnW9tGHIJog1VTS0sLFwG4H0EGkC06zsIwZ6sjoWFhQcZY74nIjxCmUC/fWZm5jNhTiA4aJkEVX8L6JcBeG9LQ9/hOM7FMzMze4NqY9D1jJ3/dnFxcYeq/lBVdwBYMsZcOTs7+0kR4fG8UelDAqqanp+ff4XjOFcxf42I7BGRi6anp/f0Ue1Qbx07oOfn57c7jvNVY8x5IjInIu+Zm5v7XGRD988NbeiNGze+WFXfoaobHcf5vTHmObOzs/v6r304Nfw/HIsmFH7cB7UAAAAASUVORK5CYII="},"w/Ui":function(e,t){},wD6v:function(e,t){},wwEc:function(e,t){},xg5U:function(e,t){},xoIW:function(e,t){},xvgU:function(e,t){},yqqR:function(e,t){},zIyC:function(e,t){},zUid:function(e,t){},znSQ:function(e,t){}},[0]);